{"version":3,"sources":["utils/jsonDecoder.js","asset/hysia-ads.png","asset/hysia logo.png","asset/hysia-small.svg","registerServiceWorker.js","routes/wrapper.js","routes/RouteWrapper.js","components/common/app/PageNotFound.js","constants/actionTypes.js","redux/actions/resource.js","components/dashboard/resource/Charts.js","components/dashboard/resource/Cpu.js","components/common/HeaderPlaceholder.js","components/common/RightNavigation.js","components/dashboard/resource/Summary.js","components/dashboard/resource/ResourceManagement.js","components/dashboard/resource/index.js","components/common/app/Sidebar.js","components/dashboard/common/Sidebar.js","components/dashboard/common/layout.js","components/dashboard/index.js","components/common/Button.js","components/common/overlay/PlayOverlay.js","components/common/CardMenu.js","components/dashboard/video/VideoItemCard.js","components/dashboard/video/VideoManagement.js","utils/utils.js","utils/httpRequest.js","redux/actions/video/get.js","redux/actions/video/post.js","redux/actions/video/update.js","redux/actions/video/delete.js","components/dashboard/video/index.js","redux/actions/model/get.js","components/common/Link.js","components/dashboard/video/UploadCard.js","components/dashboard/video/ContainerUploadCard.js","components/common/Snackbar.js","components/dashboard/video/MessageBars.js","components/dashboard/video/urls.js","components/dashboard/user/UserSidebar.js","components/dashboard/user/UserDisplay.js","components/dashboard/user/formComponent/Groups.js","components/dashboard/user/formComponent/PermissionControl.js","components/dashboard/user/formComponent/Name.js","components/dashboard/user/UserEdit.js","components/dashboard/user/formComponent/Username.js","components/dashboard/user/formComponent/Password.js","components/dashboard/user/UserNew.js","components/common/MountTransition.js","components/dashboard/user/UserManagement.js","redux/actions/user/get.js","redux/actions/user/delete.js","redux/actions/user/post.js","redux/actions/user/update.js","components/dashboard/user/index.js","components/dashboard/user/MessageBars.js","components/dashboard/user/urls.js","components/dashboard/watch/results/common/DetectionTable.js","components/dashboard/watch/results/visual/DetectionCard.js","components/dashboard/common/player/DetectionBox.js","components/dashboard/common/player/Ad.js","components/dashboard/common/player/Player.js","components/dashboard/watch/AudioCard.js","components/dashboard/watch/results/audio/DetectionCard.js","components/common/RoundCornerAvatar.js","components/dashboard/watch/results/statistics/StatisticsCard.js","components/dashboard/watch/WatchApp.js","components/dashboard/watch/index.js","redux/actions/video/other.js","routes/RedirectWrapper.js","components/dashboard/model/ModelCard.js","components/dashboard/model/ModelManagement.js","components/dashboard/model/index.js","components/common/IconTypography.js","components/dashboard/model/ModelDetails.js","redux/actions/model/delete.js","components/dashboard/model/ContainerModelDetails.js","redux/actions/model/post.js","components/common/Form.js","components/common/RequiredField.js","components/dashboard/model/ModelNew.js","components/dashboard/model/ContainerModelNew.js","components/dashboard/model/MessageBars.js","components/dashboard/model/urls.js","redux/actions/product/post.js","components/common/CollapseGrow.js","components/dashboard/productSearch/search/NewSearchPaper.js","components/dashboard/productSearch/search/SearchPaper.js","components/dashboard/productSearch/ContainerSearchPaper.js","components/dashboard/productSearch/InsertionPointPaper.js","components/dashboard/productSearch/ContainerInsertionPointPaper.js","components/dashboard/productSearch/index.js","components/dashboard/productSearch/MessageBars.js","components/dashboard/productSearch/urls.js","components/dashboard/urls.js","components/home/HysiaTitle.js","components/common/app/Footer.js","components/home/index.js","components/common/app/Login.js","components/common/app/Header.js","urls.js","redux/reducers/dashboard.js","redux/reducers/utils.js","redux/reducers/video/video.js","redux/reducers/model/model.js","redux/reducers/user/user.js","redux/reducers/product/product.js","redux/reducers/index.js","redux/store/configStore.js","JssRegistry.js","index.js"],"names":["type","classifyResultByType","result","resultCopy","forEach","key","model","typeCopy","push","Object","_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","decodeVideoListJson","data","map","video","id","toString","name","cover","processed","isProcessing","being_processed","decodeProductJson","arguments","length","undefined","sort","x","y","start_time","product","poster","product_path","start","end","end_time","decodeVisual","initValue","text_bboxes","scene","score","num_detections","detection_boxes","detection_scores","detection_classes_names","face_bboxes","face_names","frameKeyToModelType","modelTypes","transpose","visual","retVal","_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","Array","keys","i","row","decodeBox","box","y1","x1","y2","x2","decodeObject","frame","index","decodeFace","replace","decodeText","decodeScene","_i","_Object$entries","entries","_ref3","_ref2","_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","k","v","_frame","_type","eval","concat","charAt","toUpperCase","slice","decodeAudio","labels","scores","decodeStatistics","cur_scene_statistics","start_frame","end_frame","results","appearance","decodeResultJson","audio","statistics","decodeSingleVideoJson","url","audio_url","pic","totalFrame","frame_cnt","models","products","decodeUserListJson","username","localeCompare","user","first_name","last_name","filter","join","firstName","lastName","email","groups","accountType","is_superuser","domain","is_staff","status","is_active","decodeModelListJson","decodeSingleModelJson","decodeSceneSearchJson","TV_NAME","clip","SCENE_ID","IMAGE","START_TIME","END_TIME","price","HIGHEST_PRICE","decodeBiddingJson","scene_id","module","exports","__webpack_require__","p","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","wrapper","Compo","_ref","_path","path","from","to","Component","component","rest","objectWithoutProperties","refToAbsolute","appRoot","react_default","a","createElement","assign","render","props","RouteWrapper","Route","objectSpread","propTypes","PropTypes","exact","strict","sensitive","PageNotFound","Typography","variant","align","DSH_REQUEST_STATISTICS","DSH_RECEIVE_STATISTICS","VIDEO_GET_LIST_REQUEST","VIDEO_GET_LIST_RECEIVE","VIDEO_GET_SINGLE_REQUEST","VIDEO_GET_SINGLE_RECEIVE","VIDEO_UPLOAD_REQUEST","VIDEO_UPLOAD_RECEIVE","VIDEO_DELETE_REQUEST","VIDEO_DELETE_RECEIVE","VIDEO_UPDATE_REQUEST","VIDEO_UPDATE_RECEIVE","VIDEO_CLEAR","MODEL_GET_LIST_REQUEST","MODEL_GET_LIST_RECEIVE","MODEL_GET_SINGLE_REQUEST","MODEL_GET_SINGLE_RECEIVE","MODEL_GET_DEFAULT_LIST_REQUEST","MODEL_GET_DEFAULT_LIST_RECEIVE","MODEL_POST_REQUEST","MODEL_POST_RECEIVE","MODEL_DELETE_REQUEST","MODEL_DELETE_RECEIVE","counter","DSH_getStatistics","dispatch","newData","time","resource","CPU1","Math","random","CPU2","CPU3","CPU4","CPU5","CPU6","CPU7","CPU8","Memory1","Disk","Network","GPU","autoGenerateData","hasOwnProperty","dataArray","item","splice","receivedAt","Date","now","commonProps","margin","top","bottom","left","colors","xScale","min","yScale","stacked","max","enableArea","animate","isInteractive","enableDots","Chart","_this$props","this","classes","_this$props$injection","injection","Typography_default","className","root","line","responsiveLine","React","withStyles","height","marginBottom","@media (max-width: 840px)","@media (max-width: 600px)","border","axisLeft","orient","tickSize","tickPadding","legendOffset","legendPosition","legend","axisBottom","Cpu","anchorEl","isOverall","utilization","handleClick","event","_this","setState","currentTarget","handleClose","_this2","_interval","setInterval","overall","round","clearInterval","_this3","_this$state","innerWidth","legends","Grid_default","container","alignItems","spacing","xs","Charts","cpu","sm","md","lg","xl","Typography_Typography_default","Button_default","aria-owns","aria-haspopup","onClick","Menu_default","open","onClose","MenuItem_default","flexGrow","minWidth","theme","toolbar","mixins","drawer","flexShrink","drawerRoot","titleRoot","paddingTop","paddingBottom","drawerPaper","chart","children","Drawer_default","anchor","PaperProps","paper","HeaderPlaceholder","CssBaseline_default","enableGridX","enableGridY","resources","width","common_RightNavigation","Divider_default","List_default","text","ListItem_default","button","ListItemText_default","primary","ResourceManagement","interval","fetchStatistics","Fragment","resource_Cpu","CPU","summary","resource_Summary","PureComponent","connect","dashboard","backgroundColor","palette","grey","sidebarList","currentPath","List_List_default","selected","color","ListItem_ListItem_default","es_Link","disabled","cloneElement","primaryTypographyProps","noWrap","Divider_Divider_default","styles","sidebar","sidebarPaper","app_Sidebar","HomeRounded_default","VideoLibraryRounded_default","PeopleRounded_default","ViewModuleRounded_default","Icon_default","display","grow","DashboardApp","common_Sidebar","dashboard_resource","propTyps","isRequired","borderRadius","shape","buttonBorderRadius","core_Button_default","overlay","position","opacity","transition","transitions","create","duration","shortest","&:hover","overlayIcon","marginRight","unit","core_Grid_default","direction","justify","style","PlayArrowRounded_default","CardMenu","handleToggle","e","contains","target","mapFontSizeToVariant","fontSize","_this$props$menuItems","menuItems","_this$props$fontSize","_this$props$disable","disable","dense","IconButton_default","classNames","defineProperty","buttonMenuOpen","buttonRef","node","MoreVert_default","Popper_default","disablePortal","zIndex","TransitionProps","placement","Grow_default","transformOrigin","Paper_default","ClickAwayListener_default","onClickAway","MenuList_default","core_MenuItem_default","action","href","isValidElement","VideoItemCard","deleteDialog","history","handleDelete","description","handleProcess","Card_default","card","flat","cardPaper","react_router_dom_Route_default","CardActionArea_default","CardMedia","imgCard","src","alt","overflow","CardHeader_default","common_CardMenu","moreButton","moreButtonShow","title","subheader","Dialog_default","dialogPaper","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","common_Button","defaultProps","PlayOverlay","boxShadow","background","textDecoration","padding","&:not(:hover)","VideoManagement","handleDeleteVideo","handleFetchVideos","handleProcessVideo","_this$props2","_this$props3","videos","Fade_default","in","video_VideoItemCard","isEmpty","object","secondToHMS","s","day","floor","str","toISOString","substr","startsWith","stringToColour","hash","charCodeAt","colour","emptyFunction","getCookie","parts","document","cookie","split","pop","shift","xmlHttpRequest","method","jsonDecoder","request","receiveSuccess","receiveFailure","progressListener","_ref$formData","formData","json","xmlReq","XMLHttpRequest","onreadystatechange","readyState","JSON","parse","responseText","statusText","send","get","onProgress","lengthComputable","loaded","total","xhr","withCredentials","onload","setRequestHeader","onprogress","post","temp1","patch","del","String","prototype","hashCode","requestGetList","receiveGetListFailure","reason","VIDEOgetList","successCallback","receiveGetListSuccess","requestGetSingle","receiveGetSingleSuccess","update","receiveGetSingleFailure","requestPost","VIDEO_upload","file","process","_ref$loadListener","loadListener","_ref$errorListener","errorListener","abortListener","FormData","append","values","modelName","reduce","receivePost_Success","receivePost_Failure","abort","requestUpdate","receiveUpdate_Failure","VIDEO_update","receiveUpdate_Success","requestDelete","receiveDelete_Failure","VIDEO_delete","receiveDelete_Success","videoList","receiveGetList_Failure","MODEL_getList","receiveGetList_Success","requestGetDefaultList","receiveGetDefaultList_Failure","MODEL_getDefaultList","receiveGetDefaultList_Success","requestGetSingle_Success","requestGetSingle_Failure","aUnderline","aResponsive","Link2","_classNames","isRouter","_ref$to","_ref$variant","_ref$color","_ref$paragraph","paragraph","_ref$noWrap","_ref$animation","animation","test","Link_default","Link_Link2","types","UploadCard","files","advanced","formLock","modelMutex","defaultModelMutex","handleChange","checked","handleChangeModel","handleClickUploadBtn","pond","processFiles","handleUpload","_1","metadata","postVideo","fetchModelList","fetchDefaultModelList","prevProps","prevState","snapshot","defaultModels","_this$state2","some","_model","_this$state3","Card_Card","common_Link","Close_default","CardContent","react_filepond","ref","allowMultiple","instantUpload","server","maxFiles","fileRenameFunction","Promise","resolve","prompt","onupdatefiles","fileItems","fileItem","acceptedFileTypes","onprocessfilestart","onprocessfile","FormControl_default","FormControlLabel","control","Checkbox_default","onChange","value","label","Collapse_default","timeout","unmountOnExit","gutterBottom","modelSelectionGrid","Switch_Switch","maxWidth","roundCardAction","upload","uploadDragover","uploadInput","cursor","formRoot","&:last-child","metaData","validStates","variantIcon","success","CheckIcon","failure","ErrorIcon","Snackbar","nextProps","nextState","nextContext","includes","message","other","Icon","toLowerCase","Icon_","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContent_default","aria-describedby","icon","iconVariant","core_IconButton_default","aria-label","close","CloseRounded_default","green","dark","deleteState","deleteVideo","updateState","updateVideo","common_Snackbar","react_router_Switch_default","video_MessageBars","UserSidebar","nameList","currentUser","newUser","handleNewUser","Drawer_Drawer","elevation","core_CssBaseline_default","CardHeader_CardHeader","IconButton_IconButton","AddRounded_default","core_ListItemText_default","inset","ListItemAvatar","Avatar","header","section","sectionInner","cardGridBg","cardGridSm","avatar","handleEdit","CardContent_default","Avatar_default","Groups","groupOn","validation","handleUpdateValidation","_groups","toConsumableArray","handleAddGroup","handleOnDrop","handleDropGroup","_this$props4","group","onExited","core_Grow_default","TextField_default","textField","onBlur","fullWidth","SelectionTextField","select","option","PermissionControl","validate","temp","PermissionControl_SelectionTextField","helperText","Name","required","UserEdit","permissionControl","child","createRef","collectValidation","_state","handleSubmit","current","every","handleDone","handleCancel","_validation","formComponent_Name","innerRef","TextField","formComponent_Groups","callback","formComponent_PermissionControl","Username","messages","Password","showPassword","code","_arr","InputProps","endAdornment","InputAdornment_default","VisibilityRounded_default","VisibilityOffRounded_default","UserNew","password","_password","formComponent_Username","formComponent_Password","MountTransition","mount","handleIn","handleOnExit","handleOnExited","Transition","_in","UserManagement","edit","handleOnCreateUser","handleCreateUser","fetchUserList","handleUpdateUser","handleDeleteUser","handleFormCloseFactory","users","findIndex","user_UserSidebar","detail","common_MountTransition","Grow","user_UserNew","cardHeader","Fade","exit","user_UserEdit","user_UserDisplay","marginLeft","marginTop","&:first-child","&: first-child","flex","usersToNameList","cat","requestLogout","receiveLogout_Failure","requestCreate","receiveCreate_Failure","userList","receiveCreate_Success","USER_create","USER_update","USER_delete","newState","userNew","userUpdate","userDelete","user_MessageBars","DetectionTable","rows","Table_default","table","TableHead_default","TableRow_default","TableCell_default","TableBody_default","scope","DetectionCard","tab","handleTabChange","AppBar_default","core_index_es","FormControlLabel_default","core_Switch_default","ExportVariant_default","common_DetectionTable","appBar","Tabs_default","indicatorColor","textColor","Tab_default","smallTab","Cube_default","FaceRounded_default","TextFormatRounded_default","LocalMoviesRounded_default","face","flexDirection","DetectionBox","boxes","on","selectors","selector","borderColor","right","ReactDom","querySelector","secondary","main","boxSizing","Ad","handleOpenAd","ad","focus","Grow_Grow","content","backgroundImage","require","buttonContainer","buttonRoot","secondaryMain","backgroundSize","Player","load","selfDom","getProgress","dp","currentTime","handleUpdateFrame","handleUpdateParentState","handleUpdateTime","handleUpdateEvent","events","handleResize","clientHeight","_interval2","onresize","DPlayer","getElementById","detectionBoxRoot","setAttribute","insertBefore","play","progress","paused","boxOn","ads","player_DetectionBox","player_Ad","primaryColor","secondaryColor","AudioCard","wavesurfer","WaveSurfer","waveColor","progressColor","barWidth","normalize","scrollParent","hideScrollbar","onReady","handleSync","setMute","seekAndCenter","pause","clickable","pointerEvents","overflowY","core_AppBar_default","Toolbar_default","avatarSize","avatarBorderRadius","smallProps","mediumProps","largeProps","_ref$size","size","ModelCard","cardRoot","core_CardHeader_default","grid","common_RoundCornerAvatar","roundCornerAvatar","substring","SceneCard","scenes","sceneNum","textOverflow","StatisticsCard_ModelCard","StatisticsCard_SceneCard","WatchApp","handleResultToBoxes","_this$props$video$res","_result$visual","o","handleProductToAds","_this$props$video$pro","handleAudioWaveformLoaded","fetchVideoInfo","URLSearchParams","search","clearVideoInfo","allow","_video$result","audioUrl","_video$models","_result$visual2","_result$audio","audioResult","_result$statistics","player_Player","assert","bind","FormControl_FormControl","watch_AudioCard","detectionCardContainer","detectionContainer","aria-disabled","audio_DetectionCard","visual_DetectionCard","statistics_StatisticsCard","&[aria-disabled=true]","singleVideo","VIDEOgetSingle","RedirectWrapper","Redirect","maxHeight","divider","pathname","ModelManagement","Fade_Fade","es_Divider_Divider","model_ModelCard","leftIcon","rightIcon","_ref$iconPosition","iconPosition","textProps","iconProps","typography","ModelDetails","shareDialog","common_IconTypography","ShareIcon","handleDialog","DeleteIcon","deleteModel","fetchModel","params","developer","disableFocusRipple","disableRipple","snapshotContent","react_lorem_component_default","sentenceLowerBound","sentenceUpperBound","paragraphLowerBound","paragraphUpperBound","Dialog_Dialog","DialogTitle_DialogTitle","DialogContentText_DialogContentText","DialogActions_DialogActions","overflowX","flexWrap","MODEL_delete","singleModel","MODEL_getSingle","MODEL_create","Form","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSubmitWrapper","freeze","constructor","TypeError","RequiredField","_value","Children","toArray","bindingChange","_React$Children$toArr","_children","strictEqual","element","_React$cloneElement","modelType","ModelNew","handleDoneWrapper","handleCreate","common_RequiredField","SelectProps","MenuProps","menu","items","Route_default","newModel","model_MessageBars","requestSearch","receiveSearchSuccess","receiveSearchFailure","requestInsert","receiveInsertSuccess","receiveInsertFailure","receiveBiddingFailure","CollapseGrow","nameToState","Product Image","Face Image","Search From","SearchPaper","textContent","imageContent","faceContent","videoContent","imageRef","faceRef","popupComponentMapper","NewSearchPaper_FileUploader","fileList","updateList","handleFileChange","NewSearchPaper_VideoList","videoListRoot","updateSelection","handleVideoContentChange","handleTextChange","indexOf","handleSearch","img","handleGetVideoList","tools","core_Popper_default","core_ClickAwayListener_default","FileUploader","oninit","addFiles","VideoList","FormLabel_default","FormGroup_default","FormHelperText_default","core_Link_default","finish","iconButton","userSelect","&:active *","outline","withTheme","textDisplay","imgContent","imageDisplay","faceDisplay","image","handleContentChange","common_CollapseGrow","sceneContent","placeholder","multiline","minHeight","PRODsearch","InsertionPointPaper","bidPrice","handleUpdatePrice","handleBid","socket","stringify","item_id","websocketOnMessage","wsPath","protocol","host","ReconnectingWebSocket","onmessage","handleInsert","videoGrid","CardMedia_default","InputLabelProps","shrink","PRODinsert","msg_type","PRODinitBiddingWebsocket","ContainerSearchPaper","ContainerInsertionPointPaper","insertState","insert","searchState","AdInsertApp","productSearch_MessageBars","DashboardRouter","VideoRouter","UserRouter","ModelRouter","AdRouter","@media (min-width: 600px)","logo","h4","lineHeight","fontWeight","links","slicedToArray","link","footer","app_Footer","home_HysiaTitle","Login","handleLogout","reload","deleteCookie","objectDestructuringEmpty","PersonRounded_default","USER_logout","imgContainer","headerItem","fade","common","white","breakpoints","up","searchIcon","justifyContent","inputRoot","inputInput","paddingRight","paddingLeft","&:focus","aira-label","Search_default","InputBase_default","input","VideoCallRounded_default","app_Login","createBrowserHistory","default","Router_default","app_Header","Switch_default","HomeApp","initState","Memory","resourceClassifier","names","resourcesData","resourceData","resourceInstance","calculateOverAll","asyncReducer","receive","mappings","bidding","plugin","_action$data","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","generateClassName","createGenerateClassName","jss","plugins","jssPreset","jssNested","options","hysiaTheme","createMuiTheme","@media (min-width:0px) and (orientation: landscape)","@media (min-width:600px)","contrastText","useNextVariants","JssRegistry","JssProvider_default","core_styles","registerPlugin","FilePondPluginImagePreview","FilePondPluginFileRename","FilePondPluginFileValidateType","ReactDOM","src_JssRegistry","es","src_urls","URL","origin","addEventListener","fetch","response","headers","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.e8123db9.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\r\nconst type = ['OBJECT', 'TEXT', 'SCENE', 'FACE'];\r\n\r\nfunction classifyResultByType(result) {\r\n  const resultCopy = {};\r\n  type.forEach(key => {\r\n    resultCopy[key] = [];\r\n  });\r\n  result.forEach(model => {\r\n    const typeCopy = model.type;\r\n    resultCopy[typeCopy].push({ ...model });\r\n    delete resultCopy[typeCopy].type;\r\n  });\r\n\r\n  return resultCopy;\r\n}\r\n\r\nexport function decodeVideoListJson(data) {\r\n  return data.map(video => ({\r\n    id: video.id.toString(),\r\n    name: video.name,\r\n    cover: video.cover,\r\n    processed: video.processed,\r\n    isProcessing: video.being_processed,\r\n  }));\r\n}\r\n\r\nfunction decodeProductJson(data = []) {\r\n  return data\r\n    .sort((x, y) => x.start_time < y.start_time)\r\n    .map(product => ({\r\n      poster: product.product_path,\r\n      start: product.start_time / 1000,\r\n      end: product.end_time / 1000,\r\n    }));\r\n}\r\n\r\nfunction decodeVisual(data = []) {\r\n  const initValue = {\r\n    text_bboxes: [],\r\n    scene: [],\r\n    score: [],\r\n    num_detections: 0,\r\n    detection_boxes: [],\r\n    detection_scores: [],\r\n    detection_classes_names: [],\r\n    face_bboxes: [],\r\n    face_names: [],\r\n  };\r\n\r\n  const frameKeyToModelType = {\r\n    detection_boxes: 'object',\r\n    face_bboxes: 'face',\r\n    text_bboxes: 'text',\r\n    scene: 'scene',\r\n  };\r\n\r\n  const modelTypes = [];\r\n\r\n  function transpose(visual) {\r\n    const retVal = {};\r\n    [...Array(3).keys()].forEach(i => {\r\n      retVal[modelTypes[i]] = visual.map(row => row[i]);\r\n    });\r\n    return retVal;\r\n  }\r\n\r\n  function decodeBox(box) {\r\n    return { y1: box[0], x1: box[1], y2: box[2], x2: box[3] };\r\n  }\r\n\r\n  // noinspection JSUnusedLocalSymbols\r\n  function decodeObject(frame) {\r\n    return [...Array(frame.num_detections).keys()].map(index => ({\r\n      ...decodeBox(frame.detection_boxes[index]),\r\n      score: frame.detection_scores[index],\r\n      name: frame.detection_classes_names[index],\r\n    }));\r\n  }\r\n\r\n  // noinspection JSUnusedLocalSymbols\r\n  function decodeFace(frame) {\r\n    return frame.face_bboxes.map((box, index) => ({\r\n      ...decodeBox(box),\r\n      name: frame.face_names[index].replace('_', ' '),\r\n    }));\r\n  }\r\n\r\n  // noinspection JSUnusedLocalSymbols\r\n  function decodeText(frame) {\r\n    return (\r\n      frame.text_bboxes.map(box => ({\r\n        ...decodeBox(box),\r\n        name: 'text',\r\n      })) || []\r\n    );\r\n  }\r\n\r\n  // noinspection JSUnusedLocalSymbols\r\n  function decodeScene(frame) {\r\n    return (\r\n      frame.scene.map((scene, index) => ({\r\n        name: scene.replace('_', ' '),\r\n        score: frame.score[index],\r\n      })) || []\r\n    );\r\n  }\r\n\r\n  const frame = data[0];\r\n  if (frame) {\r\n    for (const [k, v] of Object.entries(frameKeyToModelType))\r\n      if (frame[k]) modelTypes.push(v);\r\n  }\r\n\r\n  return transpose(\r\n    data.map(_frame => {\r\n      Object.keys(initValue).forEach(key => {\r\n        if (!_frame[key]) _frame[key] = initValue[key];\r\n      });\r\n\r\n      return modelTypes.map(_type =>\r\n        // eslint-disable-next-line no-eval\r\n        eval(`decode${_type.charAt(0).toUpperCase() + _type.slice(1)}`)(_frame),\r\n      );\r\n    }),\r\n  );\r\n}\r\n\r\nfunction decodeAudio(data = []) {\r\n  return data.map(frame =>\r\n    frame.labels.map((key, index) => ({\r\n      name: key,\r\n      score: frame.scores[index],\r\n    })),\r\n  );\r\n}\r\n\r\nfunction decodeStatistics(data = []) {\r\n  return data.map(scene => {\r\n    const result = scene.cur_scene_statistics;\r\n\r\n    return {\r\n      start: scene.start_frame,\r\n      end: scene.end_frame,\r\n      results: Object.keys(result).map(key => {\r\n        return {\r\n          name: key,\r\n          appearance: result[key],\r\n        };\r\n      }),\r\n    };\r\n  });\r\n}\r\n\r\nfunction decodeResultJson(data) {\r\n  return {\r\n    visual: decodeVisual(data.visual),\r\n    audio: decodeAudio(data.audio),\r\n    statistics: decodeStatistics(data.statistics),\r\n  };\r\n}\r\n\r\nexport function decodeSingleVideoJson(data) {\r\n  return {\r\n    url: data.url,\r\n    audio: data.audio_url,\r\n    pic: data.pic,\r\n    processed: data.processed,\r\n    isProcessing: data.being_processed,\r\n    totalFrame: data.frame_cnt,\r\n    models: data.models,\r\n    result: decodeResultJson(data.result),\r\n    products: decodeProductJson(data.products),\r\n  };\r\n}\r\n\r\nexport function decodeUserListJson(data) {\r\n  data.sort((x, y) => x.username.localeCompare(y.username));\r\n  return data.map(user => ({\r\n    id: user.id,\r\n    username: user.username,\r\n    name: [user.first_name, user.last_name]\r\n      .filter(i => i !== undefined)\r\n      .join(' '),\r\n    firstName: user.first_name,\r\n    lastName: user.last_name,\r\n    email: user.email,\r\n    groups: user.groups,\r\n    accountType: user.is_superuser ? 'Administrator' : 'User',\r\n    domain: user.is_staff ? 'Staff' : 'Public',\r\n    status: user.is_active ? 'Activated' : 'Not Activated',\r\n  }));\r\n}\r\n\r\nexport function decodeModelListJson(data) {\r\n  return classifyResultByType(data);\r\n}\r\n\r\nexport function decodeSingleModelJson(data) {\r\n  return {\r\n    id: data.id,\r\n    name: data.name,\r\n    type: data.type,\r\n  };\r\n}\r\n\r\nexport function decodeSceneSearchJson(data) {\r\n  const result = {};\r\n\r\n  data.forEach(video => {\r\n    result[video[0].TV_NAME] = video.map(clip => ({\r\n      id: clip.SCENE_ID,\r\n      cover: clip.IMAGE,\r\n      start: clip.START_TIME / 1000,\r\n      end: clip.END_TIME / 1000,\r\n      price: clip.HIGHEST_PRICE,\r\n      name: clip.TV_NAME,\r\n    }));\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nexport function decodeBiddingJson(data) {\r\n  return {\r\n    id: data.scene_id,\r\n    price: data.price,\r\n  };\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/hysia-ads.8bb13783.png\";","module.exports = __webpack_public_path__ + \"static/media/hysia logo.8983f892.png\";","module.exports = __webpack_public_path__ + \"static/media/hysia-small.bd458e29.svg\";","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. DetectObjectList is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport path from \"path\";\r\n\r\n/**\r\n * route wrapper function. It dynamically determines current app root. Need to be executed only when its parent\r\n * Component is mounted.\r\n * {@code\r\n * <Switch>\r\n *     {RouteWrapper(props)}\r\n * </Switch>\r\n * }\r\n * Cannot statically loaded: {@code const router = ({RouteWrapper(props)});}, the generated Router components will not\r\n * show correct path.\r\n * @param Component react-router Component, one of <Router/>, <Redirect/>\r\n * @param Compo rendered Component when the path is matched\r\n * @param path: current url/path\r\n * @param rest other props, {@see RouteWrapper.propTypes}\r\n * @returns {*}\r\n * @constructor null\r\n */\r\nexport default function wrapper(Compo, {path: _path, from, to, component: Component, ...rest}) {\r\n    function render(props) {\r\n        window.appRoot = props.match.path;\r\n        return Component ? <Component {...props}/> : null;\r\n    }\r\n\r\n    function refToAbsolute(_path) {\r\n        return _path ? path.join(window.appRoot || \"/\", _path) : undefined;\r\n    }\r\n\r\n    _path = refToAbsolute(_path);\r\n    from = refToAbsolute(from);\r\n    to = refToAbsolute(to);\r\n    return <Compo {...rest} path={_path} from={from} to={to} render={render}/>\r\n}\r\n","import * as PropTypes from \"prop-types\";\r\nimport Route from \"react-router/Route\";\r\nimport wrapper from \"./wrapper\";\r\n\r\nfunction RouteWrapper({path, ...rest}) {\r\n    return wrapper(Route, {path: path, ...rest});\r\n}\r\n\r\nRouteWrapper.propTypes = {\r\n    path: PropTypes.string,\r\n    exact: PropTypes.bool,\r\n    strict: PropTypes.bool,\r\n    sensitive: PropTypes.bool,\r\n    component: PropTypes.func,\r\n    render: PropTypes.func,\r\n};\r\n\r\nexport default RouteWrapper;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\n\r\nconst PageNotFound = () => (\r\n    <Typography variant={\"h1\"} align={\"center\"}>\r\n        Oops, 404.\r\n    </Typography>\r\n);\r\n\r\nexport default PageNotFound;\r\n","export const DSH_REQUEST_STATISTICS = 'DSH_REQUEST_STATISTICS';\r\nexport const DSH_RECEIVE_STATISTICS = 'DSH_RECEIVE_STATISTICS';\r\nexport const VIDEO_GET_LIST_REQUEST = 'VIDEO_GET_LIST_REQUEST';\r\nexport const VIDEO_GET_LIST_RECEIVE = 'VIDEO_GET_LIST_RECEIVE';\r\nexport const VIDEO_GET_SINGLE_REQUEST = 'VIDEO_GET_SINGLE_REQUEST';\r\nexport const VIDEO_GET_SINGLE_RECEIVE = 'VIDEO_GET_SINGLE_RECEIVE';\r\nexport const VIDEO_UPLOAD_REQUEST = 'VIDEO_UPLOAD_REQUEST';\r\nexport const VIDEO_UPLOAD_RECEIVE = 'VIDEO_UPLOAD_RECEIVE';\r\nexport const VIDEO_DELETE_REQUEST = 'VIDEO_DELETE_REQUEST';\r\nexport const VIDEO_DELETE_RECEIVE = 'VIDEO_DELETE_RECEIVE';\r\nexport const VIDEO_UPDATE_REQUEST = 'VIDEO_UPDATE_REQUEST';\r\nexport const VIDEO_UPDATE_RECEIVE = 'VIDEO_UPDATE_RECEIVE';\r\nexport const VIDEO_CLEAR = 'VIDEO_CLEAR';\r\nexport const USER_GET_LIST_REQUEST = 'USER_GET_LIST_REQUEST';\r\nexport const USER_GET_LIST_RECEIVE = 'USER_GET_LIST_RECEIVE';\r\nexport const USER_POST_REQUEST = 'USER_POST_REQUEST';\r\nexport const USER_POST_RECEIVE = 'USER_POST_RECEIVE';\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_RECEIVE = 'USER_UPDATE_RECEIVE';\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_RECEIVE = 'USER_DELETE_RECEIVE';\r\nexport const USER_LOGOUT_REQUEST = 'USER_LOGOUT_REQUEST';\r\nexport const USER_LOGOUT_RECEIVE = 'USER_LOGOUT_RECEIVE';\r\nexport const MODEL_GET_LIST_REQUEST = 'MODEL_GET_LIST_REQUEST';\r\nexport const MODEL_GET_LIST_RECEIVE = 'MODEL_GET_LIST_RECEIVE';\r\nexport const MODEL_GET_SINGLE_REQUEST = 'MODEL_GET_SINGLE_REQUEST';\r\nexport const MODEL_GET_SINGLE_RECEIVE = 'MODEL_GET_SINGLE_RECEIVE';\r\nexport const MODEL_GET_DEFAULT_LIST_REQUEST = 'MODEL_GET_DEFAULT_LIST_REQUEST';\r\nexport const MODEL_GET_DEFAULT_LIST_RECEIVE = 'MODEL_GET_DEFAULT_LIST_RECEIVE';\r\nexport const MODEL_POST_REQUEST = 'MODEL_CREATE_REQUEST';\r\nexport const MODEL_POST_RECEIVE = 'MODEL_CREATE_RECEIVE';\r\nexport const MODEL_UPDATE_REQUEST = 'MODEL_UPDATE_REQUEST';\r\nexport const MODEL_UPDATE_RECEIVE = 'MODEL_UPDATE_RECEIVE';\r\nexport const MODEL_DELETE_REQUEST = 'MODEL_DELETE_REQUEST';\r\nexport const MODEL_DELETE_RECEIVE = 'MODEL_DELETE_RECEIVE';\r\nexport const PROD_SEARCH_REQUEST = 'PROD_SEARCH_REQUEST';\r\nexport const PROD_SEARCH_RECEIVE = 'PROD_SEARCH_RECEIVE';\r\nexport const PROD_INSERT_REQUEST = 'PROD_INSERT_REQUEST';\r\nexport const PROD_INSERT_RECEIVE = 'PROD_INSERT_RECEIVE';\r\nexport const PROD_BIDDING_REQUEST = 'PROD_BIDDING_REQUEST';\r\nexport const PROD_BIDDING_RECEIVE = 'PROD_BIDDING_RECEIVE';\r\n","import {DSH_RECEIVE_STATISTICS, DSH_REQUEST_STATISTICS} from \"../../constants/actionTypes\";\r\n\r\n// TODO: static data\r\nlet data = [];\r\nlet counter = 0;\r\n\r\nconst requestStatistics = () => ({\r\n    type: DSH_REQUEST_STATISTICS,\r\n});\r\n\r\nconst requestStatistics_Success = dataArray => ({\r\n    type: DSH_RECEIVE_STATISTICS,\r\n    status: 'SUCCESS',\r\n    dataArray: dataArray,\r\n    receivedAt: Date.now()\r\n});\r\n\r\nconst requestStatistics_Failure = error => ({\r\n    type: DSH_RECEIVE_STATISTICS,\r\n    status: 'FAILURE',\r\n    error: error\r\n});\r\n\r\nexport const DSH_getStatistics = () => {\r\n    return dispatch => {\r\n        dispatch(requestStatistics());\r\n        /** This is for result detection server */\r\n            // return fetch(`http://localhost:3000/path/to/result`)\r\n            //     .then(response => {\r\n            //         if (response.ok)\r\n            //             return {json: response.json(), status: 200};\r\n            //         else\r\n            //             throw new Error('something goes wrong');\r\n            //     })\r\n            //     .then(json => {\r\n            //         if (json.length === 0)\r\n            //             return dispatch(receiveResult_Failure('Fetch failure'));\r\n            //         newData = json;\r\n            //     })\r\n            //     .catch(error => dispatch(receiveResult_Failure(error)));\r\n\r\n        const newData = autoGenerateData();\r\n        if (data.length === 0) {  // build machine hardware info\r\n            for (let key in newData.resource) {\r\n                if (newData.resource.hasOwnProperty(key))\r\n                    data.push({id: key.toString(), data: []})\r\n            }\r\n        }\r\n\r\n        // map to data\r\n        let time = newData.time;\r\n        data.forEach(item => {\r\n            if (newData.resource.hasOwnProperty(item.id.toString())) {\r\n                item.data.push({\r\n                    x: time,\r\n                    y: newData.resource[item.id.toString()]\r\n                });\r\n                item.data.splice(0, item.data.length - 60);\r\n            }\r\n        });\r\n        return dispatch(requestStatistics_Success(data.slice()))\r\n    }\r\n};\r\n\r\nfunction autoGenerateData() {\r\n    const data = {\r\n        time: counter,\r\n        resource: {CPU1: Math.random(), CPU2: Math.random(), CPU3: Math.random(), CPU4: Math.random(),\r\n            CPU5: Math.random(), CPU6: Math.random(), CPU7: Math.random(), CPU8: Math.random(),\r\n        Memory1: Math.random() * 16,\r\n        Disk: Math.random() * 500,\r\n        Network: Math.random() * 1000,\r\n        GPU: Math.random(),\r\n    }};\r\n    counter += 0.5;\r\n    return data;\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {ResponsiveLine} from '@nivo/line';\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst styles = {\r\n    root: {\r\n        height: \"20rem\",\r\n        margin: 'auto',\r\n        marginBottom: '2rem',\r\n        '@media (max-width: 840px)': {\r\n            height: '16rem',\r\n        },\r\n        '@media (max-width: 600px)': {\r\n            height: \"10rem\"\r\n        }\r\n    },\r\n    responsiveLine: {\r\n        border: 1\r\n    }\r\n};\r\n\r\nconst commonProps = {\r\n    margin: {\"top\": 10, \"bottom\": 50, \"left\": 60},\r\n    colors: `red_yellow_blue`,\r\n    xScale: {\"type\": \"linear\", \"min\": \"auto\"},\r\n    yScale: {\"type\": \"linear\", \"stacked\": false, \"min\": 0, \"max\": 1},\r\n    enableArea: true,\r\n    animate: false,\r\n    isInteractive: false,\r\n    enableDots: false,\r\n};\r\n\r\nclass Chart extends React.Component {\r\n\r\n    render() {\r\n        const {classes, data, injection={}} = this.props;\r\n        return (\r\n            <Typography variant={\"h5\"} className={classes.root}>\r\n                <ResponsiveLine\r\n                    data={data}\r\n                    {...commonProps}\r\n                    {...injection}\r\n                    className={classes.responsiveLine}\r\n                />\r\n            </Typography>\r\n        )\r\n    }\r\n}\r\n\r\nChart.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    data: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired,\r\n    ).isRequired,\r\n    injection: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(Chart);\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Charts from \"./Charts\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\n\r\nconst styles = {\r\n    root: {\r\n        flexGrow: 1,\r\n        minWidth: 0,\r\n    },\r\n    overall: {\r\n        height: \"48rem\",\r\n        '@media (max-width: 840px)': {\r\n            height: '36rem',\r\n        },\r\n        '@media (max-width: 600px)': {\r\n            height: \"24rem\"\r\n        }\r\n    }\r\n};\r\n\r\nconst injection = {\r\n    axisLeft: {\r\n        orient: \"bottom\",\r\n        tickSize: 5,\r\n        tickPadding: 5,\r\n        legendOffset: -40,\r\n        legendPosition: \"middle\",\r\n        legend: \"CPU Utilization\",\r\n    },\r\n    axisBottom: {\r\n        orient: \"left\",\r\n        tickSize: 0,\r\n        legendOffset: 36,\r\n        legendPosition: \"middle\",\r\n        legend: \"time\",\r\n    },\r\n};\r\n\r\nclass Cpu extends React.Component {\r\n\r\n    state = {\r\n        anchorEl: null,\r\n        isOverall: true,\r\n        utilization: 0,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this._interval = setInterval(() => {\r\n            const {overall} = this.props;\r\n            this.setState({\r\n                utilization:\r\n                    overall.length === 0 ? 0 : Math.round(overall[0].data[overall[0].data.length - 1].y * 100)\r\n            })\r\n        }, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this._interval);\r\n    }\r\n\r\n    handleClick = event => {\r\n        this.setState({anchorEl: event.currentTarget});\r\n    };\r\n\r\n    handleClose = (isOverall) => {\r\n        this.setState({anchorEl: null, isOverall: isOverall});\r\n    };\r\n\r\n    render() {\r\n        const {classes, data, overall} = this.props;\r\n        const {anchorEl, isOverall, utilization} = this.state;\r\n\r\n        if (window.innerWidth < 840)\r\n            injection.legends = [];\r\n        else\r\n            delete injection.legends;\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <Grid container alignItems={'stretch'} spacing={24}>\r\n                    {isOverall ?\r\n                        <Grid item xs={12}>\r\n                            <Charts classes={{root: classes.overall}}\r\n                                    data={overall}\r\n                                    injection={injection}/>\r\n                        </Grid> :\r\n                        data.map((cpu, index) =>\r\n                            <Grid key={index} item sm={12} md={8} lg={3} xl={2}>\r\n                                <Charts\r\n                                    injection={injection}\r\n                                    data={[cpu]}/>\r\n                            </Grid>\r\n                        )\r\n                    }\r\n                </Grid>\r\n                <Grid>\r\n                    <Typography>Utilization: {utilization}%</Typography>\r\n                </Grid>\r\n                <div>\r\n                    <Button\r\n                        aria-owns={anchorEl ? \"display-mode-menu\" : undefined}\r\n                        aria-haspopup={\"true\"}\r\n                        onClick={this.handleClick}\r\n                    >\r\n                        {isOverall ? \"Overall\" : \"Logical Processors\"}\r\n                    </Button>\r\n                    <Menu\r\n                        id={\"display-mode-menu\"}\r\n                        anchorEl={anchorEl}\r\n                        open={Boolean(anchorEl)}\r\n                        onClose={this.handleClose}\r\n                    >\r\n                        <MenuItem onClick={() => this.handleClose(true)}>Overall</MenuItem>\r\n                        <MenuItem onClick={() => this.handleClose(false)}>Logical Processors</MenuItem>\r\n                    </Menu>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nCpu.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    data: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired,\r\n    ).isRequired,\r\n    overall: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired,\r\n    ).isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Cpu);\r\n","import React from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst styles = theme => ({\r\n    toolbar: theme.mixins.toolbar,\r\n});\r\n\r\nconst HeaderPlaceHolder = ({classes}) => (\r\n    <div className={classes.toolbar}/>\r\n);\r\n\r\nexport default withStyles(styles)(HeaderPlaceHolder);\r\n","import React from 'react';\r\nimport Drawer from \"@material-ui/core/Drawer/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport HeaderPlaceHolder from \"./HeaderPlaceholder\";\r\n\r\nconst styles = {\r\n    drawer: {\r\n        flexShrink: 0,\r\n    },\r\n    drawerRoot: {\r\n        border: 0,\r\n    },\r\n    titleRoot: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n    },\r\n    drawerPaper: {},\r\n    chart: {\r\n        height: '8rem',\r\n        marginBottom: '1rem',\r\n    }\r\n};\r\n\r\nconst RightNavigation = ({classes, children}) => (\r\n    <Drawer variant=\"permanent\"\r\n            anchor={\"right\"}\r\n            PaperProps={{classes: {root: classes.drawerRoot}}}\r\n            className={classes.drawer}\r\n            classes={{paper: classes.drawerPaper}}>\r\n        <HeaderPlaceHolder/>\r\n        <CssBaseline/>\r\n        {children}\r\n    </Drawer>\r\n);\r\n\r\nRightNavigation.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    children: PropTypes.node\r\n};\r\n\r\nexport default withStyles(styles)(RightNavigation);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText/ListItemText\";\r\nimport List from \"@material-ui/core/List\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Chart from \"./Charts\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport RightNavigation from \"../../common/RightNavigation\";\r\n\r\nconst drawerWidth = '15rem';\r\nconst drawerWidthSm = '8rem';\r\n\r\nconst styles = theme => ({\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        '@media (max-width: 600px)': {\r\n            width: drawerWidthSm,\r\n        },\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n        '@media (max-width: 600px)': {\r\n            width: drawerWidthSm\r\n        }\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n    chart: {\r\n        height: '3rem',\r\n        marginBottom: '1rem',\r\n    }\r\n});\r\n\r\nconst injection = {\r\n    margin: {bottom: 0},\r\n    axisLeft: null,\r\n    axisBottom: null,\r\n    enableGridX: false,\r\n    enableGridY: false,\r\n    yScale: {\"type\": \"linear\", \"stacked\": false, \"min\": 0, \"max\": 1},\r\n};\r\n\r\nconst resources = {\r\n    type: [\"CPU\", \"Memory\", \"Disk\", \"Network\", \"GPU\"],\r\n    colors: ['#A00036', '#F46D43', '#FEE08B', '#A6D96A', '#1A9850', '#41B6C4'],\r\n    max: [1, 16, \"auto\", \"auto\", \"auto\"],\r\n};\r\n\r\nconst Summary = ({classes, overall}) => (\r\n    <RightNavigation classes={{drawer: classes.drawer, drawerPaper: classes.drawerPaper}}>\r\n        <Divider/>\r\n        <List>\r\n            {resources.type.map((text, index) => (\r\n                <ListItem button key={text}>\r\n                    <Grid container spacing={16}>\r\n                        <Grid item xs={6}>\r\n                            <Chart data={overall[text] ? [overall[text]] : []}\r\n                                   classes={{root: classes.chart}}\r\n                                   injection={{...injection,\r\n                                       colors: resources.colors[index],\r\n                                       yScale: {...injection.yScale, max: resources.max[index]}}}/>\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                            <ListItemText primary={text}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </ListItem>\r\n            ))}\r\n        </List>\r\n        <Divider/>\r\n        <List>\r\n            {['Summary', 'Power'].map((text) => (\r\n                <ListItem button key={text}>\r\n                    <ListItemText primary={text}/>\r\n                </ListItem>\r\n            ))}\r\n        </List>\r\n    </RightNavigation>\r\n);\r\n\r\nSummary.propTypes = {\r\n    overall: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Summary);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Cpu from \"./Cpu\";\r\nimport Summary from \"./Summary\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst styles = {};\r\n\r\nclass ResourceManagement extends React.PureComponent {\r\n\r\n    componentWillMount() {\r\n        this.interval = setInterval(this.props.fetchStatistics, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    render() {\r\n        const {data} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Cpu data={data.CPU} overall={data.summary.CPU ? [data.summary.CPU] : []}/>\r\n                <Summary overall={data.summary}/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nResourceManagement.propTypes = {classes: PropTypes.object.isRequired};\r\n\r\nexport default withStyles(styles)(ResourceManagement);\r\n","import {connect} from 'react-redux';\r\nimport {DSH_getStatistics} from \"../../../redux/actions/resource\";\r\nimport ResourceManagement from \"./ResourceManagement\";\r\n\r\nconst mapStateToProps = state => ({\r\n    data: state.dashboard\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchStatistics: () => dispatch(DSH_getStatistics())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourceManagement);","import React from 'react';\r\nimport Drawer from \"@material-ui/core/Drawer/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\r\nimport List from \"@material-ui/core/List/List\";\r\nimport ListItem from \"@material-ui/core/ListItem/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider/Divider\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from \"react-router-dom\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport HeaderPlaceHolder from \"../HeaderPlaceholder\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexShrink: 0,\r\n    },\r\n    titleRoot: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n    },\r\n    drawerPaper: {\r\n        backgroundColor: theme.palette.grey[50],\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n});\r\n\r\nconst Sidebar = ({classes, sidebarList, currentPath}) => (\r\n    <Drawer variant=\"permanent\"\r\n            anchor=\"left\"\r\n            className={classes.root}\r\n            classes={{paper: classes.drawerPaper}}>\r\n        <HeaderPlaceHolder/>\r\n        <CssBaseline/>\r\n        <List>\r\n            {sidebarList.map((item) => {\r\n                const selected = item.url === currentPath;\r\n                const color = selected ? \"primary\" : null;\r\n\r\n                return (\r\n                    <ListItem key={item.name}\r\n                              component={props => <Link to={item.url} {...props}/>}\r\n                              selected={selected}\r\n                              disabled={item.disabled}\r\n                              button>\r\n                        {item.component ? React.cloneElement(item.component, {color: color || \"action\"}) : null}\r\n                        <ListItemText primary={item.name}\r\n                                      primaryTypographyProps={{\r\n                                          variant: \"subtitle2\",\r\n                                          noWrap: true,\r\n                                          color: color || \"default\",\r\n                                      }}/>\r\n                    </ListItem>)\r\n            })}\r\n        </List>\r\n        <Divider/>\r\n        <List>\r\n            {['Product Retrieval', 'Training Tracking', 'System Optimization'].map((text) => (\r\n                <ListItem button key={text} disabled>\r\n                    <ListItemText primary={text}\r\n                                  primaryTypographyProps={{\r\n                                      variant: \"subtitle2\",\r\n                                      noWrap: true,\r\n                                  }}/>\r\n                </ListItem>\r\n            ))}\r\n        </List>\r\n    </Drawer>\r\n);\r\n\r\nSidebar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Sidebar);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport HomeIcon from \"@material-ui/icons/HomeRounded\";\r\nimport VideoIcon from \"@material-ui/icons/VideoLibraryRounded\";\r\nimport PeopleIcon from \"@material-ui/icons/PeopleRounded\";\r\nimport ViewModuleIcon from \"@material-ui/icons/ViewModuleRounded\";\r\nimport OSidebar from \"../../common/app/Sidebar\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n\r\nconst sidebarWidth = \"240px\";\r\n\r\nconst styles = {\r\n    sidebar: {\r\n        width: `${sidebarWidth}`,\r\n    },\r\n    sidebarPaper: {\r\n        width: `${sidebarWidth}`,\r\n    }\r\n};\r\n\r\nconst Sidebar = ({classes, currentPath}) => (\r\n    <OSidebar classes={{root: classes.sidebar, drawerPaper: classes.sidebarPaper}}\r\n              sidebarList={[\r\n                  {name: \"Home\", component: <HomeIcon/>, url: '/dashboard/'},\r\n                  {name: \"Video\", component: <VideoIcon/>, url: '/dashboard/video'},\r\n                  {name: \"User\", component: <PeopleIcon/>, url: '/dashboard/user'},\r\n                  {name: \"Model\", component: <ViewModuleIcon/>, url: '/dashboard/model'},\r\n                  {name: \"Product Search\", component: <Icon className={\"fab fa-buysellads\"}/>, url: '/dashboard/ad'},\r\n              ]}\r\n              currentPath={currentPath}/>\r\n);\r\n\r\nSidebar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    currentPath: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Sidebar);\r\n","export const styles = {\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n};\r\n","import React from 'react';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport ResourceManagement from \"./resource\";\r\nimport Sidebar from \"./common/Sidebar\";\r\nimport {styles} from \"./common/layout\";\r\n\r\nconst DashboardApp = ({classes, match}) => (\r\n    <div className={classes.root}>\r\n        <Sidebar currentPath={match.path}/>\r\n        <div className={classes.grow}>\r\n            <ResourceManagement/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nDashboardApp.propTyps = {\r\n    classes: PropTypes.object.isRequired,\r\n    CPU: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired,\r\n    ).isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DashboardApp);\r\n","import Button from \"@material-ui/core/Button\";\r\nimport React from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        borderRadius: theme.shape.buttonBorderRadius,\r\n    },\r\n});\r\n\r\nexport default withStyles(styles)(({classes, ...props}) => <Button\r\n    classes={{root: classes.root,}} {...props}/>);\r\n","import withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrowRounded\"\r\nimport React from \"react\";\r\n\r\nexport const styles = (theme) => ({\r\n    overlay: {\r\n        position: \"absolute\",\r\n        height: \"100%\",\r\n        opacity: 0,\r\n        transition: theme.transitions.create(\"opacity\", {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n        \"&:hover\": {\r\n            opacity: 1,\r\n        }\r\n    },\r\n    overlayIcon: {\r\n        marginRight: theme.spacing.unit,\r\n    },\r\n});\r\n\r\nexport default withStyles(styles)(({classes}) => (\r\n    <Grid className={classes.overlay} direction={\"row\"} justify={\"center\"} container>\r\n        <Grid item style={{margin: \"auto\"}}>\r\n            <PlayArrowIcon/>\r\n        </Grid>\r\n    </Grid>\r\n));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener/ClickAwayListener\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport MenuList from \"@material-ui/core/MenuList\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Grow from \"@material-ui/core/Grow/Grow\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport classNames from \"classnames\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\n\r\nconst styles = {\r\n    root: {},\r\n    button: {},\r\n    buttonMenuOpen: {},\r\n};\r\n\r\nclass CardMenu extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleToggle = () => {\r\n        this.setState(state => ({open: !state.open}));\r\n    };\r\n\r\n    handleClose = e => {\r\n        if (this.anchorEl.contains(e.target)) {\r\n            return;\r\n        }\r\n\r\n        this.setState({open: false});\r\n    };\r\n\r\n    render() {\r\n\r\n        function mapFontSizeToVariant(fontSize) {\r\n            switch (fontSize) {\r\n                case \"small\":\r\n                    return \"body2\";\r\n                case \"inherit\":\r\n                    return \"inherit\";\r\n                case \"large\":\r\n                    return \"subtitle1\";\r\n                default:\r\n                    return \"default\";\r\n            }\r\n        }\r\n\r\n        const {classes, menuItems = [], fontSize = \"default\", disable = menuItems.length === 0} = this.props;\r\n        const {open} = this.state;\r\n        const dense = fontSize === \"small\";\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <IconButton className={classNames(classes.button, {[classes.buttonMenuOpen]: open})}\r\n                            buttonRef={node => {\r\n                                this.anchorEl = node;\r\n                            }}\r\n                            aria-owns={open ? 'menu-list-grow' : undefined}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={this.handleToggle}\r\n                            disabled={disable || false}>\r\n                    <MoreVertIcon fontSize={fontSize}/>\r\n                </IconButton>\r\n                {disable ?\r\n                    null :\r\n                    <Popper open={open} anchorEl={this.anchorEl} transition disablePortal style={{zIndex: 99}}>\r\n                        {({TransitionProps, placement}) => (\r\n                            <Grow\r\n                                {...TransitionProps}\r\n                                id=\"menu-list-grow\"\r\n                                style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}>\r\n                                <Paper>\r\n                                    <ClickAwayListener onClickAway={this.handleClose}>\r\n                                        <MenuList dense={dense}>\r\n                                            {menuItems.map(\r\n                                                (item, key) =>\r\n                                                    <MenuItem dense={dense} key={key}\r\n                                                              onClick={item.action}\r\n                                                              component={item.url ? props => <a\r\n                                                                  href={item.url} {...props}/> : null}>\r\n                                                        {\r\n                                                            React.isValidElement(item.id) ?\r\n                                                                <Typography\r\n                                                                    component=\"div\"\r\n                                                                    variant={mapFontSizeToVariant(fontSize)}>{item.id}\r\n                                                                </Typography> :\r\n                                                                item.id\r\n                                                        }\r\n                                                    </MenuItem>\r\n                                            )}\r\n                                        </MenuList>\r\n                                    </ClickAwayListener>\r\n                                </Paper>\r\n                            </Grow>\r\n                        )}\r\n                    </Popper>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCardMenu.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    menuItems: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\r\n            action: PropTypes.func,\r\n            url: PropTypes.string,\r\n        }).isRequired\r\n    ),\r\n    disable: PropTypes.bool,\r\n    fontSize: PropTypes.oneOf([\"small\", \"default\", \"inherit\", \"large\"]),\r\n};\r\n\r\nexport default withStyles(styles)(CardMenu);\r\n","import React, { Component } from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea/CardActionArea';\r\nimport CardMedia from '@material-ui/core/es/CardMedia/CardMedia';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Typography from '@material-ui/core/es/Typography/Typography';\r\nimport Grid from '@material-ui/core/Grid/Grid';\r\nimport classNames from 'classnames';\r\nimport CardHeader from '@material-ui/core/CardHeader/CardHeader';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Route from 'react-router-dom/Route';\r\nimport Button from '../../common/Button';\r\nimport PlayOverlay from '../../common/overlay/PlayOverlay';\r\nimport CardMenu from '../../common/CardMenu';\r\n\r\nconst styles = theme => ({\r\n  flat: {\r\n    boxShadow: 'inherit',\r\n    borderRadius: 0,\r\n  },\r\n  card: {\r\n    display: 'inline-block',\r\n  },\r\n  cardPaper: {\r\n    background: 'transparent',\r\n  },\r\n  imgCard: {\r\n    width: 210,\r\n    height: 118,\r\n  },\r\n  a: {\r\n    textDecoration: 'none',\r\n  },\r\n  description: {\r\n    padding: [[0, 18, 0, 6]],\r\n  },\r\n  moreButton: {\r\n    transition: theme.transitions.create('opacity', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n    '&:not(:hover)': {\r\n      opacity: 0,\r\n    },\r\n    '&:hover': {\r\n      backgroundColor: 'transparent',\r\n    },\r\n  },\r\n  moreButtonShow: {\r\n    opacity: [1, '!important'],\r\n  },\r\n  title: {\r\n    width: 161,\r\n  },\r\n});\r\n\r\nclass VideoItemCard extends Component {\r\n  state = {\r\n    deleteDialog: false,\r\n  };\r\n\r\n  handleClick = history => {\r\n    const { disable } = this.props;\r\n    if (!disable) history.push(`/dashboard/watch?v=${this.props.id}`);\r\n  };\r\n\r\n  handleDelete = () => {\r\n    this.props.handleDelete();\r\n    this.setState({ deleteDialog: false });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      cover,\r\n      name,\r\n      description,\r\n      processed,\r\n      overlay,\r\n      disable,\r\n      handleProcess,\r\n    } = this.props;\r\n\r\n    const { deleteDialog } = this.state;\r\n\r\n    const menuItems = [];\r\n    if (!processed) menuItems.push({ id: 'process', action: handleProcess });\r\n    menuItems.push({\r\n      id: (\r\n        <Typography component='div' variant='body2' color='error'>\r\n          delete\r\n        </Typography>\r\n      ),\r\n      action: () => this.setState({ deleteDialog: true }),\r\n    });\r\n\r\n    return (\r\n      <Card\r\n        className={classNames(classes.card, classes.flat)}\r\n        classes={{ root: classes.cardPaper }}\r\n      >\r\n        <Grid direction='column' container spacing={8}>\r\n          <Grid item>\r\n            <Card className={classes.card}>\r\n              <Route\r\n                render={({ history }) => (\r\n                  <CardActionArea onClick={() => this.handleClick(history)}>\r\n                    {!disable ? overlay : null}\r\n                    <CardMedia\r\n                      className={classes.imgCard}\r\n                      component='img'\r\n                      src={cover}\r\n                      alt={name}\r\n                    />\r\n                  </CardActionArea>\r\n                )}\r\n              />\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item>\r\n            <Card\r\n              className={classes.flat}\r\n              style={{ overflow: 'visible' }}\r\n              classes={{ root: classes.cardPaper }}\r\n            >\r\n              <CardHeader\r\n                className={classes.description}\r\n                action={\r\n                  <CardMenu\r\n                    menuItems={menuItems}\r\n                    fontSize='small'\r\n                    classes={{\r\n                      button: classes.moreButton,\r\n                      buttonMenuOpen: classes.moreButtonShow,\r\n                    }}\r\n                    disable={disable}\r\n                  />\r\n                }\r\n                title={\r\n                  <Typography\r\n                    className={classes.title}\r\n                    component='span'\r\n                    variant='body1'\r\n                    noWrap\r\n                  >\r\n                    {name}\r\n                  </Typography>\r\n                }\r\n                subheader={\r\n                  <Typography className={classes.title} variant='body2'>\r\n                    {description}\r\n                  </Typography>\r\n                }\r\n              />\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        {/* delete dialog */}\r\n        <Dialog\r\n          classes={{ paper: classes.dialogPaper }}\r\n          open={deleteDialog}\r\n          onClose={() => this.setState({ deleteDialog: false })}\r\n        >\r\n          <DialogTitle>{`Delete video \"${name}\"?`}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              {`Deleting model ${name} will also delete all its data. This action\r\n              cannot be undo.`}\r\n            </DialogContentText>\r\n            <DialogActions>\r\n              <Button\r\n                color='primary'\r\n                onClick={() => this.setState({ deleteDialog: false })}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={this.handleDelete}>\r\n                <Typography color='error'>Delete Anyway</Typography>\r\n              </Button>\r\n            </DialogActions>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nVideoItemCard.defaultProps = {\r\n  cover: `https://picsum.photos/210/118/?image=${Math.round(\r\n    Math.random() * 200,\r\n  )}`,\r\n  overlay: <PlayOverlay />,\r\n};\r\n\r\nVideoItemCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  cover: PropTypes.string,\r\n  name: PropTypes.string,\r\n  description: PropTypes.string,\r\n  id: PropTypes.string.isRequired,\r\n  processed: PropTypes.bool.isRequired,\r\n  overlay: PropTypes.node,\r\n  disable: PropTypes.bool,\r\n  handleProcess: PropTypes.func.isRequired,\r\n  handleDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(VideoItemCard);\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport VideoItemCard from \"./VideoItemCard\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\n\r\nconst styles = {\r\n    root: {\r\n        width: \"85%\",\r\n        margin: \"auto\",\r\n    }\r\n};\r\n\r\n/**\r\n * videos video format: [{name: string, cover: string, id: string}]\r\n */\r\nclass VideoManagement extends React.PureComponent {\r\n\r\n    componentDidMount() {\r\n        this.props.handleFetchVideos();\r\n    }\r\n\r\n    handleDeleteVideo = id => () => {\r\n        const {handleFetchVideos, handleDeleteVideo} = this.props;\r\n        handleDeleteVideo(id, handleFetchVideos);\r\n    };\r\n\r\n    handleProcessVideo = id => () => {\r\n        const {handleFetchVideos, handleProcessVideo} = this.props;\r\n        handleProcessVideo(id, handleFetchVideos);\r\n        handleFetchVideos();\r\n    };\r\n\r\n    render() {\r\n        const {classes, videos} = this.props;\r\n\r\n        return (\r\n            <Fade in={true}>\r\n                <div>\r\n                    {\r\n                        videos.length ?\r\n                            <Grid className={classes.root} container spacing={16}> {\r\n                                videos.map(video =>\r\n                                    <Grid key={video.id} item>\r\n                                        <VideoItemCard id={video.id.toString()}\r\n                                                       name={video.name}\r\n                                                       cover={video.cover}\r\n                                                       processed={video.processed}\r\n                                                       handleProcess={this.handleProcessVideo(video.id)}\r\n                                                       handleDelete={this.handleDeleteVideo(video.id)}\r\n                                                       disable={video.isProcessing}\r\n                                        />\r\n                                    </Grid>)}\r\n                            </Grid> :\r\n                            <Typography align={\"center\"}>\r\n                                There is no uploaded video viewed by you currently.\r\n                            </Typography>\r\n                    }\r\n                </div>\r\n            </Fade>\r\n        );\r\n    }\r\n}\r\n\r\nVideoManagement.defaultProps = {\r\n    videos: [],\r\n};\r\n\r\nVideoManagement.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    videos: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n            name: PropTypes.string.isRequired,\r\n            cover: PropTypes.string,\r\n        }).isRequired,\r\n    ),\r\n    handleFetchVideos: PropTypes.func.isRequired,\r\n    handleProcessVideo: PropTypes.func.isRequired,\r\n    handleDeleteVideo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(VideoManagement);\r\n","import assert from \"assert\";\r\n\r\nexport function isEmpty(object) {\r\n    return Object.keys(object).length === 0;\r\n}\r\n\r\nexport function secondToHMS(s) {\r\n    const day = Math.floor(s / 86400);\r\n    const str = new Date(s * 1000).toISOString().substr(11, 8);\r\n    return day > 0 ? `${day}:${str}` : str.startsWith(\"00:\") ? str.substr(3) : str;\r\n}\r\n\r\n/**\r\n * @author Joe Freeman\r\n * @see https://stackoverflow.com/questions/3426404/create-a-hexadecimal-colour-based-on-a-string-with-javascript\r\n * @param str\r\n * @returns {string}\r\n */\r\nexport function stringToColour(str) {\r\n    let hash = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n    let colour = '#';\r\n    for (let i = 0; i < 3; i++) {\r\n        const value = (hash >> (i * 8)) & 0xFF;\r\n        colour += ('00' + value.toString(16)).substr(-2);\r\n    }\r\n    return colour;\r\n}\r\n\r\n/**\r\n *\r\n * @param _this parent dom\r\n * @param setState parent setState function\r\n * @param allow permitted key\r\n * @returns {setState} strict setState\r\n */\r\nexport function injectParentState(_this, setState, allow) {\r\n\r\n    return state => {\r\n        if (typeof setState === \"function\" || !allow)    // bypass allow key checking\r\n            setState.bind(_this)(state);\r\n        else {\r\n            Object.keys(state).map(key => {\r\n                assert(allow.includes(key), `${key} is not a permitted field to set.`);\r\n                setState.bind(_this)(state);\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function emptyFunction() {\r\n}\r\n\r\n/**\r\n * String hash\r\n * @see{https://stackoverflow.com/a/7616484}\r\n * @return {number} hash code of a string\r\n */\r\nString.prototype.hashCode = function () {\r\n    var hash = 0, i, chr;\r\n    if (this.length === 0) return hash;\r\n    for (i = 0; i < this.length; i++) {\r\n        chr = this.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + chr;\r\n        hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash;\r\n};\r\n\r\nexport function getCookie(name) {\r\n    const value = '; ' + document.cookie;\r\n    const parts = value.split('; ' + name + '=');\r\n    if (parts.length === 2)\r\n        return parts.pop().split(';').shift()\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n    const value = \"; \" + document.cookie;\r\n    const parts = value.split(\"; \" + name + '=');\r\n    if (parts.length === 2)\r\n        document.cookie = parts[0] + parts[1].slice((parts[1] + \";\").indexOf(\";\"))\r\n}\r\n","import {getCookie} from \"./utils\";\r\n\r\nexport function formatParams(params) {\r\n    return \"?\" + Object\r\n        .keys(params)\r\n        .map(function (key) {\r\n            return key + \"=\" + encodeURIComponent(params[key])\r\n        })\r\n        .join(\"&\")\r\n}\r\n\r\nexport function xmlHttpRequest(dispatch, method, {\r\n    url, jsonDecoder, request, receiveSuccess, receiveFailure, progressListener, formData = null\r\n}) {\r\n\r\n    switch (method.toString().toUpperCase()) {\r\n        case \"GET\":\r\n            return get(dispatch, url, jsonDecoder, request, receiveSuccess, receiveFailure, formData);\r\n        case \"POST\":\r\n            return post(dispatch, url, jsonDecoder, request, receiveSuccess, receiveFailure, progressListener, formData);\r\n        case \"PATCH\":\r\n            return patch(dispatch, url, request, receiveSuccess, receiveFailure, formData);\r\n        case \"DELETE\":\r\n            return del(dispatch, url, request, receiveSuccess, receiveFailure, formData);\r\n        default:\r\n            return;\r\n    }\r\n}\r\n\r\nfunction get(dispatch, url, jsonDecoder = json => json, request, receiveSuccess, receiveFailure, formData) {\r\n\r\n    function onStateChange() {\r\n        if (xmlReq.readyState === 4) {\r\n            if (xmlReq.status >= 200 && xmlReq.status <= 300) {\r\n                try {\r\n                    const json = JSON.parse(xmlReq.responseText);\r\n                    const data = jsonDecoder(json.data);\r\n                    dispatch(receiveSuccess({...json, data: data}));\r\n                } catch (e) {\r\n                    dispatch(receiveFailure({data: \"Error in mapping response json to list\"}));\r\n                }\r\n            } else\r\n                dispatch(receiveFailure({data: `Other error: ${xmlReq.statusText}`}));\r\n        }\r\n    }\r\n\r\n    // GET start\r\n    dispatch(request());\r\n\r\n    const xmlReq = new XMLHttpRequest();\r\n    xmlReq.open('GET', url, true);\r\n    xmlReq.onreadystatechange = onStateChange;\r\n    xmlReq.send(formData);\r\n\r\n    return xmlReq;\r\n}\r\n\r\nfunction post(dispatch, url, jsonDecoder = json => json, request, receiveSuccess, receiveFailure, progressListener, formData) {\r\n\r\n    function onLoad() {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n            const json = JSON.parse(xhr.responseText);\r\n            const data = jsonDecoder(json.data);\r\n            dispatch(receiveSuccess({...json, data: data}));\r\n        } else\r\n            dispatch(receiveFailure({data: `${xhr.status} (${xhr.statusText})`}))\r\n    }\r\n\r\n    const onProgress = progressListener ? event =>\r\n        progressListener(event.lengthComputable, event.loaded, event.total) : null;\r\n\r\n    // POST start\r\n    dispatch(request());\r\n\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open(\"POST\", url, true);\r\n    xhr.withCredentials = true;\r\n    xhr.onload = onLoad;\r\n    xhr.setRequestHeader(\"X-CSRFToken\", getCookie('csrftoken'));\r\n    xhr.onprogress = onProgress;\r\n    xhr.send(formData);\r\n\r\n    return xhr;\r\n}\r\n\r\nfunction patch(dispatch, url, request, receiveSuccess, receiveFailure, formData) {\r\n\r\n    function onLoad() {\r\n        if (xmlReq.status >= 200 && xmlReq.status < 300) {\r\n            window.temp1 = xmlReq.responseText;\r\n            console.log(receiveSuccess(JSON.parse(window.temp1)));\r\n            dispatch(receiveSuccess(JSON.parse(xmlReq.responseText)));\r\n        } else\r\n            dispatch(receiveFailure({data: `${xmlReq.status} Error: ${xmlReq.statusText}`}));\r\n    }\r\n\r\n    // UPDATE start\r\n    dispatch(request());\r\n\r\n    const xmlReq = new XMLHttpRequest();\r\n    xmlReq.open(\"PATCH\", url, true);\r\n    xmlReq.withCredentials = true;\r\n    xmlReq.onload = onLoad;\r\n    xmlReq.setRequestHeader(\"X-CSRFToken\", getCookie('csrftoken'));\r\n    xmlReq.send(formData);\r\n\r\n    return xmlReq;\r\n}\r\n\r\nfunction del(dispatch, url, request, receiveSuccess, receiveFailure, formData) {\r\n\r\n    function onLoad() {\r\n        if (xmlReq.status >= 200 && xmlReq.status < 300)\r\n            dispatch(receiveSuccess(JSON.parse(xmlReq.responseText)));\r\n        else\r\n            dispatch(receiveFailure({data: `${xmlReq.status} Error: ${xmlReq.statusText}`}));\r\n    }\r\n\r\n    // DELETE start\r\n    dispatch(request());\r\n\r\n    const xmlReq = new XMLHttpRequest();\r\n    xmlReq.open(\"DELETE\", url, true);\r\n    xmlReq.withCredentials = true;\r\n    xmlReq.onload = onLoad;\r\n    xmlReq.setRequestHeader(\"X-CSRFToken\", getCookie('csrftoken'));\r\n    xmlReq.send(formData);\r\n\r\n    return xmlReq;\r\n}\r\n","import {\r\n  VIDEO_GET_LIST_RECEIVE,\r\n  VIDEO_GET_LIST_REQUEST,\r\n  VIDEO_GET_SINGLE_RECEIVE,\r\n  VIDEO_GET_SINGLE_REQUEST,\r\n} from '../../../constants/actionTypes';\r\nimport { xmlHttpRequest } from '../../../utils/httpRequest';\r\nimport {\r\n  decodeSingleVideoJson,\r\n  decodeVideoListJson,\r\n} from '../../../utils/jsonDecoder';\r\nimport { emptyFunction } from '../../../utils/utils';\r\n\r\nconst requestGetList = () => ({\r\n  type: VIDEO_GET_LIST_REQUEST,\r\n});\r\n\r\nconst receiveGetListSuccess = json => ({\r\n  type: VIDEO_GET_LIST_RECEIVE,\r\n  status: 'SUCCESS',\r\n  videos: json.data,\r\n  time: json.time,\r\n});\r\n\r\nconst receiveGetListFailure = json => ({\r\n  type: VIDEO_GET_LIST_RECEIVE,\r\n  status: 'FAILURE',\r\n  reason: json.data,\r\n});\r\n\r\nexport const VIDEOgetList = (successCallback = emptyFunction) => dispatch => {\r\n  xmlHttpRequest(dispatch, 'GET', {\r\n    url: '/restapi/videos/',\r\n    jsonDecoder: decodeVideoListJson,\r\n    request: requestGetList,\r\n    receiveSuccess: json => {\r\n      successCallback();\r\n      return receiveGetListSuccess(json);\r\n    },\r\n    receiveFailure: receiveGetListFailure,\r\n  });\r\n\r\n  // dispatch(\r\n  //   receiveGetListSuccess({\r\n  //     data: decodeVideoListJson(require('../../../asset/videolist.json').data),\r\n  //   }),\r\n  // );\r\n};\r\n\r\nconst requestGetSingle = () => ({\r\n  type: VIDEO_GET_SINGLE_REQUEST,\r\n});\r\n\r\nconst receiveGetSingleSuccess = json => ({\r\n  type: VIDEO_GET_SINGLE_RECEIVE,\r\n  status: 'SUCCESS',\r\n  video: json.data,\r\n  update: json.update,\r\n});\r\n\r\nconst receiveGetSingleFailure = json => ({\r\n  type: VIDEO_GET_SINGLE_RECEIVE,\r\n  status: 'FAILURE',\r\n  reason: json.data,\r\n  update: json.update,\r\n});\r\n\r\nexport const VIDEOgetSingle = id => dispatch => {\r\n  // const data = require(\"../../../asset/video_amine.json\");\r\n\r\n  xmlHttpRequest(dispatch, 'GET', {\r\n    url: `/restapi/videos/${id}/`,\r\n    jsonDecoder: decodeSingleVideoJson,\r\n    request: requestGetSingle,\r\n    receiveSuccess: receiveGetSingleSuccess,\r\n    receiveFailure: receiveGetSingleFailure,\r\n  });\r\n\r\n  // dispatch(receiveGetSingle_Success({data: decodeSingleVideoJson(data.data)}))\r\n};\r\n","import {\r\n  VIDEO_UPLOAD_RECEIVE,\r\n  VIDEO_UPLOAD_REQUEST,\r\n} from '../../../constants/actionTypes';\r\nimport { xmlHttpRequest } from '../../../utils/httpRequest';\r\nimport { emptyFunction } from '../../../utils/utils';\r\n\r\nconst requestPost = () => ({\r\n  type: VIDEO_UPLOAD_REQUEST,\r\n});\r\n\r\nconst receivePost_Success = json => ({\r\n  type: VIDEO_UPLOAD_RECEIVE,\r\n  status: 'SUCCESS',\r\n  data: json.data,\r\n  time: json.time,\r\n});\r\n\r\nconst receivePost_Failure = json => ({\r\n  type: VIDEO_UPLOAD_RECEIVE,\r\n  status: 'FAILURE',\r\n  reason: json.data,\r\n});\r\n\r\nexport const VIDEO_upload = ({\r\n  file,\r\n  process,\r\n  modelTypes,\r\n  loadListener = emptyFunction,\r\n  errorListener = emptyFunction,\r\n  progressListener,\r\n  abortListener,\r\n}) => dispatch => {\r\n  function modelMapper(models) {\r\n    return Object.keys(models).filter(modelName => models[modelName]);\r\n  }\r\n\r\n  const formData = new FormData();\r\n  formData.append('video_file', file, file.name);\r\n  formData.append('name', file.name);\r\n  if (process) formData.append('if_process', 'true');\r\n\r\n  Object.values(modelTypes)\r\n    .map(modelMapper)\r\n    .reduce((x, y) => x.concat(y))\r\n    .forEach(model => formData.append('models', model.toString()));\r\n\r\n  const request = xmlHttpRequest(dispatch, 'POST', {\r\n    url: '/restapi/videos/',\r\n    request: requestPost,\r\n    receiveSuccess: json => {\r\n      loadListener();\r\n      return receivePost_Success(json);\r\n    },\r\n    receiveFailure: json => {\r\n      errorListener();\r\n      return receivePost_Failure(json);\r\n    },\r\n    progressListener,\r\n    formData,\r\n  });\r\n\r\n  return {\r\n    abort: () => {\r\n      request.abort();\r\n      abortListener();\r\n    },\r\n  };\r\n};\r\n","import {VIDEO_UPDATE_RECEIVE, VIDEO_UPDATE_REQUEST} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestUpdate = () => ({\r\n    type: VIDEO_UPDATE_REQUEST,\r\n});\r\n\r\nconst receiveUpdate_Success = json => ({\r\n    type: VIDEO_UPDATE_RECEIVE,\r\n    status: 'SUCCESS',\r\n    time: json.time,\r\n});\r\n\r\nconst receiveUpdate_Failure = json => ({\r\n    type: VIDEO_UPDATE_RECEIVE,\r\n    status: 'FAILURE',\r\n    reason: json.data,\r\n});\r\n\r\n// request for process\r\nexport const VIDEO_update = (id, successCallback = emptyFunction) => dispatch => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"id\", id);\r\n\r\n    xmlHttpRequest(dispatch, \"PATCH\", {\r\n        url: `/restapi/videos/${id}/`,\r\n        request: requestUpdate,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveUpdate_Success(json);\r\n        },\r\n        receiveFailure: receiveUpdate_Failure,\r\n        formData,\r\n    });\r\n};","import {VIDEO_DELETE_RECEIVE, VIDEO_DELETE_REQUEST} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\n\r\nconst requestDelete = () => ({\r\n    type: VIDEO_DELETE_REQUEST,\r\n});\r\n\r\nconst receiveDelete_Success = json => ({\r\n    type: VIDEO_DELETE_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    time: json.time,\r\n});\r\n\r\nconst receiveDelete_Failure = json => ({\r\n    type: VIDEO_DELETE_RECEIVE,\r\n    status: \"FAILURE\",\r\n    reason: json.data,\r\n    time: json.time,\r\n});\r\n\r\nexport const VIDEO_delete = (id, successCallback) => dispatch => {\r\n\r\n    xmlHttpRequest(dispatch, \"DELETE\", {\r\n        url: `/restapi/videos/${id}/`,\r\n        request: requestDelete,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveDelete_Success(json);\r\n        },\r\n        receiveFailure: receiveDelete_Failure\r\n    });\r\n};","import { connect } from 'react-redux';\r\nimport VideoManagement from './VideoManagement';\r\nimport {\r\n  VIDEO_delete,\r\n  VIDEOgetList,\r\n  VIDEO_update,\r\n} from '../../../redux/actions/video';\r\n\r\nconst mapStateToProps = state => ({\r\n  videos: state.video.videoList.videos,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleFetchVideos: () => dispatch(VIDEOgetList()),\r\n  handleProcessVideo: id => dispatch(VIDEO_update(id)),\r\n  handleDeleteVideo: (id, successCallback) =>\r\n    dispatch(VIDEO_delete(id, successCallback)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(VideoManagement);\r\n","import {\r\n    MODEL_GET_DEFAULT_LIST_RECEIVE,\r\n    MODEL_GET_DEFAULT_LIST_REQUEST,\r\n    MODEL_GET_LIST_RECEIVE,\r\n    MODEL_GET_LIST_REQUEST,\r\n    MODEL_GET_SINGLE_RECEIVE,\r\n    MODEL_GET_SINGLE_REQUEST,\r\n} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {decodeModelListJson, decodeSingleModelJson} from \"../../../utils/jsonDecoder\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestGetList = () => ({\r\n    type: MODEL_GET_LIST_REQUEST,\r\n});\r\n\r\nconst receiveGetList_Success = json => ({\r\n    type: MODEL_GET_LIST_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    models: json.data,\r\n    time: json.time,\r\n});\r\n\r\nconst receiveGetList_Failure = json => ({\r\n    type: MODEL_GET_LIST_RECEIVE,\r\n    status: \"FAILURE\",\r\n    reason: json.data,\r\n});\r\n\r\nexport const MODEL_getList = (successCallback = emptyFunction) => dispatch => {\r\n\r\n    // const data = require(\"../../../asset/dlmodellist.json\");\r\n\r\n    xmlHttpRequest(dispatch, \"GET\", {\r\n        url: '/restapi/dlmodels/',\r\n        jsonDecoder: decodeModelListJson,\r\n        request: requestGetList,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveGetList_Success(json);\r\n        },\r\n        receiveFailure: receiveGetList_Failure,\r\n    });\r\n\r\n    // successCallback();\r\n    // dispatch(receiveGetList_Success({data: decodeModelListJson(data.data)}));\r\n};\r\n\r\nconst requestGetDefaultList = () => ({\r\n    type: MODEL_GET_DEFAULT_LIST_REQUEST,\r\n});\r\n\r\nconst receiveGetDefaultList_Success = json => ({\r\n    type: MODEL_GET_DEFAULT_LIST_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    models: json.data,\r\n    time: json.time,\r\n});\r\n\r\nconst receiveGetDefaultList_Failure = json => ({\r\n    type: MODEL_GET_DEFAULT_LIST_RECEIVE,\r\n    status: \"FAILURE\",\r\n    reason: json.data,\r\n});\r\n\r\nexport const MODEL_getDefaultList = (successCallback = emptyFunction) => dispatch => {\r\n\r\n    // const data = require(\"../../../asset/defaultmodels.json\");\r\n    xmlHttpRequest(dispatch, \"GET\", {\r\n        url: '/restapi/defaultdlmodels/',\r\n        jsonDecoder: decodeModelListJson,\r\n        request: requestGetDefaultList,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveGetDefaultList_Success(json);\r\n        },\r\n        receiveFailure: receiveGetDefaultList_Failure\r\n    });\r\n\r\n    // successCallback();\r\n    // dispatch(receiveGetDefaultList_Success({data: decodeModelListJson(data.data)}));\r\n};\r\n\r\nconst requestGetSingle = () => ({\r\n    type: MODEL_GET_SINGLE_REQUEST,\r\n});\r\n\r\nconst requestGetSingle_Success = json => ({\r\n    type: MODEL_GET_SINGLE_RECEIVE,\r\n    status: 'SUCCESS',\r\n    model: json.data,\r\n    time: json.time,\r\n});\r\n\r\nconst requestGetSingle_Failure = json => ({\r\n    type: MODEL_GET_SINGLE_RECEIVE,\r\n    status: 'FAILURE',\r\n    reason: json.data,\r\n});\r\n\r\nexport const MODEL_getSingle = id => dispatch => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"id\", id);\r\n\r\n    xmlHttpRequest(dispatch, \"GET\", {\r\n        url: `/restapi/dlmodels/${id}/`,\r\n        jsonDecoder: decodeSingleModelJson,\r\n        request: requestGetSingle,\r\n        receiveSuccess: requestGetSingle_Success,\r\n        receiveFailure: requestGetSingle_Failure,\r\n        formData,\r\n    });\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport classNames from \"classnames\";\r\nimport ReactLink from \"react-router-dom/Link\";\r\n\r\nconst styles = {\r\n    aUnderline: {\r\n        '&:hover': {\r\n            textDecoration: 'underline',\r\n        }\r\n    },\r\n    aResponsive: {\r\n        opacity: 0.7,\r\n        transition: [['opacity', '0.25s', 'linear', '0.1s']],\r\n        '&:hover': {\r\n            opacity: 1,\r\n        }\r\n    },\r\n};\r\n\r\nconst Link2 = ({\r\n                   isRouter, classes, className, children, to = '/', variant = 'h6', color = 'inherit',\r\n                  paragraph = false, noWrap = false, animation = true\r\n              }) => (\r\n    <div className={className}>\r\n        <Typography className={classNames({\r\n            [classes.aUnderline]: paragraph,\r\n            [classes.aResponsive]: !paragraph && animation\r\n        })\r\n        }\r\n                    component={props => (isRouter && !/http[s]?:\\/\\//.test(to)) ? <ReactLink to={to} {...props}/> :\r\n                        <a href={to} {...props}/>}\r\n                    variant={variant}\r\n                    color={color}\r\n                    noWrap={noWrap}>\r\n            {children}\r\n        </Typography>\r\n    </div>\r\n);\r\n\r\nconst A2 = props => <Link2 {...props} isRouter={false}/>;\r\nconst Link = props => <Link2 {...props} isRouter={true}/>;\r\n\r\nA2.propTypes = Link.propTyes = {\r\n    classes: PropTypes.object.isRequired,\r\n    children: PropTypes.node,\r\n    to: PropTypes.string,\r\n    variant: PropTypes.oneOf([\r\n        'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'subtitle1', 'subtitle2', 'body1', 'body2', 'caption', 'button',\r\n        'overline', 'srOnly', 'inherit', \"display4\", 'display3', 'display2', 'display1', 'headline', 'title',\r\n        'subheading',\r\n    ]),\r\n    color: PropTypes.oneOf(['default', 'error', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary',]),\r\n    paragraph: PropTypes.bool,\r\n    noWrap: PropTypes.bool,\r\n};\r\n\r\nexport const A = withStyles(styles)(A2);\r\nexport default withStyles(styles)(Link);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Card from \"@material-ui/core/es/Card/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader/CardHeader\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport Button from \"../../common/Button\";\r\nimport CheckBox from \"@material-ui/core/Checkbox\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControlLabel from \"@material-ui/core/es/FormControlLabel/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\n// File pond\r\nimport {FilePond} from \"react-filepond\";\r\nimport Switch from \"@material-ui/core/es/Switch/Switch\";\r\nimport Link from \"../../common/Link\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        maxWidth: 720,\r\n        margin: 'auto',\r\n    },\r\n    roundCardAction: {\r\n        borderRadius: theme.shape.borderRadius,\r\n    },\r\n    upload: {\r\n        width: 224,\r\n        height: 224,\r\n        opacity: 0.75,\r\n        transition: 'color 1.1s cubic-bezier(.17,.63,.61,1.06)',\r\n    },\r\n    uploadDragover: {\r\n        backgroundColor: theme.palette.primary,\r\n    },\r\n    uploadInput: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        opacity: 0,\r\n        cursor: 'pointer',\r\n    },\r\n    formRoot: {\r\n        display: 'flex',\r\n    },\r\n    modelSelectionGrid: {\r\n        paddingBottom: 2 * theme.spacing.unit,\r\n        '&:last-child': {\r\n            paddingBottom: 0,\r\n        }\r\n    }\r\n});\r\n\r\nconst types = [\"OBJECT\", \"FACE\", \"TEXT\", \"SCENE\"];\r\n\r\nclass UploadCard extends React.Component {\r\n\r\n    state = {\r\n        files: [],\r\n        process: true,\r\n        advanced: false,\r\n        formLock: 0, // modifiable of model form\r\n        modelMutex: false,\r\n        defaultModelMutex: false,\r\n        modelTypes: {},\r\n    };\r\n\r\n    componentWillMount() {\r\n        const {fetchModelList, fetchDefaultModelList} = this.props;\r\n        fetchDefaultModelList(() => this.setState({modelMutex: true}));\r\n        fetchModelList(() => this.setState({defaultModelMutex: true}));\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        const {models, defaultModels} = this.props;\r\n        const {modelTypes, modelMutex, defaultModelMutex} = this.state;\r\n\r\n        if (modelMutex && defaultModelMutex && Object.keys(models).length && Object.keys(defaultModels).length) {\r\n            types.forEach(key => {\r\n                modelTypes[key] = {};\r\n                models[key].forEach(model => {\r\n                    modelTypes[key][model.name] = Object.keys(defaultModels).length > 0 && defaultModels[key].some(_model => _model.name === model.name)\r\n                })\r\n            });\r\n\r\n            this.setState({modelTypes: modelTypes, modelMutex: false, defaultModelMutex: false});\r\n        }\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({[name]: event.target.checked});\r\n    };\r\n\r\n    handleChangeModel = (key, name) => {\r\n        return event => {\r\n            const checked = event.target.checked;\r\n\r\n            this.setState(state => ({\r\n                ...state,\r\n                modelTypes: {...state.modelTypes, [key]: {...state.modelTypes[key], [name]: checked}}\r\n            }))\r\n        };\r\n    };\r\n\r\n    handleClickUploadBtn = () => {\r\n        this.pond.processFiles();\r\n    };\r\n\r\n    handleUpload = (_1, file, metadata, loadListener, errorListener, progressListener, abortListener) => {\r\n\r\n        const {postVideo} = this.props;\r\n        const {process, modelTypes} = this.state;\r\n\r\n        postVideo({file, process, modelTypes, loadListener, errorListener, progressListener, abortListener});\r\n    };\r\n\r\n    render() {\r\n        const {classes, models} = this.props;\r\n        const {process, advanced, formLock, modelTypes} = this.state;\r\n\r\n        return (\r\n            <Card className={classes.root}>\r\n                <CardHeader action={\r\n                    <IconButton component={props => <Link {...props}/>} to={'./'}>\r\n                        <CloseIcon/>\r\n                    </IconButton>\r\n                }/>\r\n                <CardContent>\r\n\r\n                    {/* File uploader */}\r\n                    <FilePond ref={ref => this.pond = ref}\r\n                              allowMultiple\r\n                              instantUpload={false}\r\n                              server={{process: this.handleUpload}}\r\n                              maxFiles={2}\r\n                              fileRenameFunction={file => new Promise(resolve => {\r\n                                  resolve(window.prompt('Enter new filename', file.name))\r\n                              })}\r\n                              onupdatefiles={(fileItems) => {\r\n                                  this.setState({\r\n                                      files: fileItems.map(fileItem => fileItem.file)\r\n                                  });\r\n                              }}\r\n                              acceptedFileTypes={['video/mp4']}\r\n                              onprocessfilestart={() => this.setState({formLock: formLock - 1})}\r\n                              onprocessfile={() => this.setState({formLock: formLock + 1})}>\r\n                    </FilePond>\r\n\r\n                    {/* Process selection control */}\r\n                    <Typography component='form' align='center'>\r\n                        <FormControl component=\"fieldset\" disabled={formLock < 0}>\r\n                            <FormControlLabel\r\n                                control={<CheckBox checked={process}\r\n                                                   onChange={this.handleChange('process', true)}\r\n                                                   value=\"process\"/>}\r\n                                label={\"process\"}/>\r\n                        </FormControl>\r\n                    </Typography>\r\n\r\n                    {/* Model selection panel */}\r\n                    <Collapse in={advanced && process} timeout=\"auto\" unmountOnExit>\r\n                        <CardContent> {\r\n                            Object.keys(modelTypes).length ?\r\n                                <FormControl component=\"fieldset\"> {\r\n                                    types.map(key => (\r\n                                        <React.Fragment key={key}>\r\n                                            <Typography gutterBottom>\r\n                                                {key}\r\n                                            </Typography>\r\n                                            <Grid className={classes.modelSelectionGrid} container spacing={8}>{\r\n                                                models[key].map(model => (\r\n                                                    <Grid key={model.name} item>\r\n                                                        <FormControlLabel\r\n                                                            control={\r\n                                                                <Switch checked={modelTypes[key][model.name]}\r\n                                                                        onChange={this.handleChangeModel(key, model.name)}/>}\r\n                                                            label={model.name}\r\n                                                            disabled={formLock < 0}/>\r\n                                                    </Grid>\r\n                                                ))}\r\n                                            </Grid>\r\n                                        </React.Fragment>\r\n                                    ))}\r\n                                </FormControl> :\r\n                                <Typography align={\"center\"} color={'default'}>\r\n                                    No model available now\r\n                                </Typography>\r\n                        }\r\n                        </CardContent>\r\n                    </Collapse>\r\n\r\n                    {/* Advance-model-selection and Upload buttons */}\r\n                    <Grid container direction=\"row\">\r\n                        <Button onClick={() => this.setState({advanced: !advanced})}\r\n                                variant={advanced ? \"outlined\" : null}\r\n                                color={advanced ? \"primary\" : null}\r\n                                disabled={!process}>\r\n                            Advanced\r\n                        </Button>\r\n                        <div style={{flexGrow: 1}}/>\r\n                        <Button\r\n                            variant=\"text\"\r\n                            color=\"primary\"\r\n                            onClick={this.handleClickUploadBtn}\r\n                            disabled={formLock < 0}>\r\n                            Upload\r\n                        </Button>\r\n                    </Grid>\r\n\r\n                </CardContent>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nUploadCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    models: PropTypes.shape({\r\n        [PropTypes.oneOf([\"OBJECT\", \"TEXT\", \"FACE\", \"SCENE\"])]: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                name: PropTypes.string.isRequired,\r\n                id: PropTypes.string.isRequired,\r\n            }).isRequired,\r\n        ),\r\n    }).isRequired,\r\n    defaultModels: PropTypes.shape({\r\n        [PropTypes.oneOf([\"OBJECT\", \"TEXT\", \"FACE\", \"SCENE\"])]: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                name: PropTypes.string.isRequired,\r\n                id: PropTypes.string.isRequired,\r\n            }).isRequired,\r\n        ),\r\n    }).isRequired,\r\n    fetchModelList: PropTypes.func.isRequired,\r\n    fetchDefaultModelList: PropTypes.func.isRequired,\r\n    postVideo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UploadCard);\r\n","import {connect} from \"react-redux\";\r\nimport {MODEL_getDefaultList, MODEL_getList} from \"../../../redux/actions/model/get\";\r\nimport UploadCard from \"./UploadCard\";\r\nimport {VIDEO_upload} from \"../../../redux/actions/video/post\";\r\n\r\nconst mapStateToProps = state => ({\r\n    models: state.model.models.models,\r\n    defaultModels: state.model.defaultModels.models,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchModelList: successCallback => dispatch(MODEL_getList(successCallback)),\r\n    fetchDefaultModelList: successCallback => dispatch(MODEL_getDefaultList(successCallback)),\r\n    postVideo: metaData => dispatch(VIDEO_upload(metaData)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadCard);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Icon_ from \"@material-ui/core/Icon\";\r\nimport green from \"@material-ui/core/colors/green\";\r\nimport MuiSnackbar from \"@material-ui/core/Snackbar\";\r\nimport CloseIcon from \"@material-ui/icons/CloseRounded\";\r\nimport CheckIcon from \"@material-ui/icons/CheckRounded\";\r\nimport ErrorIcon from \"@material-ui/icons/ErrorRounded\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    failure: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing.unit,\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n});\r\n\r\nconst validStates = [\"SUCCESS\", \"FAILURE\"];\r\n\r\nconst variantIcon = {\r\n    success: CheckIcon,\r\n    failure: ErrorIcon,\r\n};\r\n\r\n\r\nclass Snackbar extends React.PureComponent {\r\n\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    componentWillUpdate(nextProps, nextState, nextContext) {\r\n        if (nextProps.state.state !== this.props.state.state &&\r\n            validStates.includes(nextProps.state.state))\r\n            this.setState({open: true});\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({open: false});\r\n    };\r\n\r\n    render() {\r\n        const {classes, className, state, message, ...other} = this.props;\r\n        const {open} = this.state;\r\n\r\n        const Icon = validStates.includes(state.state) ? variantIcon[state.state.toLowerCase()] : Icon_;\r\n\r\n        if (!message[\"failure\"])\r\n            message[\"failure\"] = `Some errors happen: ${state.reason}`;\r\n\r\n        return (\r\n            <MuiSnackbar\r\n                open={open}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                autoHideDuration={6000}\r\n                onClose={this.handleClose}\r\n            >\r\n                <SnackbarContent\r\n                    className={classNames(classes[state.state.toLowerCase()], className)}\r\n                    aria-describedby=\"client-snackbar\"\r\n                    message={\r\n                        <span id=\"client-snackbar\" className={classes.message}>\r\n                            <Icon className={classNames(classes.icon, classes.iconVariant)}/>\r\n                            {message[state.state.toLowerCase()]}\r\n                        </span>}\r\n                    action={[\r\n                        <IconButton\r\n                            key=\"close\"\r\n                            aria-label=\"Close\"\r\n                            color=\"inherit\"\r\n                            className={classes.close}\r\n                            onClick={this.handleClose}\r\n                        >\r\n                            <CloseIcon className={classes.icon}/>\r\n                        </IconButton>,\r\n                    ]}\r\n                    {...other}\r\n                />\r\n            </MuiSnackbar>\r\n        );\r\n    }\r\n}\r\n\r\nSnackbar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    className: PropTypes.object,\r\n    state: PropTypes.shape({\r\n        state: PropTypes.string.isRequired,\r\n        reason: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n    message: PropTypes.shape({\r\n        success: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\r\n        failure: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\r\n    }),\r\n};\r\n\r\nexport default withStyles(styles)(Snackbar);\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Snackbar from \"../../common/Snackbar\";\r\n\r\nconst mapStateToProps = state => ({\r\n    deleteState: state.video.deleteVideo,\r\n    updateState: state.video.updateVideo,\r\n});\r\n\r\nconst MessageBars = ({updateState, deleteState}) => (\r\n    <React.Fragment>\r\n        <Snackbar state={updateState} message={{success: \"Process video success\"}}/>\r\n        <Snackbar state={deleteState} message={{success: \"Delete video success\"}}/>\r\n    </React.Fragment>\r\n);\r\n\r\nexport default connect(mapStateToProps)(MessageBars);\r\n","import Route from \"../../../routes/RouteWrapper\";\r\nimport React from \"react\";\r\nimport Switch from \"react-router/Switch\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport VideoManagement from \".\";\r\nimport UploadCard from \"./ContainerUploadCard\";\r\nimport Sidebar from \"../common/Sidebar\";\r\nimport {styles} from \"../common/layout\";\r\nimport MessageBar from \"./MessageBars\";\r\n\r\nconst VideoRouter = ({classes, match}) => (\r\n    <div className={classes.root}>\r\n        <Sidebar currentPath={match.path}/>\r\n        <div className={classes.grow}>\r\n            <Switch>\r\n                {Route({exact: true, path: '/', component: VideoManagement})}\r\n                {Route({exact: true, path: '/upload', component: UploadCard})}\r\n                {/*<Redirect to={'/404'}/>*/}\r\n            </Switch>\r\n            <MessageBar/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default withStyles(styles)(VideoRouter);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Drawer from \"@material-ui/core/es/Drawer/Drawer\";\r\nimport HeaderPlaceHolder from \"../../common/HeaderPlaceholder\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/es/ListItemAvatar/ListItemAvatar\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Avatar from \"@material-ui/core/es/Avatar/Avatar\";\r\nimport CardHeader from \"@material-ui/core/es/CardHeader/CardHeader\";\r\nimport IconButton from \"@material-ui/core/es/IconButton/IconButton\";\r\nimport AddIcon from \"@material-ui/icons/AddRounded\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: 320,\r\n        flexShrink: 0,\r\n    },\r\n    paper: {\r\n        width: 320,\r\n        left: 240,\r\n        backgroundColor: theme.palette.grey[100],\r\n    }\r\n});\r\n\r\nconst UserSidebar = ({classes, nameList, currentUser, newUser, handleClick, handleNewUser}) => (\r\n    <Drawer className={classes.root} classes={{paper: classes.paper}}\r\n            variant=\"permanent\" anchor=\"left\" color=\"primary\" elevation={0}>\r\n        <HeaderPlaceHolder/>\r\n        <CssBaseline/>\r\n        <CardHeader action={\r\n            <IconButton onClick={handleNewUser} disabled={newUser}>\r\n                <AddIcon fontSize=\"small\"/>\r\n            </IconButton>}/>\r\n        <List>\r\n            {Object.keys(nameList).length === 0 ?\r\n                <ListItem>\r\n                    <ListItemText inset>\r\n                        No user currently.\r\n                    </ListItemText>\r\n                </ListItem> :\r\n                Object.keys(nameList).map(item => {\r\n                    return (\r\n                        <React.Fragment key={item}>\r\n                            <ListItem>\r\n                                <ListItemText primary={item}/>\r\n                            </ListItem> {\r\n                            nameList[item].map(name => <ListItem key={name} onClick={() => handleClick(name)}\r\n                                                                 selected={name === currentUser} button>\r\n                                <ListItemAvatar>\r\n                                    <Avatar>{name.slice(0, 2).toUpperCase()}</Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={name}\r\n                                              primaryTypographyProps={{\r\n                                                  variant: \"subtitle2\",\r\n                                                  noWrap: true,\r\n                                                  color: \"default\",\r\n                                              }}/>\r\n                            </ListItem>)\r\n                        }\r\n                        </React.Fragment>)\r\n                })}\r\n        </List>\r\n    </Drawer>\r\n);\r\n\r\nUserSidebar.defaultProps = {\r\n    currentUser: \"\",\r\n};\r\n\r\nUserSidebar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    nameList: PropTypes.object.isRequired,\r\n    currentUser: PropTypes.string.isRequired,\r\n    handleClick: PropTypes.func.isRequired,\r\n    handleNewUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UserSidebar)\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Button from \"../../common/Button\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\nconst styles = theme => ({\r\n    header: {},\r\n    section: {},\r\n    sectionInner: {},\r\n    cardGridBg: {\r\n        padding: theme.spacing.unit,\r\n    },\r\n    cardGridSm: {\r\n        padding: 0.5 * theme.spacing.unit,\r\n    },\r\n    avatar: {\r\n        width: 60,\r\n        height: 60,\r\n    }\r\n});\r\n\r\nfunction UserDisplay({classes, user, handleEdit}) {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className={classes.header}>\r\n                <div style={{flexGrow: 1}}/>\r\n                <Button color={\"primary\"} onClick={handleEdit}>\r\n                    Edit\r\n                </Button>\r\n            </div>\r\n            <CardContent>\r\n                <Grid className={classes.cardGridBg} justify={\"center\"} container>\r\n                    <Avatar className={classes.avatar}>{user.username.slice(0, 2).toUpperCase()}</Avatar>\r\n                </Grid>\r\n                {\r\n                    user.name ?\r\n                        <Grid className={classes.cardGridSm} justify={\"center\"} container>\r\n                            <Typography variant={\"h6\"}>{user.name}</Typography>\r\n                        </Grid> : null\r\n                }\r\n                <Grid className={classes.cardGridSm} justify={\"center\"} container>\r\n                    <Typography variant={user.name ? \"subtitle1\" : \"h6\"}>{user.username}</Typography>\r\n                </Grid>\r\n                <Divider/>\r\n                <Grid className={classes.cardGridSm} spacing={8} container> {\r\n                    user.email ?\r\n                        <Grid xs item>\r\n                            <Typography color={\"primary\"}>Email</Typography>\r\n                            <Typography component={'a'}\r\n                                        href={`mailto:${user.email}`}>{user.email}</Typography>\r\n                        </Grid> : null\r\n                }\r\n                </Grid>\r\n                <Divider/>\r\n                <Grid className={classes.cardGridSm} spacing={8} container> {\r\n                    user.groups.length !== 0 ?\r\n                        <Grid item>\r\n                            <Typography color={\"primary\"}>Group</Typography>\r\n                            <Typography>{user.groups}</Typography>\r\n                        </Grid> : null\r\n                }\r\n                </Grid>\r\n                <Divider/>\r\n                <Grid className={classes.cardGridSm} spacing={8} container>\r\n                    <Grid xs item>\r\n                        <Typography color={\"primary\"}>Account Type</Typography>\r\n                        <Typography>{user.accountType}</Typography>\r\n                    </Grid>\r\n                    <Grid xs item>\r\n                        <Typography color={\"primary\"}>Domain</Typography>\r\n                        <Typography>{user.domain}</Typography>\r\n                    </Grid>\r\n                    <Grid xs item>\r\n                        <Typography color={\"primary\"}>Status</Typography>\r\n                        <Typography>{user.status}</Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </CardContent>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nUserDisplay.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    user: PropTypes.shape({\r\n        username: PropTypes.string.isRequired,\r\n        firstName: PropTypes.string,\r\n        lastName: PropTypes.string,\r\n        email: PropTypes.string,\r\n        accountType: PropTypes.oneOf([\"Administrator\", \"User\"]),\r\n        domain: PropTypes.oneOf([\"Staff\", \"Public\"]),\r\n        status: PropTypes.oneOf([\"Activated\", \"Not Activated\"]),\r\n    }).isRequired,\r\n    handleEdit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UserDisplay);\r\n","import React, {Component} from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\n\r\nconst styles = {\r\n    textField: {}\r\n};\r\n\r\nclass Groups extends Component {\r\n\r\n    state = {groupOn: []};\r\n\r\n    componentDidMount() {\r\n        this.groupOn = this.props.groups.map(() => true);\r\n    }\r\n\r\n    validation = () => {\r\n        this.props.handleUpdateValidation({error: false});\r\n\r\n        return false;\r\n    };\r\n\r\n    handleChange = (event, index) => {\r\n        const {groups: _groups, onChange} = this.props;\r\n        const groups = [..._groups];\r\n        groups[index] = event.target.value;\r\n        onChange(groups);\r\n    };\r\n\r\n    handleAddGroup = () => {\r\n\r\n        const handleAdded = () => {\r\n            this.setState(state => ({groupOn: [...state.groupOn, true]}));\r\n        };\r\n\r\n        const {groups, onChange} = this.props;\r\n        onChange([...groups, \"\"], handleAdded)\r\n    };\r\n\r\n    handleOnDrop = index => {\r\n        this.setState(state => {\r\n            const groupOn = state.groupOn.slice();\r\n            groupOn[index] = false;\r\n            return ({groupOn: groupOn});\r\n        })\r\n    };\r\n\r\n    handleDropGroup = index => {\r\n\r\n        const handleDropped = () => {\r\n            this.setState(state => ({groupOn: state.groupOn.filter(x => x)}));\r\n        };\r\n\r\n        const {groups: _groups, onChange} = this.props;\r\n        _groups.splice(index, 1);\r\n        onChange([..._groups], handleDropped);\r\n    };\r\n\r\n    render() {\r\n        const {classes, groups} = this.props;\r\n        const {groupOn} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Typography variant=\"subtitle1\" color=\"textSecondary\" gutterBottom>Groups</Typography>\r\n                {groups.map((group, index) => (\r\n                    <Collapse key={index} in={groupOn[index]} onExited={() => this.handleDropGroup(index)}>\r\n                        <Grow in={groupOn[index]}>\r\n                            <Grid spacing={8} alignItems=\"flex-end\" container>\r\n                                <Grid item>\r\n                                    <IconButton onClick={() => this.handleOnDrop(index)}>\r\n                                        <Icon className=\"fas fa-minus-circle\" color=\"error\" fontSize=\"small\"/>\r\n                                    </IconButton>\r\n                                </Grid>\r\n                                <Grid>\r\n                                    <TextField key={index}\r\n                                               id={`group-${index}`}\r\n                                               className={classes.textField}\r\n                                               value={group}\r\n                                               onChange={e => this.handleChange(e, index)}\r\n                                               onBlur={this.validation}\r\n                                               margin=\"dense\"\r\n                                               fullWidth/>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grow>\r\n                    </Collapse>\r\n                ))}\r\n                <Grid spacing={8} alignItems=\"center\" justify=\"flex-start\" container>\r\n                    <Grid item>\r\n                        <IconButton onClick={this.handleAddGroup}>\r\n                            <Icon className=\"fas fa-plus-circle\" color=\"secondary\" fontSize=\"small\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Typography align=\"center\">Add new group</Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>)\r\n    }\r\n}\r\n\r\nGroups.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    groups: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n    handleUpdateValidation: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Groups);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst styles = {\r\n    textField: {}\r\n};\r\n\r\nconst SelectionTextField = ({classes, menuItems, onChange, ...rest}) => (\r\n    <TextField className={classes.textField} onChange={onChange} {...rest} select margin=\"dense\">\r\n        {menuItems.map(option => (\r\n            <MenuItem key={option} value={option}>\r\n                {option}\r\n            </MenuItem>\r\n        ))}\r\n    </TextField>\r\n);\r\n\r\nclass PermissionControl extends React.PureComponent {\r\n\r\n    validate = () => {\r\n        const {accountType, domain, status, handleUpdateValidation} = this.props;\r\n\r\n        const temp = [accountType, domain, status].map(textField => textField === \"\");\r\n        const error = temp.some(x => x);\r\n\r\n        handleUpdateValidation({error: error, rest: temp});\r\n\r\n        return error;\r\n    };\r\n\r\n    render() {\r\n        const {classes, accountType, domain, error, status, handleChange} = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Typography variant=\"subtitle1\" color=\"textSecondary\" gutterBottom>\r\n                    User Permission\r\n                </Typography>\r\n\r\n                <Grid container>\r\n                    <Grid xs item>\r\n                        <SelectionTextField\r\n                            id=\"accountType\"\r\n                            label=\"Account Type\"\r\n                            classes={classes}\r\n                            menuItems={[\"Administrator\", \"User\"]}\r\n                            value={accountType}\r\n                            error={error[0]}\r\n                            onChange={handleChange(\"accountType\")}\r\n                            helperText={error[0] ? \"Account type has to be selected\" : \"\"}\r\n                            onBlur={this.validate}\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid xs item>\r\n                        <Grid xs item>\r\n                            <SelectionTextField\r\n                                id=\"domain\"\r\n                                label=\"Domain\"\r\n                                classes={classes}\r\n                                menuItems={[\"Staff\", \"Public\"]}\r\n                                value={domain}\r\n                                error={error[1]}\r\n                                onChange={handleChange(\"domain\")}\r\n                                helperText={error[1] ? \"Domain has to be selected\" : \"\"}\r\n                                onBlur={this.validate}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid xs item>\r\n                        <SelectionTextField\r\n                            id=\"status\"\r\n                            label=\"Status\"\r\n                            classes={classes}\r\n                            menuItems={[\"Activated\", \"Not Activated\"]}\r\n                            value={status}\r\n                            error={error[2]}\r\n                            onChange={handleChange(\"status\")}\r\n                            helperText={error[2] ? \"Status has to be selected\" : \"\"}\r\n                            onBlur={this.validate}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nPermissionControl.defaultProps = {error: []};\r\n\r\nPermissionControl.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    accountType: PropTypes.oneOf([\"\", \"Administrator\", \"User\"]).isRequired,\r\n    domain: PropTypes.oneOf([\"\", \"Staff\", \"Public\"]).isRequired,\r\n    status: PropTypes.oneOf([\"\", \"Activated\", \"Not Activated\"]).isRequired,\r\n    error: PropTypes.array.isRequired,\r\n    handleChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PermissionControl);\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {withStyles} from \"@material-ui/styles\";\r\n\r\nconst styles = {\r\n    textField: {}\r\n};\r\n\r\nclass Name extends React.PureComponent {\r\n\r\n    validate = () => {\r\n        const {firstName, lastName, handleUpdateValidation} = this.props;\r\n\r\n        const temp = [firstName, lastName].map(textField => textField === \"\");\r\n        const error = temp.some(x => x);\r\n\r\n        handleUpdateValidation({error: error, rest: temp});\r\n\r\n        return error;\r\n    };\r\n\r\n    render() {\r\n        const {classes, firstName, lastName, error, handleChange} = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TextField id=\"firstName\"\r\n                           className={classes.textField}\r\n                           label=\"First Name\"\r\n                           value={firstName}\r\n                           error={error[0]}\r\n                           onChange={handleChange(\"firstName\")}\r\n                           onBlur={this.validate}\r\n                           required\r\n                           helperText={error[0] ? \"This field is required\" : undefined}\r\n                           margin=\"dense\"/>\r\n                <TextField id=\"lastName\"\r\n                           className={classes.textField}\r\n                           label=\"Last Name\"\r\n                           value={lastName}\r\n                           error={error[1]}\r\n                           onChange={handleChange(\"lastName\")}\r\n                           onBlur={this.validate}\r\n                           required\r\n                           helperText={error[0] ? \"This field is required\" : undefined}\r\n                           margin=\"dense\"/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nName.defaultProps = {error: []};\r\n\r\nexport default withStyles(styles)(Name);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TextField from \"@material-ui/core/es/TextField/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Avatar from \"@material-ui/core/es/Avatar/Avatar\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport Groups from \"./formComponent/Groups\";\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport Button from \"../../common/Button\";\r\nimport PermissionControl from \"./formComponent/PermissionControl\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Name from \"./formComponent/Name\";\r\n\r\nconst styles = theme => ({\r\n    header: {},\r\n    textField: {},\r\n    section: {},\r\n    sectionInner: {},\r\n    dialogPaper: {\r\n        backgroundColor: theme.palette.grey[200],\r\n        opacity: 0.98,\r\n    }\r\n});\r\n\r\nclass UserEdit extends React.PureComponent {\r\n\r\n    state = {\r\n        id: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        username: \"\",\r\n        email: \"\",\r\n        is_superuser: false,\r\n        domain: false,\r\n        status: false,\r\n        groups: [],\r\n        validation: {\r\n            name: {error: false, rest: undefined},\r\n            groups: {error: false, rest: undefined},\r\n            permissionControl: {error: false, rest: undefined},\r\n        },\r\n        deleteDialog: false,\r\n        ...this.props.user,\r\n    };\r\n\r\n    child = {\r\n        name: React.createRef(),\r\n        permissionControl: React.createRef(),\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({[name]: event.target.value});\r\n    };\r\n\r\n    collectValidation = name => _state => {\r\n        this.setState(state => ({...state, validation: {...state.validation, [name]: _state}}));\r\n    };\r\n\r\n    handleDelete = () => {\r\n        this.props.handleDelete(this.state.id);\r\n        this.setState({deleteDialog: false});\r\n    };\r\n\r\n    handleSubmit = () => {\r\n\r\n        const result = [];\r\n\r\n        // call for validate, collect validation\r\n        Object.values(this.child).forEach(v =>\r\n            result.push(v.current.validate()));\r\n\r\n        // check errors\r\n        if (result.every(x => !x))\r\n            this.props.handleDone({...this.state, validation: undefined, deleteDialog: undefined})\r\n    };\r\n\r\n    render() {\r\n        const {classes, handleCancel} = this.props;\r\n        const {\r\n            firstName, lastName, username, email, accountType, domain, status, groups,\r\n            deleteDialog, validation\r\n        } = this.state;\r\n        const _validation = {};\r\n        Object.keys(validation).forEach(key => _validation[key] = validation[key].rest);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={classes.header}>\r\n                    <Button color={\"primary\"} onClick={handleCancel}>\r\n                        Cancel\r\n                    </Button>\r\n                    <div style={{flexGrow: 1}}/>\r\n                    <Button color=\"primary\" onClick={this.handleSubmit}\r\n                            disabled={!Object.values(validation).every(x => !x.error)}>\r\n                        Done\r\n                    </Button>\r\n                </div>\r\n                <CardContent>\r\n                    <div className={classes.section}>\r\n                        <Grid direction=\"row\" spacing={8} alignItems=\"center\" container>\r\n                            <Grid item>\r\n                                <Avatar>{username.slice(0, 2).toUpperCase()}</Avatar>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Name classes={{textField: classes.textField}}\r\n                                      innerRef={this.child.name}\r\n                                      firstName={firstName}\r\n                                      lastName={lastName}\r\n                                      handleChange={this.handleChange}\r\n                                      error={_validation.name}\r\n                                      handleUpdateValidation={this.collectValidation(\"name\")}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n\r\n                    <div className={classes.section}>\r\n                        <Typography variant=\"subtitle1\" color=\"textSecondary\">Personal Information</Typography>\r\n                        <div className={classes.sectionInner}>\r\n                            <TextField id={\"email\"}\r\n                                       className={classes.textField}\r\n                                       label={\"Email\"}\r\n                                       value={email}\r\n                                       onChange={this.handleChange(\"email\")}\r\n                                       margin={\"dense\"}\r\n                                       fullWidth/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.section}>\r\n                        <Groups classes={{textField: classes.textField}}\r\n                                groups={groups}\r\n                                onChange={(groups, callback) => this.setState({groups: groups}, callback)}\r\n                                handleUpdateValidation={this.collectValidation(\"groups\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={classes.section}>\r\n                        <PermissionControl\r\n                            classes={{textField: classes.textField}}\r\n                            innerRef={this.child.permissionControl}\r\n                            accountType={accountType}\r\n                            domain={domain}\r\n                            status={status}\r\n                            error={_validation.permissionControl}\r\n                            handleChange={this.handleChange}\r\n                            handleUpdateValidation={this.collectValidation(\"permissionControl\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={classes.section}>\r\n                        <Grid justify=\"center\" container>\r\n                            <Button onClick={() => this.setState({deleteDialog: true})}>\r\n                                <Typography color=\"error\">Delete User</Typography>\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        {/* delete dialog */}\r\n                        <Dialog classes={{paper: classes.dialogPaper}} open={deleteDialog}\r\n                                onClose={() => this.setState({deleteDialog: false})}>\r\n                            <DialogTitle>{`Delete User \"${username}\"?`}</DialogTitle>\r\n                            <DialogContent>\r\n                                <DialogContentText>\r\n                                    Deleting user {`\"${username}\"`} will also delete all its data.\r\n                                    This action cannot be undo.\r\n                                </DialogContentText>\r\n                                <DialogActions>\r\n                                    <Button color={\"primary\"} onClick={() => this.setState({deleteDialog: false})}>\r\n                                        Cancel\r\n                                    </Button>\r\n                                    <Button onClick={this.handleDelete}>\r\n                                        <Typography color={\"error\"}>Delete Anyway</Typography>\r\n                                    </Button>\r\n                                </DialogActions>\r\n                            </DialogContent>\r\n                        </Dialog>\r\n\r\n                    </div>\r\n\r\n                </CardContent>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nUserEdit.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    handleDone: PropTypes.func.isRequired,\r\n    handleCancel: PropTypes.func.isRequired,\r\n    handleDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UserEdit);\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport withStyles from \"@material-ui/styles/withStyles\"\r\n\r\nconst styles = {\r\n    textField: {}\r\n};\r\n\r\nclass Username extends React.PureComponent {\r\n\r\n    validate = () => {\r\n        const {value, handleUpdateValidation} = this.props;\r\n        const error = value === \"\";\r\n\r\n        handleUpdateValidation({error: error, rest: error});\r\n\r\n        return error;\r\n    };\r\n\r\n    render() {\r\n        const {classes, value, error, onChange} = this.props;\r\n\r\n        return (\r\n            <TextField id=\"username\"\r\n                       className={classes.textField}\r\n                       label=\"Username\"\r\n                       value={value}\r\n                       error={error}\r\n                       onChange={onChange}\r\n                       onBlur={this.validate}\r\n                       helperText={error ? \"This field is required\" : undefined}\r\n                       required\r\n                       margin=\"dense\"/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Username);\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport VisibilityIcon from \"@material-ui/icons/VisibilityRounded\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOffRounded\";\r\nimport {withStyles} from \"@material-ui/styles\";\r\n\r\nconst styles = {\r\n    textField: {},\r\n};\r\n\r\nconst messages = [\r\n    \"Valid password\",\r\n    \"Password need to contain at least 1 alphabet, and 1 digit\",\r\n    \"Password need to be at least 8 characters\",\r\n    \"Password may not contain space\",\r\n    \"Your password should contains at least 1 alphabet, 1 digit and 8 characters\",\r\n];\r\n\r\nclass Password extends React.Component {\r\n    state = {\r\n        showPassword: false,\r\n    };\r\n\r\n    validate = () => {\r\n        const {value, handleUpdateValidation} = this.props;\r\n\r\n        let code = 4;\r\n        for (const re of [/^(?![\\s\\S])/, /[\\s]+/, /^.{0,7}$/, /(?=^[^0-9]*$)|(?=^[^a-zA-Z]*$)/]) {\r\n            if (re.test(value))\r\n                break;\r\n            code--;\r\n        }\r\n\r\n        handleUpdateValidation({error: Boolean(code), rest: code});\r\n\r\n        return code;\r\n    };\r\n\r\n    render() {\r\n        const {classes, value, error, onChange} = this.props;\r\n        const {showPassword} = this.state;\r\n\r\n        return (<TextField id=\"password\"\r\n                           className={classes.textField}\r\n                           type={showPassword ? \"text\" : \"password\"}\r\n                           label=\"Password\"\r\n                           value={value}\r\n                           error={Boolean(error)}\r\n                           onChange={onChange}\r\n                           InputProps={{\r\n                               endAdornment: (\r\n                                   <InputAdornment position=\"end\">\r\n                                       <IconButton\r\n                                           aria-label=\"Toggle password visibility\"\r\n                                           onClick={() => this.setState({showPassword: !showPassword})}\r\n                                       >\r\n                                           {showPassword ? <VisibilityIcon/> : <VisibilityOffIcon/>}\r\n                                       </IconButton>\r\n                                   </InputAdornment>\r\n                               ),\r\n                           }}\r\n                           onBlur={this.validate}\r\n                           required\r\n                           helperText={error === undefined ? messages[4] : messages[error]}\r\n                           margin=\"dense\"/>);\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Password);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport Button from \"../../common/Button\";\r\nimport Groups from \"./formComponent/Groups\";\r\nimport PermissionControl from \"./formComponent/PermissionControl\";\r\nimport Username from \"./formComponent/Username\";\r\nimport Password from \"./formComponent/Password\";\r\nimport Name from \"./formComponent/Name\";\r\n\r\nconst styles = {\r\n    header: {},\r\n    textField: {},\r\n    section: {},\r\n    sectionInner: {},\r\n};\r\n\r\nclass UserNew extends React.PureComponent {\r\n\r\n    state = {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        _password: \"\",\r\n        email: \"\",\r\n        accountType: \"\",\r\n        domain: \"\",\r\n        status: \"\",\r\n        groups: [],\r\n        showPassword: false,\r\n        validation: {\r\n            username: {error: false, rest: undefined},\r\n            password: {error: false, rest: undefined},\r\n            name: {error: false, rest: undefined},\r\n            groups: {error: false, rest: undefined},\r\n            permissionControl: {error: false, rest: undefined},\r\n        }\r\n    };\r\n\r\n    child = {\r\n        username: React.createRef(),\r\n        password: React.createRef(),\r\n        name: React.createRef(),\r\n        permissionControl: React.createRef(),\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({[name]: event.target.value});\r\n    };\r\n\r\n    handleSubmit = () => {\r\n\r\n        const result = [];\r\n\r\n        // call for validate, collect validation\r\n        Object.values(this.child).forEach(v =>\r\n            result.push(v.current.validate()));\r\n\r\n        // check errors\r\n        if (result.every(x => !x))\r\n            this.props.handleDone({...this.state, showPassword: undefined, validation: undefined})\r\n    };\r\n\r\n    collectValidation = name => _state => {\r\n        this.setState(state => ({...state, validation: {...state.validation, [name]: _state}}));\r\n    };\r\n\r\n    render() {\r\n        const {classes, handleCancel} = this.props;\r\n        const {firstName, lastName, username, password, email, groups, accountType, domain, status, validation} = this.state;\r\n        const _validation = {};\r\n        Object.keys(validation).forEach(key => _validation[key] = validation[key].rest);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={classes.header}>\r\n                    <Button color=\"primary\" onClick={handleCancel}>\r\n                        Cancel\r\n                    </Button>\r\n                    <div style={{flexGrow: 1}}/>\r\n                    <Button color=\"primary\" onClick={this.handleSubmit}\r\n                            disabled={!Object.values(validation).every(x => !x.error)}>\r\n                        Done\r\n                    </Button>\r\n                </div>\r\n\r\n                <CardContent>\r\n                    <div className={classes.section}>\r\n                        <div className={classes.sectionInner}>\r\n                            <Username classes={{textField: classes.textField}}\r\n                                      innerRef={this.child.username}\r\n                                      value={username}\r\n                                      onChange={this.handleChange(\"username\")}\r\n                                      error={_validation.username}\r\n                                      handleUpdateValidation={this.collectValidation(\"username\")}\r\n                            />\r\n                        </div>\r\n                        <div className={classes.sectionInner}>\r\n                            <Password\r\n                                classes={{textField: classes.textField}}\r\n                                innerRef={this.child.password}\r\n                                value={password}\r\n                                onChange={this.handleChange(\"password\")}\r\n                                error={_validation.password}\r\n                                handleUpdateValidation={this.collectValidation(\"password\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.section}>\r\n                        <Typography variant=\"subtitle1\" color=\"textSecondary\">Personal Information</Typography>\r\n                        <Grid direction=\"row\" spacing={8} alignItems=\"center\" container>\r\n                            <Grid item>\r\n                                <Name classes={{textField: classes.textField}}\r\n                                      innerRef={this.child.name}\r\n                                      firstName={firstName}\r\n                                      lastName={lastName}\r\n                                      handleChange={this.handleChange}\r\n                                      error={_validation.name}\r\n                                      handleUpdateValidation={this.collectValidation(\"name\")}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                        <div className={classes.sectionInner}>\r\n                            <TextField id=\"email\"\r\n                                       className={classes.textField}\r\n                                       label=\"Email\"\r\n                                       value={email}\r\n                                       onChange={this.handleChange(\"email\")}\r\n                                       margin=\"dense\"/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.section}>\r\n                        <Groups classes={{textField: classes.textField}}\r\n                                groups={groups}\r\n                                onChange={(groups, callback) => this.setState({groups: groups}, callback)}\r\n                                handleUpdateValidation={this.collectValidation(\"groups\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={classes.section}>\r\n                        <PermissionControl\r\n                            classes={{textField: classes.textField}}\r\n                            innerRef={this.child.permissionControl}\r\n                            accountType={accountType}\r\n                            domain={domain}\r\n                            status={status}\r\n                            error={_validation.permissionControl}\r\n                            handleChange={this.handleChange}\r\n                            handleUpdateValidation={this.collectValidation(\"permissionControl\")}\r\n                        />\r\n                    </div>\r\n                </CardContent>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nUserNew.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    handleCancel: PropTypes.func.isRequired,\r\n    handleDone: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UserNew);\r\n","import React from \"react\";\r\n\r\nclass MountTransition extends React.PureComponent {\r\n\r\n    state = {\r\n        mount: false,\r\n        in: false,\r\n    };\r\n\r\n    handleIn = () => {\r\n        this.setState({mount: true, in: true})\r\n    };\r\n\r\n    handleOnExit = () => {\r\n        this.setState({in: false}, this.props.onExited)\r\n    };\r\n\r\n    handleOnExited = () => {\r\n        this.setState({mount: false})\r\n    };\r\n\r\n    componentWillMount() {\r\n        this.props.in ? this.handleIn() : this.handleOnExit();\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState, nextContext) {\r\n        if (nextProps.in !== this.props.in) {\r\n            nextProps.in ? this.handleIn() : this.handleOnExit();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {transition: Transition, children, ...rest} = this.props;\r\n        const {mount, in: _in} = this.state;\r\n\r\n        if (mount)\r\n            return (\r\n                <Transition in={_in} {...rest} onExited={this.handleOnExited}>\r\n                    <div>\r\n                        {children}\r\n                    </div>\r\n                </Transition>\r\n            );\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default MountTransition;\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Sidebar from \"./UserSidebar\";\r\nimport UserDisplay from \"./UserDisplay\";\r\nimport UserEdit from \"./UserEdit\";\r\nimport UserNew from \"./UserNew\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport MountTransition from \"../../common/MountTransition\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n        width: 200,\r\n    },\r\n    section: {\r\n        padding: [[2 * theme.spacing.unit, 0]],\r\n        marginTop: theme.spacing.unit,\r\n        \"&:first-child\": {\r\n            marginTop: 0,\r\n        }\r\n    },\r\n    sectionInner: {\r\n        paddingTop: 0.5 * theme.spacing.unit,\r\n        \"&: first-child\": {\r\n            paddingTop: 0,\r\n        }\r\n    },\r\n    cardHeader: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        padding: 2 * theme.spacing.unit,\r\n    },\r\n    detail: {\r\n        flex: 1,\r\n        maxWidth: 700,\r\n        margin: \"auto\",\r\n    },\r\n});\r\n\r\nclass UserManagement extends React.PureComponent {\r\n    state = {\r\n        edit: false,\r\n        newUser: false,\r\n        currentUser: \"\",\r\n    };\r\n\r\n    componentWillMount() {\r\n        this.props.fetchUserList();\r\n    }\r\n\r\n    /**\r\n     * Open creation form\r\n     */\r\n    handleOnCreateUser = () => {\r\n        this.setState({newUser: true, currentUser: \"\"});\r\n    };\r\n\r\n    /**\r\n     *  Send creation form, close form and update sidebar when success\r\n     * @param user new user form\r\n     */\r\n    handleCreateUser = user => {\r\n        const handleCreated = () => {\r\n            this.setState({newUser: false});\r\n            this.props.fetchUserList();\r\n        };\r\n        this.props.handleNewUser(user, handleCreated);\r\n    };\r\n\r\n    handleUpdateUser = user => {\r\n        this.props.handleUpdateUser(user, () => this.setState({edit: false}));\r\n    };\r\n\r\n    handleDeleteUser = id => {\r\n        this.setState({currentUser: \"\"});\r\n        this.props.handleDeleteUser(id, this.props.fetchUserList);\r\n    };\r\n\r\n    /**\r\n     * Form close factory\r\n     * @param name form flag name\r\n     * @return {Function} form close handler\r\n     */\r\n    handleFormCloseFactory = name => () => {\r\n        this.setState({[`${name}`]: false});\r\n    };\r\n\r\n    render() {\r\n        const {classes, users, nameList} = this.props;\r\n        const {edit, newUser, currentUser} = this.state;\r\n\r\n        const user = users[users.findIndex(user => user.username === currentUser)];\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <Sidebar nameList={nameList}\r\n                         currentUser={currentUser}\r\n                         newUser={newUser}\r\n                         handleNewUser={this.handleOnCreateUser}\r\n                         handleClick={user => this.setState({currentUser: user, newUser: false, edit: false})}/>\r\n                <div className={classes.detail}>\r\n                    <MountTransition in={newUser} transition={Grow}>\r\n                        <UserNew\r\n                            classes={{\r\n                                header: classes.cardHeader,\r\n                                textField: classes.textField,\r\n                                section: classes.section,\r\n                                sectionInner: classes.sectionInner,\r\n                            }}\r\n                            handleDone={this.handleCreateUser}\r\n                            handleCancel={() => this.setState({newUser: false})}\r\n                        />\r\n                    </MountTransition>\r\n                    {\r\n                        user ?\r\n                            <React.Fragment>\r\n                                <MountTransition in={edit} transition={Fade} timeout={{exit: 0}}>\r\n                                    <UserEdit classes={{\r\n                                        header: classes.cardHeader,\r\n                                        textField: classes.textField,\r\n                                        section: classes.section,\r\n                                        sectionInner: classes.sectionInner,\r\n                                    }}\r\n                                              user={user}\r\n                                              handleDone={this.handleUpdateUser}\r\n                                              handleCancel={this.handleFormCloseFactory(\"edit\")}\r\n                                              handleDelete={this.handleDeleteUser}/>\r\n                                </MountTransition>\r\n                                <MountTransition in={!edit} transition={Fade} timeout={{exit: 0}}>\r\n                                    <UserDisplay classes={{\r\n                                        header: classes.cardHeader,\r\n                                        section: classes.section,\r\n                                        sectionInner: classes.sectionInner,\r\n                                    }}\r\n                                                 user={user}\r\n                                                 handleEdit={() => this.setState({edit: true})}/>\r\n                                </MountTransition>\r\n                            </React.Fragment> :\r\n                            null\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nUserManagement.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    users: PropTypes.arrayOf(\r\n        PropTypes.object.isRequired,\r\n    ).isRequired,\r\n    nameList: PropTypes.object.isRequired,\r\n    fetchUserList: PropTypes.func.isRequired,\r\n    handleNewUser: PropTypes.func.isRequired,\r\n    handleUpdateUser: PropTypes.func.isRequired,\r\n    handleDeleteUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UserManagement);\r\n","import {\r\n    USER_GET_LIST_RECEIVE,\r\n    USER_GET_LIST_REQUEST,\r\n    USER_LOGOUT_RECEIVE,\r\n    USER_LOGOUT_REQUEST\r\n} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {decodeUserListJson} from \"../../../utils/jsonDecoder\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestGetList = () => ({\r\n    type: USER_GET_LIST_REQUEST,\r\n});\r\n\r\nfunction usersToNameList(data) {\r\n    const nameList = {};\r\n\r\n    data.map(user => user.username).forEach(user => {\r\n        let cat = user[0].toUpperCase();\r\n        cat = cat.match(/[A-Z]/) ? cat : (cat.match(/[0-9]/) ? \"#\" : \"@\");\r\n        nameList.hasOwnProperty(cat) ? nameList[cat].push(user) : nameList[cat] = [user];\r\n    });\r\n\r\n    return nameList;\r\n}\r\n\r\nconst receiveGetList_Success = (json) => ({\r\n    type: USER_GET_LIST_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    users: json.data,\r\n    nameList: usersToNameList(json.data),\r\n    time: json.time,\r\n});\r\n\r\nconst receiveGetList_Failure = (json) => ({\r\n    type: USER_GET_LIST_RECEIVE,\r\n    status: \"FAILURE\",\r\n    reason: json.data,\r\n});\r\n\r\nexport const USER_getList = () => dispatch => {\r\n    xmlHttpRequest(dispatch, \"GET\", {\r\n        url: '/restapi/users/',\r\n        jsonDecoder: decodeUserListJson,\r\n        request: requestGetList,\r\n        receiveSuccess: receiveGetList_Success,\r\n        receiveFailure: receiveGetList_Failure,\r\n    });\r\n};\r\n\r\nconst requestLogout = () => ({\r\n    type: USER_LOGOUT_REQUEST,\r\n});\r\n\r\nconst receiveLogout_Success = () => ({\r\n    type: USER_LOGOUT_RECEIVE,\r\n    status: \"SUCCESS\",\r\n});\r\n\r\nconst receiveLogout_Failure = json => ({\r\n    type: USER_LOGOUT_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    reason: json.data,\r\n});\r\n\r\nexport const USER_logout = (successCallback = emptyFunction) => dispatch => {\r\n\r\n    xmlHttpRequest(dispatch, \"GET\", {\r\n        url: '/restapi/logout/',\r\n        request: requestLogout,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveLogout_Success(json);\r\n        },\r\n        receiveFailure: receiveLogout_Failure,\r\n    });\r\n};\r\n","import {USER_DELETE_RECEIVE, USER_DELETE_REQUEST} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestDelete = () => ({\r\n    type: USER_DELETE_REQUEST,\r\n});\r\n\r\nconst receiveDelete_Success = json => ({\r\n    type: USER_DELETE_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    time: json.time,\r\n});\r\n\r\nconst receiveDelete_Failure = json => ({\r\n    type: USER_DELETE_RECEIVE,\r\n    status: \"FAILURE\",\r\n    reason: json.data,\r\n});\r\n\r\nexport const USER_delete = (id, successCallback = emptyFunction) => dispatch => {\r\n    xmlHttpRequest(dispatch, \"DELETE\", {\r\n        url: `/restapi/users/${id}/`,\r\n        request: requestDelete,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveDelete_Success(json);\r\n        },\r\n        receiveFailure: receiveDelete_Failure,\r\n    });\r\n};","import {USER_POST_RECEIVE, USER_POST_REQUEST,} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestCreate = () => ({\r\n    type: USER_POST_REQUEST,\r\n});\r\n\r\nconst receiveCreate_Success = json => ({\r\n    type: USER_POST_RECEIVE,\r\n    status: 'SUCCESS',\r\n    time: json.time,\r\n});\r\n\r\nconst receiveCreate_Failure = json => ({\r\n    type: USER_POST_RECEIVE,\r\n    status: 'FAILURE',\r\n    reason: json.data,\r\n});\r\n\r\nexport const USER_create = ({username, password, firstName, lastName, email, groups, accountType, domain, status},\r\n                            successCallback = emptyFunction) => dispatch => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"username\", username);\r\n    formData.append(\"password\", password);\r\n    formData.append(\"first_name\", firstName);\r\n    formData.append(\"last_name\", lastName);\r\n    formData.append(\"email\", email);\r\n    groups.forEach(group => formData.append(\"groups\", group));\r\n    if (accountType === \"Administrator\") formData.append(\"is_superuser\", \"true\");\r\n    if (domain === \"Staff\") formData.append(\"is_staff\", \"true\");\r\n    if (status === \"Activated\") formData.append(\"is_active\", \"true\");\r\n\r\n    xmlHttpRequest(dispatch, \"POST\", {\r\n        url: '/restapi/users/',\r\n        request: requestCreate,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveCreate_Success(json);\r\n        },\r\n        receiveFailure: receiveCreate_Failure,\r\n        formData,\r\n    });\r\n};\r\n","import {USER_UPDATE_RECEIVE, USER_UPDATE_REQUEST} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestUpdate = () => ({\r\n    type: USER_UPDATE_REQUEST,\r\n});\r\n\r\nconst receiveUpdate_Success = json => ({\r\n    type: USER_UPDATE_RECEIVE,\r\n    status: 'SUCCESS',\r\n    time: json.time,\r\n});\r\n\r\nconst receiveUpdate_Failure = json => ({\r\n    type: USER_UPDATE_RECEIVE,\r\n    status: 'FAILURE',\r\n    reason: json.data,\r\n});\r\n\r\nexport const USER_update = ({id, firstName, lastName, email, password, username, groups, accountType, domain, status},\r\n                            successCallback = emptyFunction) => dispatch => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"id\", id);\r\n    formData.append(\"first_name\", firstName);\r\n    formData.append(\"last_name\", lastName);\r\n    formData.append(\"email\", email);\r\n    groups.forEach(group => formData.append(\"groups[]\", group));\r\n    if (accountType === \"Administrator\") formData.append(\"is_superuser\", \"true\");\r\n    if (domain === \"Staff\") formData.append(\"is_staff\", \"true\");\r\n    if (status === \"Activated\") formData.append(\"is_active\", \"true\");\r\n\r\n    xmlHttpRequest(dispatch, \"PATCH\", {\r\n        url: `/restapi/users/${id}/`,\r\n        request: requestUpdate,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveUpdate_Success(json);\r\n        },\r\n        receiveFailure: receiveUpdate_Failure,\r\n        formData,\r\n    });\r\n};","import {connect} from \"react-redux\";\r\nimport UserManagement from \"./UserManagement\";\r\nimport {USER_create, USER_delete, USER_getList, USER_update} from \"../../../redux/actions/user\";\r\n\r\nconst mapStateToProps = state => ({\r\n    users: state.user.userList.users,\r\n    nameList: state.user.userList.nameList,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchUserList: () => dispatch(USER_getList()),\r\n    handleNewUser: (user, successCallback) => dispatch(USER_create(user, successCallback)),\r\n    handleUpdateUser: (user, successCallback) => dispatch(USER_update(user, successCallback)),\r\n    handleDeleteUser: (id, successCallback) => dispatch(USER_delete(id, successCallback)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserManagement);\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport Snackbar from \"../../common/Snackbar\";\r\n\r\nconst mapStateToProps = state => ({\r\n    newState: state.user.userNew,\r\n    updateState: state.user.userUpdate,\r\n    deleteState: state.user.userDelete,\r\n});\r\n\r\nconst MessageBars = ({newState, updateState, deleteState}) => (\r\n    <React.Fragment>\r\n        <Snackbar state={newState} message={{success: \"Create user success\"}}/>\r\n        <Snackbar state={updateState} message={{success: \"Update user success\"}}/>\r\n        <Snackbar state={deleteState} message={{success: \"Delete user success\"}}/>\r\n    </React.Fragment>\r\n);\r\n\r\nexport default connect(mapStateToProps)(MessageBars);\r\n","import React from \"react\";\r\nimport {styles} from \"../common/layout\";\r\nimport UserManagement from \".\";\r\nimport Sidebar from \"../common/Sidebar\";\r\nimport Switch from \"react-router/Switch\";\r\nimport Route from \"../../../routes/RouteWrapper\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport MessageBars from \"./MessageBars\";\r\n\r\nconst UserRouter = ({classes, match}) => (\r\n    <div className={classes.root}>\r\n        <Sidebar currentPath={match.path}/>\r\n        <div className={classes.grow}>\r\n            <Switch>\r\n                {Route({exact: true, path: '/', component: UserManagement})}\r\n                {/*<Redirect to={'/404'}/>*/}\r\n            </Switch>\r\n            <MessageBars/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default withStyles(styles)(UserRouter);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nconst styles = {};\r\n\r\nconst DetectionTable = ({classes, rows}) => (\r\n    <Table className={classes.table}>\r\n        <TableHead>\r\n            <TableRow>\r\n                <TableCell>Image</TableCell>\r\n                <TableCell align=\"center\">Name</TableCell>\r\n                <TableCell align=\"right\">Confidence %</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n            {rows.map((row, index) => (\r\n                <TableRow key={index}>\r\n                    <TableCell component=\"th\" scope=\"row\">\r\n                        <Avatar src={row.src || `https://api.adorable.io/avatars/285/${row.name}`}/>\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">{row.name}</TableCell>\r\n                    {\r\n                        row.score ?\r\n                            <TableCell align=\"right\">{Math.round(row.score * 10000) / 100}</TableCell> :\r\n                            <TableCell align=\"center\">N.A.</TableCell>\r\n                    }\r\n                </TableRow>\r\n            ))}\r\n        </TableBody>\r\n    </Table>\r\n);\r\n\r\nDetectionTable.defaultProps = {\r\n    rows: [],\r\n};\r\n\r\nDetectionTable.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    rows: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DetectionTable);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport AppBar from \"@material-ui/core/AppBar/AppBar\";\r\nimport CubeIcon from \"mdi-material-ui/Cube\";\r\nimport FaceIcon from \"@material-ui/icons/FaceRounded\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport LocalMoviesIcon from \"@material-ui/icons/LocalMoviesRounded\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport TextFormatIcon from \"@material-ui/icons/TextFormatRounded\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {IconButton, Toolbar} from \"@material-ui/core\";\r\nimport HeaderPlaceHolder from \"../../../../common/HeaderPlaceholder\";\r\nimport ExportIcon from \"mdi-material-ui/ExportVariant\";\r\nimport DetectionTable from \"../common/DetectionTable\";\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflow: \"scroll\",\r\n    },\r\n    paper: {\r\n        flexGrow: 1,\r\n        padding: 2 * theme.spacing.unit,\r\n        height: \"100%\",\r\n        marginBottom: 2.5 * theme.spacing.unit,\r\n    },\r\n    toolbar: {\r\n        paddingTop: theme.spacing.unit,\r\n        paddingBottom: theme.spacing.unit,\r\n    },\r\n    appBar: {\r\n        top: \"auto\",\r\n        bottom: 0,\r\n    },\r\n    smallTab: {\r\n        minWidth: 50,\r\n    },\r\n});\r\n\r\nclass DetectionCard extends React.PureComponent {\r\n\r\n    state = {\r\n        tab: \"object\",\r\n    };\r\n\r\n    handleTabChange = (event, value) => {\r\n        this.setState({tab: value});\r\n    };\r\n\r\n    render() {\r\n        const {classes, result, frame} = this.props;\r\n        const {tab} = this.state;\r\n\r\n        const card = {};\r\n        Object.keys(result).forEach(key => card[key] = result[key][frame] || []);\r\n        card.overall = Object.values(card).reduce((x, y) => x.concat(y), []);\r\n\r\n        return <React.Fragment>\r\n            <div className={classes.root}>\r\n                <Paper className={classes.paper} elevation={0} title=\"Analytic result\">\r\n                    <AppBar position=\"absolute\" color=\"default\" style={{backgroundColor: \"white\"}}>\r\n                        <Toolbar className={classes.toolbar}>\r\n                            <Typography style={{flexGrow: 1}} variant=\"h5\" component=\"h4\">\r\n                                Analytic Result\r\n                            </Typography>\r\n                            <FormControlLabel style={{flexShrink: 0}}\r\n                                              control={\r\n                                                  <Switch\r\n                                                      checked={tab === \"overall\"}\r\n                                                      onChange={e => this.handleTabChange(e, \"overall\")}\r\n                                                      value=\"overall\"\r\n                                                  />}\r\n                                              label=\"Show Overall\"/>\r\n                            <IconButton>\r\n                                <ExportIcon/>\r\n                            </IconButton>\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <HeaderPlaceHolder/>\r\n                    {\r\n                        card[tab] ?\r\n                            <DetectionTable rows={card[tab]}/> :\r\n                            <Typography align=\"center\" variant=\"subtitle1\" color=\"textSecondary\">\r\n                                Not processed by {tab} model\r\n                            </Typography>\r\n                    }\r\n                </Paper>\r\n                <HeaderPlaceHolder/>\r\n            </div>\r\n            <AppBar className={classes.appBar} position=\"absolute\" color=\"default\">\r\n                <Tabs value={tab} onChange={this.handleTabChange}\r\n                      indicatorColor=\"primary\"\r\n                      textColor=\"primary\"\r\n                      variant=\"fullWidth\">\r\n                    <Tab className={classes.smallTab} label=\"Object\" icon={<CubeIcon/>} value=\"object\"/>\r\n                    <Tab className={classes.smallTab} label=\"Face\" icon={<FaceIcon/>} value=\"face\"/>\r\n                    <Tab className={classes.smallTab} label=\"Text\" icon={<TextFormatIcon/>} value=\"text\"/>\r\n                    <Tab className={classes.smallTab} label=\"Scene\" icon={<LocalMoviesIcon/>} value=\"scene\"/>\r\n                    <Tab style={{display: \"none\"}} value={\"overall\"}/>\r\n                </Tabs>\r\n            </AppBar>\r\n        </React.Fragment>;\r\n    }\r\n}\r\n\r\nDetectionCard.defaultProps = {\r\n    result: {\r\n        object: [],\r\n        face: [],\r\n        text: [],\r\n        scene: [],\r\n    },\r\n};\r\n\r\nDetectionCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    result: PropTypes.shape({\r\n        object: PropTypes.array,\r\n        face: PropTypes.array,\r\n        text: PropTypes.array,\r\n        scene: PropTypes.array,\r\n    }),\r\n    frame: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DetectionCard)\r\n","import React from \"react\";\r\nimport * as ReactDom from \"react-dom\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\nimport {stringToColour} from \"../../../../utils/utils\";\r\n\r\nconst styles = theme => ({\r\n    selector: {\r\n        position: \"absolute\",\r\n        border: [[\"solid\", theme.palette.secondary.main, \"2px\"]],\r\n        boxSizing: \"border-box\",\r\n    }\r\n});\r\n\r\nconst DetectionBox = ({classes, boxes, on}) => {\r\n    const selectors = (\r\n        <Grow in={on}>\r\n            <div style={{width: \"100%\", height: \"100%\"}}>\r\n                {\r\n                    boxes.map((box, index) =>\r\n                        <div className={classes.selector}\r\n                             key={index}\r\n                             style={{\r\n                                 borderColor: stringToColour(box.name),\r\n                                 left: box.left,\r\n                                 right: box.right,\r\n                                 top: box.top,\r\n                                 bottom: box.bottom,\r\n                             }}/>\r\n                    )\r\n                }\r\n            </div>\r\n        </Grow>\r\n    );\r\n\r\n    return ReactDom.createPortal(selectors, document.querySelector(\"#hysia-detectionBox-container\"));\r\n};\r\n\r\nDetectionBox.defaultProps = {\r\n    boxes: [],\r\n};\r\n\r\nDetectionBox.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    boxes: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            left: PropTypes.string.isRequired,\r\n            right: PropTypes.string.isRequired,\r\n            top: PropTypes.string.isRequired,\r\n            bottom: PropTypes.string.isRequired,\r\n        }).isRequired,\r\n    ).isRequired,\r\n    on: PropTypes.bool,\r\n};\r\n\r\nexport default withStyles(styles)(DetectionBox);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Grow from \"@material-ui/core/es/Grow/Grow\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport IconButton from \"@material-ui/core/es/IconButton/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/CloseRounded\";\r\nimport {isEmpty} from \"../../../../utils/utils\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: 728,\r\n        maxWidth: \"100%\",\r\n        height: 90,\r\n        position: \"absolute\",\r\n        bottom: 45,\r\n        left: \"50%\",\r\n    },\r\n    content: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        backgroundColor: theme.palette.grey[50],\r\n        backgroundSize: \"contain\",\r\n        marginLeft: \"-50%\",\r\n        cursor: \"pointer\",\r\n    },\r\n    buttonContainer: {\r\n        backgroundColor: theme.palette.grey[50],\r\n        opacity: 0.9,\r\n    },\r\n    buttonRoot: {\r\n        padding: 6,\r\n    },\r\n});\r\n\r\nclass Ad extends React.PureComponent {\r\n\r\n    state = {\r\n        on: false,\r\n    };\r\n\r\n    componentWillUpdate(nextProps, nextState, nextContext) {\r\n        this.setState({on: !isEmpty(nextProps.ad)});\r\n    }\r\n\r\n    handleOpenAd = () => {\r\n        window.open(this.props.ad.url, \"_black\");\r\n        window.focus();\r\n    };\r\n\r\n    render() {\r\n        const {classes, ad} = this.props;\r\n        const {on} = this.state;\r\n\r\n        return (\r\n            <Grow in={on}>\r\n                <div className={classes.root}>\r\n                    <div className={classes.content}\r\n                         style={{backgroundImage: `url(${ad.poster || require(\"../../../../asset/hysia-ads.png\")})`}}\r\n                         onClick={this.handleOpenAd}>\r\n                        <div style={{display: \"flex\"}}>\r\n                            <div style={{flexGrow: 1}}/>\r\n                            <div className={classes.buttonContainer}>\r\n                                <IconButton classes={{root: classes.buttonRoot}}\r\n                                            onClick={() => this.setState({on: false})}>\r\n                                    <CloseIcon fontSize=\"small\"/>\r\n                                </IconButton>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Grow>\r\n        );\r\n    }\r\n}\r\n\r\nAd.defaultProps = {\r\n    ad: {}\r\n};\r\n\r\nAd.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    ad: PropTypes.shape({\r\n        poster: PropTypes.string,\r\n        url: PropTypes.string,\r\n    }),\r\n};\r\n\r\nexport default withStyles(styles)(Ad);\r\n","import React from \"react\";\r\nimport * as ReactDom from \"react-dom\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport DPlayer from \"dplayer\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DetectionBox from \"./DetectionBox\";\r\nimport Ad from \"./Ad\";\r\nimport {isEmpty} from \"../../../../utils/utils\";\r\n\r\nlet secondaryMain;\r\n\r\nconst styles = theme => {\r\n    // register primary color\r\n    secondaryMain = theme.palette.secondary.main;\r\n\r\n    return ({\r\n        root: {\r\n            position: \"relative\",\r\n        },\r\n        overlay: {\r\n            position: \"absolute\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            bottom: 0,\r\n        },\r\n    });\r\n};\r\n\r\nclass Player extends React.PureComponent {\r\n\r\n    state = {\r\n        load: false,\r\n        frame: 0,\r\n        time: 0,\r\n    };\r\n\r\n    selfDom = null;\r\n\r\n    componentDidMount() {\r\n        this._interval = setInterval(this.handleUpdateFrame, 200);\r\n        this._interval2 = setInterval(this.handleUpdateTime, 200);\r\n        this.selfDom = ReactDom.findDOMNode(this);\r\n        window.onresize = this.handleResize;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this._interval);\r\n        clearInterval(this._interval2);\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState, nextContext) {\r\n\r\n        const {video} = nextProps;\r\n\r\n        if (isEmpty(this.props.video) && !isEmpty(video)) {\r\n\r\n            this.dp = new DPlayer({\r\n                container: document.getElementById('dplayer-container'),\r\n                theme: secondaryMain,\r\n                video: video,\r\n            });\r\n\r\n            this.dp.on(\"loadeddata\", () => {\r\n\r\n                // create detection box root\r\n                const detectionBoxRoot = document.createElement(\"div\");\r\n                detectionBoxRoot.setAttribute(\"id\", \"hysia-detectionBox-container\");\r\n                detectionBoxRoot.setAttribute(\"class\", this.props.classes.overlay);\r\n                document.querySelector(\"#dplayer-container > div.dplayer-video-wrap\").insertBefore(\r\n                    detectionBoxRoot,\r\n                    document.querySelector(\"div.dplayer-danmaku\")\r\n                );\r\n\r\n                this.setState({load: true});\r\n                this.handleResize();\r\n            });\r\n\r\n            this.dp.on(\"play\", () => this.handleUpdateEvent({play: true, progress: this.getProgress()}));\r\n            this.dp.on(\"pause\", () => this.handleUpdateEvent({play: false, progress: this.getProgress()}));\r\n            this.dp.on(\"seeking\", () => this.handleUpdateEvent({play: false, progress: this.getProgress()}));\r\n            this.dp.on(\"seeked\", () => this.handleUpdateEvent({play: !this.dp.video.paused}));\r\n        }\r\n    }\r\n\r\n    getProgress = () =>\r\n        this.state.load ? this.dp.video.currentTime / this.dp.video.duration : 0;\r\n\r\n    // TODO: to be remove after the change of result api\r\n    handleUpdateFrame = () => {\r\n        const {handleUpdateParentState, video} = this.props;\r\n        const frame = this.state.load ?\r\n            Math.floor(this.getProgress() * (video.totalFrame || 1)) : 0;\r\n        this.setState({frame});\r\n        handleUpdateParentState({frame});\r\n    };\r\n\r\n    handleUpdateTime = () => {\r\n        const {handleUpdateParentState} = this.props;\r\n        const time = this.state.load ? this.dp.video.currentTime : 0;\r\n        this.setState({time});\r\n        handleUpdateParentState({time});\r\n    };\r\n\r\n    handleUpdateEvent = state => {\r\n        this.props.handleUpdateParentState(_state => ({..._state, events: {..._state.events, ...state}}));\r\n    };\r\n\r\n    handleResize = () => {\r\n        this.props.handleUpdateParentState({height: this.selfDom ? this.selfDom.clientHeight : 0});\r\n    };\r\n\r\n    render() {\r\n        const {classes, boxOn, boxes, ads} = this.props;\r\n        const {load} = this.state;\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                <Typography component=\"div\" id=\"dplayer-container\"/>\r\n                {\r\n                    load ?\r\n                        <React.Fragment>\r\n                            <DetectionBox on={boxOn} boxes={boxes}/>\r\n                            <Ad ad={ads}/>\r\n                        </React.Fragment> :\r\n                        null\r\n                }\r\n            </div>);\r\n    }\r\n}\r\n\r\nPlayer.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    boxOn: PropTypes.bool.isRequired,\r\n    boxes: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            left: PropTypes.string.isRequired,\r\n            right: PropTypes.string.isRequired,\r\n            top: PropTypes.string.isRequired,\r\n            bottom: PropTypes.string.isRequired,\r\n        }).isRequired,\r\n    ),\r\n    video: PropTypes.shape({\r\n        url: PropTypes.string,\r\n        poster: PropTypes.string,\r\n        description: PropTypes.string,\r\n        totalFrame: PropTypes.number,\r\n    }).isRequired,\r\n    products: PropTypes.shape({\r\n        poster: PropTypes.string.isRequired,\r\n        url: PropTypes.string.isRequired,\r\n        start: PropTypes.number.isRequired,\r\n        end: PropTypes.number.isRequired,\r\n    }),\r\n    handleUpdateParentState: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(Player);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport WaveSurfer from \"wavesurfer.js\"\r\nimport Grow from \"@material-ui/core/Grow\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport classNames from \"classnames\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nlet primaryColor = null;\r\nlet secondaryColor = null;\r\nconst styles = theme => {\r\n    secondaryColor = theme.palette.secondary.main;\r\n    primaryColor = theme.palette.primary.main;\r\n    return {\r\n        root: {\r\n            pointerEvents: \"none\",\r\n        }\r\n    }\r\n};\r\n\r\nclass AudioCard extends React.PureComponent {\r\n\r\n    state = {\r\n        load: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.wavesurfer = WaveSurfer.create({\r\n            container: \"#hysia-audioCard-root\",\r\n            waveColor: secondaryColor,\r\n            progressColor: primaryColor,\r\n            barWidth: 5,\r\n            normalize: true,\r\n            scrollParent: true,\r\n            hideScrollbar: true,\r\n        });\r\n\r\n        this.wavesurfer.on(\"ready\", () => {\r\n            this.props.onReady();\r\n            this.setState({load: true});\r\n            this.handleSync(this.props.events);\r\n            this.wavesurfer.setMute(true);\r\n        });\r\n        this.wavesurfer.on(\"destroy\", () => this.setState({load: false}));\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState, nextContext) {\r\n        const {audio, events} = nextProps;\r\n\r\n        if (audio && !this.props.audio)\r\n            this.wavesurfer.load(audio);\r\n\r\n        this.handleSync(events);\r\n    }\r\n\r\n    handleSync(events) {\r\n        const {play, progress} = events;\r\n        if (this.state.load) {\r\n            this.wavesurfer.seekAndCenter(progress);\r\n            play ? this.wavesurfer.play() : this.wavesurfer.pause();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {classes, clickable, on} = this.props;\r\n\r\n        return (\r\n            <Collapse in={on}>\r\n                <Grow in={on}>\r\n                    <CardContent>\r\n                        <div className={classNames({[classes.root]: !clickable})} id=\"hysia-audioCard-root\"/>\r\n                    </CardContent>\r\n                </Grow>\r\n            </Collapse>\r\n        );\r\n    }\r\n}\r\n\r\nAudioCard.defaultProps = {\r\n    on: true,\r\n    onReady: emptyFunction,\r\n    clickable: false,\r\n};\r\n\r\nAudioCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    audio: PropTypes.string,\r\n    on: PropTypes.bool,\r\n    events: PropTypes.object.isRequired,\r\n    onReady: PropTypes.func,\r\n    clickable: PropTypes.bool,\r\n};\r\n\r\nexport default withStyles(styles)(AudioCard);\r\n","import React from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport HeaderPlaceHolder from \"../../../../common/HeaderPlaceholder\"\r\nimport DetectionTable from \"../common/DetectionTable\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        width: \"100%\",\r\n        height: 420,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflowY: \"scroll\",\r\n    },\r\n    paper: {\r\n        flexGrow: 1,\r\n        padding: 2 * theme.spacing.unit,\r\n        height: \"100%\",\r\n        marginBottom: 2.5 * theme.spacing.unit,\r\n    },\r\n    toolbar: {\r\n        paddingTop: theme.spacing.unit,\r\n        paddingBottom: theme.spacing.unit,\r\n    },\r\n    appBar: {\r\n        top: \"auto\",\r\n        bottom: 0,\r\n    },\r\n});\r\n\r\nconst DetectionCard = ({classes, result, frame}) => (\r\n    <div className={classes.root}>\r\n        <Paper className={classes.paper} elevation={0} title=\"Audio result\">\r\n            <AppBar position=\"absolute\" color=\"default\" style={{backgroundColor: \"white\"}}>\r\n                <Toolbar className={classes.toolbar}>\r\n                    <Typography style={{flexGrow: 1}} variant=\"h5\" component=\"h4\">\r\n                        Audio Result\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <HeaderPlaceHolder/>\r\n            <DetectionTable rows={result[frame]}/>\r\n        </Paper>\r\n    </div>\r\n);\r\n\r\nexport default withStyles(styles)(DetectionCard);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport classNames from \"classnames\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst avatarSize = {\r\n    small: 96,\r\n    medium: 128,\r\n    large: 224,\r\n};\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        backgroundColor: theme.palette.grey[500],\r\n        borderRadius: theme.shape.avatarBorderRadius,\r\n        backgroundSize: \"cover\"\r\n    },\r\n    smallProps: {\r\n        height: avatarSize.small,\r\n        width: avatarSize.small,\r\n    },\r\n    mediumProps: {\r\n        height: avatarSize.medium,\r\n        width: avatarSize.medium,\r\n    },\r\n    largeProps: {\r\n        height: avatarSize.large,\r\n        width: avatarSize.large,\r\n    }\r\n});\r\n\r\nconst RoundCornerAvatar = ({classes, src, size = \"medium\"}) => (\r\n    <Paper className={classNames(classes.root, classes[`${size}Props`])} component={'img'}\r\n           src={src} elevation={1}/>\r\n);\r\n\r\nRoundCornerAvatar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    src: PropTypes.string.isRequired,\r\n    size: PropTypes.oneOf([\"small\", \"medium\", \"large\"])\r\n};\r\n\r\nexport default withStyles(styles)(RoundCornerAvatar);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport RoundCornerAvatar from \"../../../../common/RoundCornerAvatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport CardContent from \"@material-ui/core//CardContent\";\r\n\r\nconst styles = {\r\n    cardRoot: {},\r\n    grid: {\r\n        width: 96,\r\n    },\r\n    roundCornerAvatar: {\r\n        width: 80,\r\n        height: 80,\r\n    },\r\n    text: {\r\n        textOverflow: \"ellipsis\",\r\n    },\r\n};\r\n\r\nconst StatisticsCard = ({classes, models, scenes, frame}) => (\r\n    <React.Fragment>\r\n        <ModelCard classes={classes} models={models}/>\r\n        <SceneCard classes={classes} scenes={scenes} frame={frame}/>\r\n    </React.Fragment>\r\n);\r\n\r\nconst ModelCard = ({classes, models}) => (\r\n    <Card className={classes.cardRoot} elevation={0}>\r\n        <CardHeader title=\"Analytic Model\"/>\r\n        <CardContent>\r\n            <Grid container spacing={8}>\r\n                {models.map((model, index) => {\r\n                        const hashCode = model.hashCode().toString();\r\n                        return <Grid key={index} className={classes.grid} item>\r\n                            <RoundCornerAvatar classes={{root: classes.roundCornerAvatar}}\r\n                                               src={`https://picsum.photos/144?image=${hashCode.substring(hashCode.length - 2)}`}/>\r\n                            <Typography className={classes.text} align=\"center\">\r\n                                {model}\r\n                            </Typography>\r\n                        </Grid>;\r\n                    }\r\n                )}\r\n            </Grid>\r\n        </CardContent>\r\n    </Card>\r\n);\r\n\r\nconst SceneCard = ({classes, scenes, frame}) => {\r\n    const sceneNum = scenes.findIndex(scene => scene.start <= frame && scene.end >= frame);\r\n    if (sceneNum !== -1)\r\n        return (\r\n            <Card className={classes.cardRoot} elevation={0}>\r\n                <CardHeader title=\"Result statistics\" subheader={`Scene ${sceneNum + 1}`}/>\r\n                <CardContent>\r\n                    <Grid container spacing={8}>\r\n                        {scenes[sceneNum].results.map(scene => {\r\n                                const hashCode = scene.name.hashCode().toString();\r\n                                return <Grid key={scene.name} item>\r\n                                    <RoundCornerAvatar classes={{root: classes.roundCornerAvatar}}\r\n                                                       src={scene.src || `https://picsum.photos/144?image=${hashCode.substring(hashCode.length - 3)}`}/>\r\n                                    <Typography align=\"center\" noWrap>{scene.name}</Typography>\r\n                                    <Typography align=\"center\">{scene.appearance}</Typography>\r\n                                </Grid>;\r\n                            }\r\n                        )}\r\n                    </Grid>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    return null;\r\n};\r\n\r\nStatisticsCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    models: PropTypes.array.isRequired,\r\n    scenes: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(StatisticsCard);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport DetectionCard from \"./results/visual/DetectionCard\";\r\nimport Switch from \"@material-ui/core/es/Switch/Switch\";\r\nimport FormControl from \"@material-ui/core/es/FormControl/FormControl\";\r\nimport FormControlLabel from \"@material-ui/core/es/FormControlLabel/FormControlLabel\";\r\nimport Player from \"../common/player/Player\";\r\nimport {injectParentState} from \"../../../utils/utils\";\r\nimport AudioCard from \"./AudioCard\";\r\nimport AudioDetectionCard from \"./results/audio/DetectionCard\";\r\nimport StatisticsCard from \"./results/statistics/StatisticsCard\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        margin: \"auto\",\r\n    },\r\n    secondary: {\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n    },\r\n    detectionCardContainer: {\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n    },\r\n    cardRoot: {\r\n        marginBottom: 2 * theme.spacing.unit,\r\n    },\r\n    detectionContainer: {\r\n        \"&[aria-disabled=true]\": {\r\n            display: \"none\",\r\n        }\r\n    }\r\n});\r\n\r\nclass WatchApp extends React.PureComponent {\r\n    state = {\r\n        box: false,\r\n        audio: false,\r\n        frame: 0,\r\n        time: 0,\r\n        height: 0,\r\n        events: {\r\n            play: false,\r\n            progress: 0,\r\n        },\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({[name]: event.target.checked});\r\n    };\r\n\r\n    handleResultToBoxes = () => {\r\n        const {result = {}} = this.props.video;\r\n        const {visual = {}} = result;\r\n\r\n        return Object.keys(visual).filter(key => key !== \"scene\")\r\n            .map(key => (visual[key][this.state.frame] || []))\r\n            .reduce((x, y) => x.concat(y), [])\r\n            .map(o => ({\r\n                ...o,\r\n                left: `${o.x1 * 100}%`,\r\n                right: `${100 - o.x2 * 100}%`,\r\n                top: `${o.y1 * 100}%`,\r\n                bottom: `${100 - o.y2 * 100}%`,\r\n            }));\r\n    };\r\n\r\n    handleProductToAds = () => {\r\n        const {time} = this.state;\r\n        const {products = []} = this.props.video;\r\n\r\n        const ads = products.filter(product => {\r\n                return product.start <= time && time <= product.end;\r\n            }\r\n        );\r\n\r\n        return ads.length ? ads[Math.floor(Math.random() * ads.length)] : {};\r\n    };\r\n\r\n    componentWillMount() {\r\n        const {location, fetchVideoInfo} = this.props;\r\n        const params = new URLSearchParams(location.search);\r\n\r\n        fetchVideoInfo(params.get(\"v\"));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.clearVideoInfo();\r\n    }\r\n\r\n    handleAudioWaveformLoaded = () => {\r\n        this.setState({audio: true});\r\n    };\r\n\r\n    render() {\r\n        const {classes, video} = this.props;\r\n        const {box, audio, frame, height, events} = this.state;\r\n        const {result = {}, audio: audioUrl, models = [], processed} = video;\r\n        const {visual = {}, audio: audioResult = [], statistics = []} = result;\r\n\r\n        return (\r\n            <Grid className={classes.root} direction={'row'} container spacing={24}>\r\n                <Grid item xs={12} md={8} lg={9}>\r\n                    <Player boxOn={box}\r\n                            video={video}\r\n                            boxes={this.handleResultToBoxes()}\r\n                            ads={this.handleProductToAds()}\r\n                            handleUpdateParentState={injectParentState(this, this.setState,\r\n                                [\"time\", \"frame\", \"height\", \"events\"])}\r\n                    />\r\n\r\n                    <FormControl>\r\n                        <FormControlLabel\r\n                            control={<Switch value=\"box\" onChange={this.handleChange(\"box\")} checked={box}/>}\r\n                            label={\"Detection Box\"}\r\n                            disabled={!processed}\r\n                        />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControlLabel\r\n                            control={<Switch value=\"audio\" onChange={this.handleChange(\"audio\")} checked={audio}/>}\r\n                            label={\"Audio Waveform\"}\r\n                            disabled={!audioUrl}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <AudioCard on={audio} audio={audioUrl} events={events} onReady={this.handleAudioWaveformLoaded}/>\r\n                    <div\r\n                        className={classNames(classes.detectionCardContainer, classes.cardRoot, classes.detectionContainer)}\r\n                        aria-disabled={!processed}>\r\n                        {/* TODO: solve the mapper */}\r\n                        <AudioDetectionCard result={audioResult}\r\n                                            frame={Math.round(frame * audioResult.length / video.totalFrame)}/>\r\n                    </div>\r\n\r\n                </Grid>\r\n                <Grid className={classNames(classes.secondary, classes.detectionContainer)} item xs={12} md={4} lg={3}\r\n                      aria-disabled={!processed}\r\n                >\r\n                    <div className={classNames(classes.detectionCardContainer, classes.cardRoot)}\r\n                         style={{height: height}}>\r\n                        <DetectionCard result={visual} frame={frame}/>\r\n                    </div>\r\n                    <StatisticsCard classes={{cardRoot: classes.cardRoot}} scenes={statistics} models={models}\r\n                                    frame={frame}/>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nWatchApp.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    video: PropTypes.shape({\r\n        quality: PropTypes.array,\r\n        defaultQuality: PropTypes.number,\r\n        url: PropTypes.string,\r\n        pic: PropTypes.string,\r\n        result: PropTypes.object,\r\n        ad: PropTypes.array,\r\n    }).isRequired,\r\n    previewedAd: PropTypes.object,\r\n    fetchVideoInfo: PropTypes.func.isRequired,\r\n    clearVideoInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(WatchApp);\r\n","import { connect } from 'react-redux';\r\nimport WatchApp from './WatchApp';\r\nimport { VIDEOgetSingle } from '../../../redux/actions/video/get';\r\nimport { VIDEO_clear } from '../../../redux/actions/video';\r\n\r\nconst mapStateToProps = state => ({\r\n  video: state.video.singleVideo.video,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchVideoInfo: id => dispatch(VIDEOgetSingle(id)),\r\n  clearVideoInfo: () => dispatch(VIDEO_clear()),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(WatchApp);\r\n","import {VIDEO_CLEAR} from \"../../../constants/actionTypes\";\r\n\r\nexport const VIDEO_clear = () => ({\r\n    type: VIDEO_CLEAR\r\n});\r\n","import Redirect from \"react-router/Redirect\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport wrapper from \"./wrapper\";\r\n\r\nfunction RedirectWrapper({from, to, ...rest}) {\r\n    return wrapper(Redirect, {from, to, ...rest});\r\n}\r\n\r\nRedirectWrapper.propTypes = {\r\n    from: PropTypes.string,\r\n    to: PropTypes.string,\r\n    push: PropTypes.bool,\r\n    exact: PropTypes.bool,\r\n    strict: PropTypes.bool,\r\n};\r\n\r\nexport default RedirectWrapper;\r\n","import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"../../common/Button\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Link from \"react-router-dom/es/Link\";\r\nimport RoundCornerAvatar from \"../../common/RoundCornerAvatar\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        backgroundColor: \"transparent\",\r\n        marginBottom: 2 * theme.spacing.unit,\r\n        maxHeight: 210,\r\n    },\r\n    avatar: {\r\n        backgroundColor: theme.palette.grey[500],\r\n        borderRadius: theme.shape.avatarBorderRadius,\r\n        height: 128,\r\n        width: 128,\r\n    },\r\n    description: {\r\n        width: 342,\r\n        height: \"100%\",\r\n    },\r\n    divider: {\r\n        marginTop: 16,\r\n    }\r\n});\r\n\r\nconst ModelCard = ({classes, id, name, cover}) => (\r\n    <Paper className={classes.root} elevation={0} component={props => <Link {...props}/>}\r\n           to={{pathname: './search', search: `id=${id}`}}>\r\n        <Grid spacing={24} container>\r\n            <Grid item>\r\n                <RoundCornerAvatar\r\n                    src={cover || `https://picsum.photos/128/?image=${Math.round(Math.random() * 200)}`}/>\r\n            </Grid>\r\n            <Grid item xs>\r\n                <Grid className={classes.description} direction={'column'} spacing={16} container>\r\n                    <Grid item xs>\r\n                        <Typography variant={\"h6\"} gutterBottom>{name || \"Title\"}</Typography>\r\n                        <Typography variant={\"body2\"} gutterBottom>Hysia Team</Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button variant={\"contained\"} color={\"primary\"} aria-label={\"details\"} size={\"small\"}>\r\n                            Get\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <Divider className={classes.divider} variant={\"middle\"}/>\r\n            </Grid>\r\n        </Grid>\r\n    </Paper>\r\n);\r\n\r\nModelCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    cover: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(ModelCard);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Divider from \"@material-ui/core/es/Divider/Divider\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ModelCard from \"./ModelCard\";\r\nimport Button from \"../../common/Button\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport Fade from \"@material-ui/core/es/Fade/Fade\";\r\nimport Link from \"react-router-dom/es/Link\";\r\n\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: 'auto',\r\n    },\r\n    models: {\r\n        padding: [[3 * theme.spacing.unit, 0]],\r\n    },\r\n    divider: {\r\n        margin: [[theme.spacing.unit, 0]],\r\n        \"&:first-child\": {\r\n            opacity: 0,\r\n        }\r\n    }\r\n});\r\n\r\nclass ModelManagement extends React.PureComponent {\r\n\r\n    componentWillMount() {\r\n        this.props.fetchModelList();\r\n    }\r\n\r\n    render() {\r\n        const {classes, models} = this.props;\r\n\r\n        return (\r\n            <Fade in={true}>\r\n                <div className={classes.root}>\r\n                    <CardHeader action={<Button component={props => <Link {...props}/>}\r\n                                                to={'./upload'}>Add</Button>}/>\r\n                    <div>{\r\n                        Object.keys(models).length > 0 ?\r\n                            Object.keys(models).map(key => (\r\n                                <React.Fragment key={key}>\r\n                                    <Divider className={classes.divider}/>\r\n                                    <div className={classes.models}>\r\n                                        <Typography variant={\"h5\"} gutterBottom>\r\n                                            {`${key.charAt(0).toUpperCase()}${key.slice(1).toLowerCase()}`}\r\n                                        </Typography>\r\n                                        <Grid spacing={32} container>{\r\n                                            models[key].map(model =>\r\n                                                <Grid key={model.id} item>\r\n                                                    <ModelCard {...model}/>\r\n                                                </Grid>)\r\n                                        }\r\n                                        </Grid>\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )) :\r\n                            <Typography align={\"center\"}>\r\n                                You haven't install any model.\r\n                            </Typography>\r\n                    }\r\n                    </div>\r\n                </div>\r\n            </Fade>);\r\n    }\r\n}\r\n\r\nModelManagement.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    models: PropTypes.shape({\r\n        [PropTypes.oneOf([\"OBJECT\", \"TEXT\", \"FACE\", \"SCENE\"])]: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                name: PropTypes.string.isRequired,\r\n                id: PropTypes.string.isRequired,\r\n            }).isRequired,\r\n        ),\r\n    }).isRequired,\r\n    fetchModelList: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ModelManagement);\r\n","import {connect} from \"react-redux\";\r\nimport {MODEL_getList} from \"../../../redux/actions/model/get\";\r\nimport ModelManagement from \"./ModelManagement\";\r\n\r\nconst mapStateToProps = state => ({\r\n    models: state.model.models.models,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchModelList: () => dispatch(MODEL_getList()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModelManagement);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        display: \"block\"\r\n    },\r\n    leftIcon: {\r\n        marginRight: theme.spacing.unit,\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n});\r\n\r\nconst IconTypography = ({classes, iconPosition = \"right\", text, textProps, icon: Icon, iconProps}) => {\r\n\r\n    const typography = <Grid item><Typography component={'p'} {...textProps}>{text}</Typography></Grid>;\r\n    const icon = <Grid item><Icon className={classNames(classes.icon, classes[`${iconPosition}Icon`])} {...iconProps}/></Grid>;\r\n\r\n    return (<Grid alignItems=\"center\" justify=\"flex-start\" container>\r\n        {iconPosition === \"left\" ?\r\n            <React.Fragment>{icon}{typography}</React.Fragment> :\r\n            <React.Fragment>{typography}{icon}</React.Fragment>}\r\n    </Grid>)\r\n};\r\n\r\nIconTypography.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    iconPosition: PropTypes.oneOf([\"left\", \"right\"]),\r\n    text: PropTypes.string,\r\n    textProps: PropTypes.object,\r\n    icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\r\n    iconProps: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(IconTypography);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Button from \"../../common/Button\";\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport CardHeader from \"@material-ui/core/es/CardHeader/CardHeader\";\r\nimport CardMenu from \"../../common/CardMenu\";\r\nimport DeleteIcon from \"@material-ui/icons/DeleteRounded\";\r\nimport Dialog from \"@material-ui/core/es/Dialog/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/es/DialogTitle/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/es/DialogContentText/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/es/DialogActions/DialogActions\";\r\nimport Divider from \"@material-ui/core/es/Divider/Divider\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport IconTypography from \"../../common/IconTypography\";\r\nimport Lorem from \"react-lorem-component\";\r\nimport RoundCornerAvatar from \"../../common/RoundCornerAvatar\";\r\nimport ShareIcon from \"@material-ui/icons/ShareRounded\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Route from \"react-router-dom/Route\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: \"85%\",\r\n        margin: \"auto\",\r\n    },\r\n    snapshot: {\r\n        overflowX: \"scroll\",\r\n        flexWrap: \"nowrap\",\r\n    },\r\n    snapshotContent: {\r\n        flexShrink: 0,\r\n    },\r\n    description: {\r\n        width: 342,\r\n        height: \"100%\",\r\n    },\r\n    dialogPaper: {\r\n        backgroundColor: theme.palette.grey[200],\r\n        opacity: 0.98,\r\n    }\r\n});\r\n\r\nclass ModelDetails extends React.PureComponent {\r\n\r\n    state = {\r\n        shareDialog: false,\r\n        deleteDialog: false,\r\n    };\r\n\r\n    id = \"\";\r\n\r\n    menuItems = [\r\n        {\r\n            id: <IconTypography text={\"share\"} textProps={{variant: \"subtitle1\"}} icon={ShareIcon}/>,\r\n            action: () => this.handleDialog(\"shareDialog\", true),\r\n        },\r\n        {\r\n            id: <IconTypography text={\"delete\"} textProps={{variant: \"subtitle1\", color: \"error\"}} icon={DeleteIcon}\r\n                                iconProps={{color: \"error\"}}/>,\r\n            action: () => this.handleDialog(\"deleteDialog\", true),\r\n        },\r\n    ];\r\n\r\n    handleDelete = history => {\r\n        this.handleDialog(\"deleteDialog\", false);\r\n        this.props.deleteModel(this.id, () => history.push('./'));\r\n    };\r\n\r\n    componentWillMount() {\r\n        const {location, fetchModel} = this.props;\r\n        const params = new URLSearchParams(location.search);\r\n        this.id = params.get(\"id\");\r\n        fetchModel(this.id);\r\n    }\r\n\r\n    handleDialog = (key, value) => {\r\n        this.setState({[key]: value});\r\n    };\r\n\r\n    render() {\r\n        const {classes, model} = this.props;\r\n        const {shareDialog, deleteDialog} = this.state;\r\n\r\n        return (\r\n            <div className={classes.root}>\r\n                {/* model header*/}\r\n                <CardHeader action={<CardMenu menuItems={this.menuItems} fontSize={\"large\"}/>}\r\n                            title={\r\n                                <Grid spacing={40} container>\r\n                                    <Grid item>\r\n                                        <RoundCornerAvatar src={model.cover || \"https://picsum.photos/224/?random\"}\r\n                                                           size={\"large\"}/>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Grid className={classes.description} direction={'column'} spacing={16}\r\n                                              container>\r\n                                            <Grid item xs>\r\n                                                <Typography variant={\"h4\"} gutterBottom>{model.name}</Typography>\r\n                                                <Typography variant={\"subtitle1\"} color={\"textSecondary\"}\r\n                                                            gutterBottom>{model.developer}</Typography>\r\n                                            </Grid>\r\n                                            <Grid>\r\n                                                <Button variant={\"outlined\"} color={\"primary\"}\r\n                                                        size={\"large\"} disableFocusRipple\r\n                                                        disableRipple>Installed</Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            }/>\r\n\r\n                <Divider/>\r\n                {/* screen shot */}\r\n                <CardContent>\r\n                    <Typography variant={\"h6\"} gutterBottom>Screenshots</Typography>\r\n                    <Grid className={classes.snapshot} spacing={8} container> {\r\n                        [0, 1, 2, 3, 4].map(index => (\r\n                            <Grid key={index} item>\r\n                                <Typography className={classes.snapshotContent} component={'img'}\r\n                                            src={`https://picsum.photos/200/300?image=${Math.round(Math.random() * 200)}`}/>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </CardContent>\r\n                {/* model description*/}\r\n                <CardContent>\r\n                    <Typography variant={\"h6\"} gutterBottom>Description</Typography>\r\n                    <Typography variant={\"body2\"} component={props => <Lorem {...props}/>} paragraph/>\r\n                </CardContent>\r\n                {/* Information */}\r\n                <CardContent>\r\n                    <Typography variant={\"h6\"} gutterBottom>Information</Typography>\r\n                    <Typography variant={\"body2\"} component={props => <Lorem {...props}/>}\r\n                                sentenceLowerBound={1} sentenceUpperBound={2}\r\n                                paragraphLowerBound={1} paragraphUpperBound={2} paragraph/>\r\n                </CardContent>\r\n\r\n                {/* share dialog */}\r\n                <Dialog classes={{paper: classes.dialogPaper}} open={shareDialog}\r\n                        onClose={() => this.handleDialog(\"shareDialog\", false)}>\r\n                    <DialogTitle>{`Share Model ${model.name}`}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac\r\n                            facilisis in, egestas eget quam.\r\n                        </DialogContentText>\r\n                        <DialogActions>\r\n                            <Button color={\"primary\"} onClick={() => this.handleDialog(\"shareDialog\", false)}>\r\n                                Ok\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </DialogContent>\r\n                </Dialog>\r\n\r\n                {/* delete dialog */}\r\n                <Dialog classes={{paper: classes.dialogPaper}} open={deleteDialog}\r\n                        onClose={() => this.handleDialog(\"deleteDialog\", false)}>\r\n                    <DialogTitle>{`Delete Model \"${model.name}\"?`}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Deleting model {model.name} will also delete all its data.\r\n                            This action cannot be undo.\r\n                        </DialogContentText>\r\n                        <DialogActions>\r\n                            <Button color={\"primary\"} onClick={() => this.handleDialog(\"deleteDialog\", false)}>\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            {/* Delete button */}\r\n                            <Route render={({history}) =>\r\n                                <Button onClick={() => this.handleDelete(history)}>\r\n                                    <Typography color={\"error\"}>Delete Anyway</Typography>\r\n                                </Button>\r\n                            }/>\r\n\r\n                        </DialogActions>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nModelDetails\r\n    .propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    location: PropTypes.shape({\r\n        search: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n    model: PropTypes.object,\r\n    fetchModel: PropTypes.func.isRequired,\r\n    deleteModel: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ModelDetails);\r\n","import {MODEL_DELETE_RECEIVE, MODEL_DELETE_REQUEST} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestDelete = () => ({\r\n    type: MODEL_DELETE_REQUEST,\r\n});\r\n\r\nconst receiveDelete_Success = json => ({\r\n    type: MODEL_DELETE_RECEIVE,\r\n    status: \"SUCCESS\",\r\n    time: json.time,\r\n});\r\n\r\nconst receiveDelete_Failure = json => ({\r\n    type: MODEL_DELETE_RECEIVE,\r\n    status: \"FAILURE\",\r\n    reason: json.data,\r\n});\r\n\r\nexport const MODEL_delete = (id, callback = emptyFunction) => dispatch => {\r\n    xmlHttpRequest(dispatch, \"DELETE\", {\r\n        url: `/restapi/dlmodels/${id}/`,\r\n        request: requestDelete,\r\n        receiveSuccess: json => {\r\n            callback();\r\n            return receiveDelete_Success(json);\r\n        },\r\n        receiveFailure: receiveDelete_Failure,\r\n    });\r\n};","import {connect} from \"react-redux\";\r\nimport ModelDetails from \"./ModelDetails\";\r\nimport {MODEL_delete, MODEL_getSingle} from \"../../../redux/actions/model\";\r\n\r\nconst mapStateToProps = state => ({\r\n    model: state.model.singleModel.model,\r\n    deleteState: state.model.deleteModel,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchModel: id => dispatch(MODEL_getSingle(id)),\r\n    deleteModel: (id, successCallback) => dispatch(MODEL_delete(id, successCallback)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModelDetails);\r\n","import {MODEL_POST_RECEIVE, MODEL_POST_REQUEST,} from \"../../../constants/actionTypes\";\r\nimport {xmlHttpRequest} from \"../../../utils/httpRequest\";\r\nimport {emptyFunction} from \"../../../utils/utils\";\r\n\r\nconst requestCreate = () => ({\r\n    type: MODEL_POST_REQUEST,\r\n});\r\n\r\nconst receiveCreate_Success = json => ({\r\n    type: MODEL_POST_RECEIVE,\r\n    status: 'SUCCESS',\r\n    time: json.time,\r\n});\r\n\r\nconst receiveCreate_Failure = json => ({\r\n    type: MODEL_POST_RECEIVE,\r\n    status: 'FAILURE',\r\n    reason: json.data,\r\n});\r\n\r\nexport const MODEL_create = ({type, name, model, label}, successCallback = emptyFunction) => dispatch => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"type\", type);\r\n    formData.append(\"name\", name);\r\n    if (model) formData.append(\"model\", model, model.name);\r\n    if (label) formData.append(\"label\", label, label.name);\r\n\r\n    xmlHttpRequest(dispatch, \"POST\", {\r\n        url: '/restapi/dlmodels/',\r\n        request: requestCreate,\r\n        receiveSuccess: json => {\r\n            successCallback();\r\n            return receiveCreate_Success(json);\r\n        },\r\n        receiveFailure: receiveCreate_Failure,\r\n        formData,\r\n    });\r\n};\r\n","import React from 'react';\r\n\r\nclass Form extends React.PureComponent {\r\n  handleSubmitWrapper = Object.freeze(handleSubmit => () => {\r\n    const result = [];\r\n\r\n    // call for validate, collect validation\r\n    Object.values(this.child).forEach(v => result.push(!v.current.validate()));\r\n\r\n    // check errors\r\n    if (result.every(x => x)) handleSubmit();\r\n  });\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.child = {};\r\n    if (new.target === Form) {\r\n      throw new TypeError('Cannot construct Abstract instances directly');\r\n    }\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\"\r\nimport assert from \"assert\";\r\nimport {emptyFunction} from \"../../utils/utils\";\r\n\r\nclass RequiredField extends React.PureComponent {\r\n\r\n    state = {\r\n        error: false\r\n    };\r\n\r\n    validate = () => {\r\n        const {value: _value, initValue} = this.props;\r\n        const {value} = React.Children.toArray(this.props.children)[0].props;\r\n        const error = (_value !== undefined ? _value : value) === initValue;\r\n\r\n        this.setState({error: error});\r\n\r\n        return error;\r\n    };\r\n\r\n    handleChange = e => {\r\n        const {bindingChange} = this.props;\r\n        const {[bindingChange]: onChange = emptyFunction} = React.Children.toArray(this.props.children)[0].props;\r\n        onChange(e, this.validate);\r\n    };\r\n\r\n    render() {\r\n        const {children, bindingChange} = this.props;\r\n        const {error} = this.state;\r\n\r\n        const _children = React.Children.toArray(children);\r\n\r\n        assert.strictEqual(_children.length, 1, `Expected exactly one child, but got ${_children.length}`);\r\n\r\n        const {helperText} = _children[0].props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    React.Children.map(children, element =>\r\n                        React.cloneElement(element,\r\n                            {\r\n                                required: true,\r\n                                error: error,\r\n                                helperText: error ? \"This field is required\" : helperText,\r\n                                [bindingChange]: this.handleChange,\r\n                                onBlur: this.validate,\r\n                            })\r\n                    )\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nRequiredField.defaultProps = {\r\n    bindingChange: \"onChange\",\r\n};\r\n\r\nRequiredField.propTypes = {\r\n    value: PropTypes.any,\r\n    initValue: PropTypes.any.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n    bindingChange: PropTypes.string,\r\n};\r\n\r\nexport default RequiredField;\r\n","import React from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/CloseRounded\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Link from \"react-router-dom/es/Link\";\r\nimport TextField from \"@material-ui/core/es/TextField/TextField\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {FilePond} from \"react-filepond\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"../../common/Button\";\r\nimport Form from \"../../common/Form\";\r\nimport RequiredField from \"../../common/RequiredField\";\r\nimport Route from \"react-router/Route\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        maxWidth: 720,\r\n        margin: 'auto',\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n        width: 200,\r\n    },\r\n    menu: {\r\n        width: 200,\r\n    },\r\n});\r\n\r\nconst modelType = [\"Object\", \"Face\", \"Text\", \"Scene\"];\r\n\r\nclass ModelNew extends Form {\r\n    state = {\r\n        name: \"\",\r\n        type: \"\",\r\n        model: null,\r\n        label: null,\r\n    };\r\n\r\n    child = {\r\n        name: React.createRef(),\r\n        type: React.createRef(),\r\n    };\r\n\r\n    handleDoneWrapper = history => this.handleSubmitWrapper(() => {\r\n        this.props.handleCreate({...this.state}, () => history.push('./'))\r\n    });\r\n\r\n    handleChange = name => (event, callback) => {\r\n        this.setState({[name]: event.target.value}, callback);\r\n    };\r\n\r\n    render() {\r\n\r\n        const {classes} = this.props;\r\n        const {name, type} = this.state;\r\n\r\n        return (\r\n            <Card className={classes.root}>\r\n                <CardHeader action={\r\n                    <IconButton component={props => <Link {...props}/>} to={'./'}>\r\n                        <CloseIcon/>\r\n                    </IconButton>}\r\n                            title=\"Create a new model\"\r\n                />\r\n                <CardContent>\r\n                    <RequiredField initValue={\"\"} ref={this.child.name}>\r\n                        <TextField\r\n                            className={classes.textField}\r\n                            id=\"name\"\r\n                            label=\"Model name\"\r\n                            value={name}\r\n                            onChange={this.handleChange(\"name\")}\r\n                            margin=\"normal\"/>\r\n                    </RequiredField>\r\n                    <RequiredField initValue={\"\"} ref={this.child.type}>\r\n                        <TextField\r\n                            id=\"type\"\r\n                            label=\"Model type\"\r\n                            className={classes.textField}\r\n                            value={type}\r\n                            onChange={this.handleChange('type')}\r\n                            SelectProps={{\r\n                                MenuProps: {\r\n                                    className: classes.menu,\r\n                                },\r\n                            }}\r\n                            helperText=\"Please select your model type\"\r\n                            margin=\"normal\"\r\n                            select\r\n                        >\r\n                            {modelType.map(option =>\r\n                                <MenuItem key={option.toUpperCase()} value={option.toUpperCase()}>\r\n                                    {option}\r\n                                </MenuItem>)\r\n                            }\r\n                        </TextField>\r\n                    </RequiredField>\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                        Model file\r\n                    </Typography>\r\n                    <FilePond maxFiles={1}\r\n                              onupdatefiles={(items) => {\r\n                                  this.setState({\r\n                                      model: items.map(item => item.file)\r\n                                  });\r\n                              }}\r\n                    />\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                        Label file\r\n                    </Typography>\r\n                    <FilePond maxFiles={1}\r\n                              onupdatefiles={(items) => {\r\n                                  this.setState({\r\n                                      label: items.map(item => item.file)\r\n                                  });\r\n                              }}\r\n                    />\r\n                    <div style={{display: \"flex\"}}>\r\n                        <div style={{flexGrow: 1}}/>\r\n                        <Route render={({history}) =>\r\n                            <Button color=\"primary\" onClick={this.handleDoneWrapper(history).bind(this)}>Done</Button>\r\n                        }/>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nModelNew.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    handleCreate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ModelNew);\r\n","import {connect} from \"react-redux\";\r\nimport {MODEL_create} from \"../../../redux/actions/model/post\";\r\nimport ModelNew from \"./ModelNew\";\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    handleCreate: (model, successCallback) => dispatch(MODEL_create(model, successCallback))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModelNew);\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport Snackbar from \"../../common/Snackbar\";\r\n\r\nconst mapStateToProps = state => ({\r\n    deleteState: state.model.deleteModel,\r\n    newState: state.model.newModel,\r\n});\r\n\r\nconst MessageBars = ({newState, deleteState}) => (\r\n    <React.Fragment>\r\n        <Snackbar state={newState} message={{success: \"Create model succeed\"}}/>\r\n        <Snackbar state={deleteState} message={{success: \"Delete model succeed\"}}/>\r\n    </React.Fragment>\r\n);\r\n\r\nexport default connect(mapStateToProps)(MessageBars);\r\n","import Sidebar from \"../common/Sidebar\";\r\nimport Switch from \"react-router/Switch\";\r\nimport Route from \"../../../routes/RouteWrapper\";\r\nimport Redirect from \"../../../routes/RedirectWrapper\";\r\nimport React from \"react\";\r\nimport {styles} from \"../common/layout\";\r\nimport ModelManagement from \".\";\r\nimport ModelDetails from \"./ContainerModelDetails\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ModelNew from \"./ContainerModelNew\";\r\nimport MessageBars from \"./MessageBars\";\r\n\r\nconst ModelRouter = ({classes, match}) => (\r\n    <div className={classes.root}>\r\n        <Sidebar currentPath={match.path}/>\r\n        <div className={classes.grow}>\r\n            <Switch>\r\n                {Route({exact: true, path: '/all', component: ModelManagement})}\r\n                {Route({exact: true, path: '/search', component: ModelDetails})}\r\n                {Route({exact: true, path: '/upload', component: ModelNew})}\r\n                {Redirect({from: '/', to: '/all'})}\r\n                {/*<Redirect to={'/404'}/>*/}\r\n            </Switch>\r\n            <MessageBars/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default withStyles(styles)(ModelRouter);\r\n","import {\r\n  PROD_BIDDING_RECEIVE,\r\n  PROD_BIDDING_REQUEST,\r\n  PROD_INSERT_RECEIVE,\r\n  PROD_INSERT_REQUEST,\r\n  PROD_SEARCH_RECEIVE,\r\n  PROD_SEARCH_REQUEST,\r\n} from '../../../constants/actionTypes';\r\nimport { xmlHttpRequest } from '../../../utils/httpRequest';\r\nimport {\r\n  decodeBiddingJson,\r\n  decodeSceneSearchJson,\r\n} from '../../../utils/jsonDecoder';\r\n\r\nconst requestSearch = () => ({\r\n  type: PROD_SEARCH_REQUEST,\r\n});\r\n\r\nconst receiveSearchSuccess = json => ({\r\n  type: PROD_SEARCH_RECEIVE,\r\n  status: 'SUCCESS',\r\n  data: json.data,\r\n  time: json.time,\r\n});\r\n\r\nconst receiveSearchFailure = json => ({\r\n  type: PROD_SEARCH_RECEIVE,\r\n  status: 'FAILURE',\r\n  reason: json.data,\r\n});\r\n\r\nexport const PRODsearch = ({ text, img, face, target }) => dispatch => {\r\n  const formData = new FormData();\r\n\r\n  if (text) formData.append('text', text);\r\n  if (img) formData.append('img', img, img.name);\r\n  if (face) formData.append('face', face);\r\n  if (target && target.length) formData.append('target_videos', target);\r\n\r\n  xmlHttpRequest(dispatch, 'POST', {\r\n    url: '/restapi/scenesearch/',\r\n    request: requestSearch,\r\n    jsonDecoder: decodeSceneSearchJson,\r\n    receiveSuccess: receiveSearchSuccess,\r\n    receiveFailure: receiveSearchFailure,\r\n    formData,\r\n  });\r\n\r\n  // dispatch(receiveSearchSuccess({ data: decodeSceneSearchJson(require('../../../asset/scenesearch.json').data) }));\r\n};\r\n\r\nconst requestInsert = () => ({\r\n  type: PROD_INSERT_REQUEST,\r\n});\r\n\r\nconst receiveInsertSuccess = json => ({\r\n  type: PROD_INSERT_RECEIVE,\r\n  status: 'SUCCESS',\r\n  data: json.data,\r\n  time: json.time,\r\n});\r\n\r\nconst receiveInsertFailure = json => ({\r\n  type: PROD_INSERT_RECEIVE,\r\n  status: 'FAILURE',\r\n  reason: json.data,\r\n});\r\n\r\nexport const PRODinsert = id => dispatch => {\r\n  const formData = new FormData();\r\n\r\n  formData.append('scene_id', id);\r\n\r\n  xmlHttpRequest(dispatch, 'POST', {\r\n    url: '/restapi/productinsert/',\r\n    request: requestInsert,\r\n    receiveSuccess: receiveInsertSuccess,\r\n    receiveFailure: receiveInsertFailure,\r\n    formData,\r\n  });\r\n};\r\n\r\nconst requestBidding = () => ({\r\n  type: PROD_BIDDING_REQUEST,\r\n});\r\n\r\nconst receiveBiddingSuccess = json => ({\r\n  type: PROD_BIDDING_RECEIVE,\r\n  status: 'SUCCESS',\r\n  data: json.data,\r\n  time: json.time,\r\n});\r\n\r\nconst receiveBiddingFailure = json => ({\r\n  type: PROD_BIDDING_RECEIVE,\r\n  status: 'FAILURE',\r\n  reason: json.data,\r\n});\r\n\r\nexport const PRODinitBiddingWebsocket = (message, dispatch) => {\r\n  const data = JSON.parse(message.data);\r\n  if (data.error) dispatch(receiveBiddingFailure({ reason: data.error }));\r\n  switch (data.msg_type) {\r\n    case 'connected':\r\n      dispatch(requestBidding());\r\n      break;\r\n    case 'update':\r\n      dispatch(receiveBiddingSuccess({ data: decodeBiddingJson(data) }));\r\n      break;\r\n    default:\r\n      dispatch(receiveBiddingFailure({ reason: 'Unknown message type' }));\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\n\r\nconst CollapseGrow = ({in: _in, children, style, ...rest}) => (\r\n    <Collapse in={_in} style={style}>\r\n        <Grow in={_in} {...rest}>\r\n            {children}\r\n        </Grow>\r\n    </Collapse>\r\n);\r\n\r\nCollapseGrow.propTypes = {\r\n    in: PropTypes.bool,\r\n    style: PropTypes.object,\r\n    onEnter: PropTypes.func,\r\n    onExited: PropTypes.func,\r\n};\r\n\r\nexport default CollapseGrow;\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { FilePond } from 'react-filepond';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Link from '@material-ui/core/Link';\r\nimport Form from '../../../common/Form';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: 'transparent',\r\n    width: '90%',\r\n    margin: 'auto',\r\n    padding: theme.spacing.unit,\r\n  },\r\n  card: {\r\n    marginBottom: 2 * theme.spacing.unit,\r\n    position: 'relative',\r\n    '&:last-child': {\r\n      marginBottom: 0,\r\n    },\r\n  },\r\n  finish: {\r\n    position: 'absolute',\r\n    right: 0,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  tools: {\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  filter: {\r\n    opacity: 0.7,\r\n    cursor: 'pointer',\r\n    transition: [['opacity', '.2s']],\r\n    userSelect: 'none',\r\n    '&:hover': {\r\n      opacity: 1,\r\n    },\r\n    '&:active *': {\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n  menu: {\r\n    width: 420,\r\n    padding: theme.spacing.unit * 2,\r\n    outline: 'none',\r\n    borderRadius: theme.shape.buttonBorderRadius,\r\n  },\r\n  videoListRoot: {\r\n    width: '100%',\r\n    padding: theme.spacing.unit,\r\n    maxHeight: 800,\r\n    overflowY: 'scroll',\r\n  },\r\n});\r\n\r\nconst nameToState = {\r\n  'Product Image': 'image',\r\n  'Face Image': 'face',\r\n  'Search From': 'video',\r\n};\r\n\r\nclass SearchPaper extends Form {\r\n  state = {\r\n    anchorEl: null,\r\n    mount: null,\r\n    textContent: '',\r\n    imageContent: [],\r\n    faceContent: [],\r\n    videoContent: [],\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  faceRef = React.createRef();\r\n\r\n  popupComponentMapper = key => {\r\n    const { classes, videos } = this.props;\r\n    const { imageContent, faceContent, videoContent } = this.state;\r\n\r\n    switch (key) {\r\n      case 'image':\r\n        return (\r\n          <FileUploader\r\n            innerRef={this.imageRef}\r\n            fileList={imageContent}\r\n            updateList={this.handleFileChange('imageContent')}\r\n          />\r\n        );\r\n      case 'face':\r\n        return (\r\n          <FileUploader\r\n            innerRef={this.faceRef}\r\n            fileList={faceContent}\r\n            updateList={this.handleFileChange('faceContent')}\r\n          />\r\n        );\r\n      case 'video':\r\n        return (\r\n          <VideoList\r\n            classes={{ root: classes.videoListRoot }}\r\n            videoContent={videoContent}\r\n            videos={videos}\r\n            updateSelection={this.handleVideoContentChange}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  componentWillMount() {\r\n    const { handleGetVideoList } = this.props;\r\n    handleGetVideoList();\r\n  }\r\n\r\n  handleClose = e => {\r\n    const { anchorEl } = this.state;\r\n\r\n    if (anchorEl.contains(e.target)) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleTextChange = (e, callback) => {\r\n    this.setState({ textContent: e.target.value }, callback);\r\n  };\r\n\r\n  handleFileChange = name => (fileList, callback) => {\r\n    this.setState({ [name]: fileList }, callback);\r\n  };\r\n\r\n  handleVideoContentChange = id => e => {\r\n    const { checked } = e.target;\r\n    this.setState(state => {\r\n      const { videoContent: _v } = state;\r\n      const videoContent = _v.slice();\r\n      if (checked) videoContent.push(id);\r\n      else {\r\n        const index = videoContent.indexOf(id);\r\n        if (index > -1) {\r\n          videoContent.splice(index, 1);\r\n        }\r\n      }\r\n      return { videoContent };\r\n    });\r\n  };\r\n\r\n  handleSubmit = this.handleSubmitWrapper(() => {\r\n    const { textContent, imageContent, videoContent } = this.state;\r\n    this.props.handleSearch({\r\n      text: textContent,\r\n      img: imageContent.length ? imageContent[0] : null,\r\n      target: videoContent,\r\n    });\r\n  });\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    const { anchorEl, mount, textContent } = this.state;\r\n    const open = Boolean(anchorEl);\r\n\r\n    return (\r\n      <Paper className={classes.root} elevation={0}>\r\n        <Grid className={classes.tools} spacing={16} container>\r\n          {Object.keys(nameToState).map(item => (\r\n            <Grid\r\n              className={classes.filter}\r\n              key={item}\r\n              onClick={e => {\r\n                const { currentTarget } = e;\r\n                this.setState(state => {\r\n                  if (!state.anchorEl)\r\n                    return {\r\n                      mount: nameToState[item],\r\n                      anchorEl: currentTarget,\r\n                    };\r\n                  return { anchorEl: null };\r\n                });\r\n              }}\r\n              item\r\n            >\r\n              <Typography>\r\n                {this.state[`${nameToState[item]}Content`].length ? '● ' : ''}\r\n                {`${item} ▼`}\r\n              </Typography>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n\r\n        <Popper\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          onClose={this.handleClose}\r\n          style={{ zIndex: theme.zIndex.drawer + 1 }}\r\n          disablePortal\r\n          transition\r\n        >\r\n          {({ TransitionProps }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              id='menu-list-grow'\r\n              style={{\r\n                transformOrigin: 'center top',\r\n              }}\r\n            >\r\n              <Paper className={classes.menu}>\r\n                <ClickAwayListener onClickAway={this.handleClose}>\r\n                  {this.popupComponentMapper(mount)}\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst FileUploader = ({ innerRef, fileList, updateList }) => (\r\n  <FilePond\r\n    ref={innerRef}\r\n    oninit={() => innerRef.current.addFiles(fileList)}\r\n    maxFiles={1}\r\n    files={fileList}\r\n    onupdatefiles={(items, callback) =>\r\n      updateList(items.map(item => item.file), callback)\r\n    }\r\n    acceptedFileTypes={['image/*']}\r\n  />\r\n);\r\n\r\nexport const VideoList = ({\r\n  classes,\r\n  videos,\r\n  videoContent,\r\n  updateSelection,\r\n}) => {\r\n  const error = videoContent.length === 0;\r\n\r\n  if (videos.length)\r\n    return (\r\n      <React.Fragment>\r\n        <FormControl\r\n          className={classes.root}\r\n          component='fieldset'\r\n          error={error}\r\n          required\r\n        >\r\n          <FormLabel component='legend'>Video list</FormLabel>\r\n          <FormGroup>\r\n            {videos.map(v => (\r\n              <FormControlLabel\r\n                key={v.id}\r\n                control={\r\n                  // eslint-disable-next-line react/jsx-wrap-multilines\r\n                  <Checkbox\r\n                    checked={videoContent.includes(v.id)}\r\n                    onChange={updateSelection(v.id)}\r\n                    value='checked'\r\n                  />\r\n                }\r\n                label={v.name}\r\n              />\r\n            ))}\r\n          </FormGroup>\r\n          <FormHelperText component='legend'>\r\n            You have to select at least one video\r\n          </FormHelperText>\r\n        </FormControl>\r\n      </React.Fragment>\r\n    );\r\n  // noinspection HtmlUnknownTarget\r\n  return (\r\n    <Typography align='center'>\r\n      No video are available.\r\n      <br />\r\n      <Link href='/dashboard/video/upload'>Upload a new one?</Link>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nFileUploader.propTypes = {\r\n  innerRef: PropTypes.shape({\r\n    current: PropTypes.shape({\r\n      addFiles: PropTypes.func.isRequired,\r\n    }),\r\n  }).isRequired,\r\n  fileList: PropTypes.array.isRequired,\r\n  updateList: PropTypes.func.isRequired,\r\n};\r\n\r\nVideoList.propTypes = {\r\n  classes: PropTypes.shape({\r\n    root: PropTypes.string,\r\n  }).isRequired,\r\n  videos: PropTypes.array.isRequired,\r\n  videoContent: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  updateSelection: PropTypes.func.isRequired,\r\n};\r\n\r\nSearchPaper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n  videos: PropTypes.array.isRequired,\r\n  handleSearch: PropTypes.func.isRequired,\r\n  handleGetVideoList: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(SearchPaper);\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { FilePond } from 'react-filepond';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/es/CardContent/CardContent';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport className from 'classnames';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport RequiredField from '../../../common/RequiredField';\r\nimport Form from '../../../common/Form';\r\nimport Button from '../../../common/Button';\r\nimport CollapseGrow from '../../../common/CollapseGrow';\r\nimport { VideoList } from './NewSearchPaper';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: 'transparent',\r\n    width: '90%',\r\n    margin: 'auto',\r\n    padding: theme.spacing.unit,\r\n  },\r\n  button: {\r\n    width: '100%',\r\n  },\r\n  filter: {\r\n    minHeight: 200,\r\n    minWidth: 360,\r\n  },\r\n  card: {\r\n    marginBottom: 2 * theme.spacing.unit,\r\n    position: 'relative',\r\n    '&:last-child': {\r\n      marginBottom: 0,\r\n    },\r\n  },\r\n  imgCard: {\r\n    width: 210,\r\n    height: 118,\r\n  },\r\n  finish: {\r\n    position: 'absolute',\r\n    right: 0,\r\n  },\r\n  menu: {\r\n    width: 230,\r\n    padding: theme.spacing.unit * 2,\r\n    outline: 'none',\r\n    borderRadius: theme.shape.buttonBorderRadius,\r\n  },\r\n  videoListRoot: {\r\n    width: '100%',\r\n    padding: theme.spacing.unit,\r\n    maxHeight: 800,\r\n    overflowY: 'scroll',\r\n  },\r\n});\r\n\r\nclass SearchPaper extends Form {\r\n  state = {\r\n    anchorEl: null,\r\n    textContent: '',\r\n    textDisplay: true,\r\n    imgContent: [],\r\n    imageDisplay: true,\r\n    faceContent: [],\r\n    faceDisplay: true,\r\n    video: true,\r\n    videoContent: [],\r\n  };\r\n\r\n  child = {\r\n    text: React.createRef(),\r\n    image: React.createRef(),\r\n  };\r\n\r\n  componentWillMount() {\r\n    const { handleGetVideoList } = this.props;\r\n    handleGetVideoList();\r\n  }\r\n\r\n  handleClose = e => {\r\n    const { anchorEl } = this.state;\r\n\r\n    if (anchorEl.contains(e.target)) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleContentChange = name => (e, callback) =>\r\n    this.setState({ [name]: e.target.value }, callback);\r\n\r\n  handleVideoContentChange = id => e => {\r\n    const { checked } = e.target;\r\n    this.setState(state => {\r\n      const { videoContent: _v } = state;\r\n      const videoContent = _v.slice();\r\n      if (checked) videoContent.push(id);\r\n      else {\r\n        const index = videoContent.indexOf(id);\r\n        if (index > -1) {\r\n          videoContent.splice(index, 1);\r\n        }\r\n      }\r\n      return { videoContent };\r\n    });\r\n  };\r\n\r\n  handleSubmit = this.handleSubmitWrapper(() => {\r\n    const { textContent, imgContent, videoContent } = this.state;\r\n    this.props.handleSearch({\r\n      text: textContent,\r\n      img: imgContent.length ? imgContent[0] : null,\r\n      target: videoContent,\r\n    });\r\n  });\r\n\r\n  render() {\r\n    const { classes, theme, videos } = this.props;\r\n    const { anchorEl, textContent, imgContent, videoContent } = this.state;\r\n    const open = Boolean(anchorEl);\r\n\r\n    return (\r\n      <Paper className={classes.root} elevation={0}>\r\n        <Grid className={classes.card} spacing={8} container>\r\n          <Grid xs md={12} lg item>\r\n            <CollapseGrow in>\r\n              <Card className={className(classes.card, classes.filter)}>\r\n                <CardHeader title='Product Image' aria-label='product image' />\r\n                <CardContent>\r\n                  <RequiredField\r\n                    value={imgContent.length}\r\n                    initValue={0}\r\n                    ref={this.child.image}\r\n                    bindingChange='onupdatefiles'\r\n                  >\r\n                    <FilePond\r\n                      maxFiles={1}\r\n                      onupdatefiles={(items, callback) => {\r\n                        this.setState(\r\n                          {\r\n                            imgContent: items.map(item => item.file),\r\n                          },\r\n                          callback,\r\n                        );\r\n                      }}\r\n                      acceptedFileTypes={['image/*']}\r\n                    />\r\n                  </RequiredField>\r\n                </CardContent>\r\n              </Card>\r\n            </CollapseGrow>\r\n          </Grid>\r\n\r\n          <Grid xs md={12} lg item>\r\n            <CollapseGrow in>\r\n              <Card className={className(classes.card, classes.filter)}>\r\n                <CardHeader title='Face Image' aria-label='face image' />\r\n                <CardContent>\r\n                  <FilePond\r\n                    maxFiles={1}\r\n                    onupdatefiles={items => {\r\n                      this.setState({\r\n                        sceneContent: items.map(item => item.file),\r\n                      });\r\n                    }}\r\n                    acceptedFileTypes={['image/*']}\r\n                  />\r\n                </CardContent>\r\n              </Card>\r\n            </CollapseGrow>\r\n          </Grid>\r\n\r\n          <Grid xs md={12} lg item>\r\n            <CollapseGrow in>\r\n              <Card className={className(classes.card, classes.filter)}>\r\n                <CardHeader\r\n                  title='Product Description'\r\n                  aria-label='product description'\r\n                />\r\n                <CardContent>\r\n                  <RequiredField initValue='' ref={this.child.text}>\r\n                    <TextField\r\n                      id='searchPaper-text-input'\r\n                      label='Text'\r\n                      placeholder='Any text here...'\r\n                      value={textContent}\r\n                      onChange={this.handleContentChange('textContent')}\r\n                      multiline\r\n                      fullWidth\r\n                      margin='normal'\r\n                    />\r\n                  </RequiredField>\r\n                </CardContent>\r\n              </Card>\r\n            </CollapseGrow>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid className={classes.card} justify='flex-end' spacing={8} container>\r\n          <Grid item>\r\n            <Button\r\n              aria-owns={open ? 'fade-menu' : undefined}\r\n              aria-haspopup='true'\r\n              onClick={e => {\r\n                const { currentTarget } = e;\r\n                this.setState(state => {\r\n                  if (!state.anchorEl)\r\n                    return {\r\n                      anchorEl: currentTarget,\r\n                    };\r\n                  return { anchorEl: null };\r\n                });\r\n              }}\r\n            >\r\n              {videoContent.length ? '● ' : ''}\r\n              Video List ▼\r\n            </Button>\r\n          </Grid>\r\n          <Grid item>\r\n            <Button\r\n              variant='contained'\r\n              color='primary'\r\n              onClick={this.handleSubmit}\r\n            >\r\n              Search\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Popper\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          onClose={this.handleClose}\r\n          style={{ zIndex: theme.zIndex.drawer + 1 }}\r\n          transition\r\n        >\r\n          {({ TransitionProps }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              id='menu-list-grow'\r\n              style={{\r\n                transformOrigin: 'center top',\r\n              }}\r\n            >\r\n              <Paper className={classes.menu}>\r\n                <ClickAwayListener onClickAway={this.handleClose}>\r\n                  <VideoList\r\n                    classes={{ root: classes.videoListRoot }}\r\n                    updateSelection={this.handleVideoContentChange}\r\n                    videos={videos}\r\n                    videoContent={videoContent}\r\n                  />\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nSearchPaper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  videos: PropTypes.array.isRequired,\r\n  handleSearch: PropTypes.func.isRequired,\r\n  handleGetVideoList: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(SearchPaper);\r\n","import { connect } from 'react-redux';\r\nimport { PRODsearch } from '../../../redux/actions/product/post';\r\nimport { VIDEOgetList } from '../../../redux/actions/video';\r\nimport SearchPaper from './search/SearchPaper';\r\n\r\nconst mapStateToProps = state => ({\r\n  videos: state.video.videoList.videos,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleSearch: props => dispatch(PRODsearch(props)),\r\n  handleGetVideoList: successCallback =>\r\n    dispatch(VIDEOgetList(successCallback)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(SearchPaper);\r\n","/* react/no-array-index-key,react/jsx-wrap-multilines,react/jsx-indent,react/jsx-indent-props */\r\nimport React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/es/Divider/Divider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ReconnectingWebSocket from 'reconnecting-websocket';\r\nimport { isEmpty, secondToHMS } from '../../../utils/utils';\r\nimport Button from '../../common/Button';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: 'transparent',\r\n    margin: 'auto',\r\n    padding: theme.spacing.unit,\r\n  },\r\n  card: {\r\n    display: 'inline-block',\r\n  },\r\n  cardPaper: {\r\n    background: 'transparent',\r\n  },\r\n  imgCard: {\r\n    width: 210,\r\n    height: 118,\r\n  },\r\n  videoGrid: {\r\n    width: 210,\r\n    padding: 0.5 * theme.spacing.unit,\r\n  },\r\n  divider: {\r\n    margin: [['5px', '0px']],\r\n    '&:last-child': {\r\n      display: 'none',\r\n    },\r\n  },\r\n});\r\n\r\nclass InsertionPointPaper extends React.PureComponent {\r\n  state = { bidPrice: {} };\r\n\r\n  componentWillMount() {\r\n    const { websocketOnMessage } = this.props;\r\n    const wsPath = `${window.location.protocol === 'https:' ? 'wss' : 'ws'}://${\r\n      window.location.host\r\n    }/bidding/stream/`;\r\n    const socket = new ReconnectingWebSocket(wsPath);\r\n    socket.onmessage = websocketOnMessage;\r\n    this.socket = socket;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.socket.close();\r\n  }\r\n\r\n  handleUpdatePrice = id => event => {\r\n    const { value } = event.target;\r\n    this.setState(state => ({\r\n      ...state.bidPrice,\r\n      bidPrice: { [id.toString()]: value },\r\n    }));\r\n  };\r\n\r\n  handleBid = (id, price) => {\r\n    this.socket.send(JSON.stringify({ item_id: id, price }));\r\n  };\r\n\r\n  render() {\r\n    const { classes, videos, handleInsert } = this.props;\r\n    const { bidPrice } = this.state;\r\n\r\n    return (\r\n      <Paper className={classes.root} elevation={0}>\r\n        <Typography variant='h6' gutterBottom>\r\n          Search Result\r\n        </Typography>\r\n        {isEmpty(videos) ? (\r\n          <Typography variant='subtitle2' color='textSecondary'>\r\n            No result yet, tune your filter condition and try again.\r\n          </Typography>\r\n        ) : null}\r\n        <div>\r\n          {Object.keys(videos).map(key => (\r\n            <React.Fragment key={key}>\r\n              <Typography component='div' variant='subtitle1'>\r\n                {key}\r\n              </Typography>\r\n              <Grid spacing={8} container>\r\n                {videos[key].map(clip => (\r\n                  <Grid key={clip.id} item>\r\n                    <Grid className={classes.videoGrid} item>\r\n                      <Card\r\n                        className={classes.card}\r\n                        elevation={0}\r\n                        title='preview'\r\n                      >\r\n                        <CardMedia\r\n                          className={classes.imgCard}\r\n                          component='img'\r\n                          src={clip.cover}\r\n                          alt={clip.name}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                    <Grid className={classes.videoGrid} item>\r\n                      <Typography gutterBottom>{clip.id}</Typography>\r\n                      <Grid direction='row' spacing={8} container>\r\n                        <Grid item xs>\r\n                          <Typography>\r\n                            {`Time: ${secondToHMS(clip.start)} - ${secondToHMS(\r\n                              clip.end,\r\n                            )}`}\r\n                          </Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <Button\r\n                            variant='contained'\r\n                            color='primary'\r\n                            size='small'\r\n                            onClick={() => handleInsert(clip.id)}\r\n                          >\r\n                            Insert\r\n                          </Button>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Typography\r\n                        variant='subtitle1'\r\n                        color='error'\r\n                        gutterBottom\r\n                      >\r\n                        {`$${clip.price}`}\r\n                      </Typography>\r\n                      <TextField\r\n                        id={`${clip.id}`}\r\n                        label='Your bidding price'\r\n                        value={bidPrice[`${clip.id}`] || clip.price}\r\n                        onChange={this.handleUpdatePrice(clip.id)}\r\n                        type='number'\r\n                        className={classes.textField}\r\n                        InputLabelProps={{\r\n                          shrink: true,\r\n                        }}\r\n                        margin='normal'\r\n                        style={{ width: '100%' }}\r\n                      />\r\n                      <Button\r\n                        variant='contained'\r\n                        color='primary'\r\n                        size='small'\r\n                        onClick={() =>\r\n                          this.handleBid(clip.id, bidPrice[clip.id])\r\n                        }\r\n                        style={{ width: '100%' }}\r\n                      >\r\n                        Bid Now\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n              <Divider className={classes.divider} />\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nInsertionPointPaper.defaultProps = {\r\n  videos: {},\r\n};\r\n\r\nInsertionPointPaper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  videos: PropTypes.shape({\r\n    [PropTypes.string]: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        cover: PropTypes.string,\r\n        start: PropTypes.number.isRequired,\r\n        end: PropTypes.number.isRequired,\r\n      }).isRequired,\r\n    ).isRequired,\r\n  }),\r\n  handleInsert: PropTypes.func.isRequired,\r\n  websocketOnMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(InsertionPointPaper);\r\n","import { connect } from 'react-redux';\r\nimport InsertionPointPaper from './InsertionPointPaper';\r\nimport {\r\n  PRODinitBiddingWebsocket,\r\n  PRODinsert,\r\n} from '../../../redux/actions/product/post';\r\n\r\nconst mapStateToProps = state => ({\r\n  videos: state.product.search.videos,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleInsert: id => dispatch(PRODinsert(id)),\r\n  websocketOnMessage: message => PRODinitBiddingWebsocket(message, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(InsertionPointPaper);\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport ContainerSearchPaper from './ContainerSearchPaper';\r\nimport ContainerInsertionPointPaper from './ContainerInsertionPointPaper';\r\n\r\nconst styles = {\r\n  root: {\r\n    width: '85%',\r\n    margin: 'auto',\r\n  },\r\n};\r\n\r\nconst Index = ({ classes }) => (\r\n  <div className={classes.root}>\r\n    <ContainerSearchPaper />\r\n    <ContainerInsertionPointPaper />\r\n  </div>\r\n);\r\n\r\nIndex.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Index);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Snackbar from '../../common/Snackbar';\r\n\r\nconst mapStateToProps = state => ({\r\n  insertState: state.product.insert,\r\n  searchState: state.product.search,\r\n});\r\n\r\nconst MessageBars = ({ insertState, searchState }) => (\r\n  <React.Fragment>\r\n    <Snackbar state={searchState} message={{ success: 'Search success.' }} />\r\n    <Snackbar state={insertState} message={{ success: 'Insert success.' }} />\r\n  </React.Fragment>\r\n);\r\n\r\nexport default connect(mapStateToProps)(MessageBars);\r\n","import React from 'react';\r\nimport Switch from 'react-router/Switch';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Route from '../../../routes/RouteWrapper';\r\nimport Sidebar from '../common/Sidebar';\r\nimport AdInsertApp from '.';\r\nimport { styles } from '../common/layout';\r\nimport MessageBars from './MessageBars';\r\n\r\nconst AdRouter = ({ classes, match }) => (\r\n  <div className={classes.root}>\r\n    <Sidebar currentPath={match.path} />\r\n    <div style={{ flexGrow: 1 }}>\r\n      <Switch>\r\n        {Route({ exact: true, path: '/', component: AdInsertApp })}\r\n        {/* <Redirect to={'/404'}/> */}\r\n      </Switch>\r\n      <MessageBars />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(AdRouter);\r\n","import React from 'react';\r\nimport DashboardApp from \"./index\";\r\nimport VideoRouter from \"./video/urls\";\r\nimport UserRouter from \"./user/urls\";\r\nimport Route from \"../../routes/RouteWrapper\";\r\nimport Switch from \"react-router/Switch\";\r\nimport WatchApp from \"./watch\"\r\nimport ModelRouter from \"./model/urls\";\r\nimport AdRouter from \"./productSearch/urls\";\r\n\r\nconst DashboardRouter = () => (\r\n    <Switch>\r\n        {Route({exact: true, path: '/', component: DashboardApp})}\r\n        {Route({path: '/video', component: VideoRouter})}\r\n        {Route({path: '/user', component: UserRouter})}\r\n        {Route({path: '/model', component: ModelRouter})}\r\n        {Route({path: '/watch', component: WatchApp})}\r\n        {Route({path: '/ad', component: AdRouter})}\r\n        {/*<Redirect to={'404'}/>*/}\r\n    </Switch>\r\n);\r\n\r\nexport default DashboardRouter;\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport Button from \"../common/Button\";\r\nimport Link from \"../common/Link\";\r\n\r\n\r\nconst styles = {\r\n    root: {\r\n        maxWidth: 300,\r\n        margin: \"auto\",\r\n        padding: \"48px 0px\",\r\n        '@media (min-width: 600px)': {\r\n            paddingTop: 64,\r\n            maxWidth: 500,\r\n        },\r\n    },\r\n    logo: {\r\n        margin: \"auto\",\r\n        maxHeight: 382,\r\n    },\r\n    h4: {\r\n        lineHeight: \"2.5rem\",\r\n        fontWeight: 200,\r\n    },\r\n};\r\n\r\nconst HysiaTitle = ({classes}) => (\r\n    <div className={classes.root}>\r\n        <Typography className={classes.logo} variant=\"h1\" component=\"img\" align=\"center\"\r\n                    src={require('../../asset/hysia logo.png')} alt={'hysia-logo'}/>\r\n        <Typography variant=\"h2\" align=\"center\" color=\"primary\" gutterBottom>\r\n            HYSIA\r\n        </Typography>\r\n        <Typography variant={'h4'} align={'center'} paragraph className={classes.h4}>\r\n            a low-latency high-throughput\r\n            video analysis system.\r\n        </Typography>\r\n        <Typography variant={'h3'} align={'center'}>\r\n            <Link to='/dashboard/' animation={false}>\r\n                <Button variant={'outlined'} color={'primary'} className={classes.button}>\r\n                    Try our dashboard!\r\n                </Button>\r\n            </Link>\r\n        </Typography>\r\n    </div>\r\n);\r\n\r\nHysiaTitle.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(HysiaTitle);\r\n","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\"\r\nimport Link from \"../Link\";\r\n\r\nconst styles = theme => {\r\n    return ({\r\n        root: {\r\n            flexGrow: 1,\r\n            position: \"sticky\",\r\n            top: 0,\r\n            paddingTop: 20,\r\n            backgroundColor: theme.palette.grey[100],\r\n            width: \"100%\",\r\n            zIndex: 1250,\r\n        },\r\n        container: {\r\n            width: \"70%\",\r\n            maxWidth: 1280,\r\n            margin: [[\"0px\", \"auto\"]]\r\n        },\r\n    });\r\n};\r\n\r\nconst links = [\r\n    [\"GitHub\", \"https://github.com/orgs/cap-ntu/teams/hysia\"],\r\n    [\"Team\", \"/team\"],\r\n    [\"Demo\", \"/dashboard/video/upload\"]\r\n];\r\n\r\nconst Footer = ({classes}) => (\r\n    <footer className={classes.root}>\r\n        <div className={classes.container}>\r\n            <Typography component=\"div\" variant=\"h5\" gutterBottom>\r\n                Quick Links\r\n            </Typography>\r\n            <Grid container spacing={8}>\r\n                {links.map(([name, link], index) =>\r\n                    <Grid item key={index} xs={6}>\r\n                        <Link to={link} animation={false} paragraph>\r\n                            <Typography variant=\"subtitle1\" gutterBottom>{name}</Typography>\r\n                        </Link>\r\n                    </Grid>\r\n                )}\r\n            </Grid>\r\n            <Typography>Hysia 1.0</Typography>\r\n        </div>\r\n    </footer>\r\n);\r\n\r\nexport default withStyles(styles)(Footer);\r\n","import React from 'react';\r\nimport * as ReactDom from \"react-dom\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport HysiaTitle from \"./HysiaTitle\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Footer from \"../common/app/Footer\";\r\n\r\nconst styles = () => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n});\r\n\r\nconst HomeApp = ({classes}) => {\r\n    const footer = document.getElementById(\"hysia-footer-container\");\r\n    if (footer)\r\n        ReactDom.createPortal(<Footer/>, footer);\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <HysiaTitle/>\r\n        </div>\r\n    );\r\n};\r\n\r\nHomeApp.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(HomeApp);\r\n","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport Button from \"../Button\";\r\nimport {deleteCookie, getCookie} from \"../../../utils/utils\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport PersonIcon from \"@material-ui/icons/PersonRounded\";\r\nimport Popper from \"@material-ui/core/Popper\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\r\nimport MenuList from \"@material-ui/core/MenuList\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\nimport {USER_logout} from \"../../../redux/actions/user/get\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = () => ({});\r\nconst mapDispatchToProps = dispatch => ({\r\n    handleLogout: successCallback => dispatch(USER_logout(successCallback))\r\n});\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    anchorEl = null;\r\n\r\n    handleToggle = () => {\r\n        this.setState(state => ({open: !state.open}));\r\n    };\r\n\r\n    handleClose = event => {\r\n        if (this.anchorEl.contains(event.target)) {\r\n            return;\r\n        }\r\n        this.setState({open: false});\r\n    };\r\n\r\n    handleLogout = () => {\r\n        const cleanUp = () => {\r\n            this.setState({open: false}, () => window.location.reload());\r\n            deleteCookie(\"csrftoken\");\r\n        };\r\n\r\n        this.props.handleLogout(cleanUp);\r\n    };\r\n\r\n    render() {\r\n        const {} = this.props;\r\n        const {open} = this.state;\r\n        return (\r\n            !getCookie(\"csrftoken\") ?\r\n                <Button color=\"inherit\">Login</Button> :\r\n                <div>\r\n                    <IconButton\r\n                        color=\"inherit\"\r\n                        buttonRef={node => {\r\n                            this.anchorEl = node;\r\n                        }}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={this.handleToggle}\r\n                    >\r\n                        <PersonIcon/>\r\n                    </IconButton>\r\n                    <Popper open={open} anchorEl={this.anchorEl} transition disablePortal>\r\n                        {({TransitionProps}) => (\r\n                            <Grow {...TransitionProps}>\r\n                                <Paper>\r\n                                    <ClickAwayListener onClickAway={this.handleClose}>\r\n                                        <MenuList>\r\n                                            <MenuItem dense>Welcome</MenuItem>\r\n                                            <Divider variant=\"middle\"/>\r\n                                            <MenuItem dense onClick={this.handleLogout}>Logout</MenuItem>\r\n                                        </MenuList>\r\n                                    </ClickAwayListener>\r\n                                </Paper>\r\n                            </Grow>\r\n                        )}\r\n                    </Popper>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    classes: PropTypes.object,\r\n    handleLogout: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport {fade} from \"@material-ui/core/styles/colorManipulator\";\r\nimport Link from \"../Link\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport classNames from \"classnames\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport VideoCallIcon from \"@material-ui/icons/VideoCallRounded\";\r\nimport Login from \"./Login\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        width: '100%',\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    logo: {\r\n        marginLeft: -12,\r\n        marginRight: '8rem',\r\n    },\r\n    imgContainer: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        maxWidth: '100%',\r\n        maxHeight: '100%',\r\n    },\r\n    img: {\r\n        height: 36,\r\n        '@media (max-width: 840px)': {\r\n            height: 0,\r\n        },\r\n    },\r\n    headerItem: {\r\n        marginRight: 20,\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.buttonBorderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing.unit,\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing.unit * 9,\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        width: '100%',\r\n    },\r\n    inputInput: {\r\n        paddingTop: theme.spacing.unit,\r\n        paddingRight: theme.spacing.unit,\r\n        paddingBottom: theme.spacing.unit,\r\n        paddingLeft: theme.spacing.unit * 10,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: 120,\r\n            '&:focus': {\r\n                width: 200,\r\n            },\r\n        },\r\n    },\r\n});\r\n\r\nconst header = {\r\n    name: ['APIs', 'Hysia Team', 'Github'],\r\n    url: ['/api', '/HysiaTeam', 'https://github.com/HuaizhengZhang/Hysia']\r\n};\r\n\r\nconst Header = ({classes}) => (\r\n    <AppBar className={classes.root} color={'primary'} position=\"fixed\">\r\n        <Toolbar>\r\n            <Grid item className={classes.imgContainer}>\r\n                <img className={classes.img} src={require('../../../asset/hysia-small.svg')} alt={'hysia-logo-small'}/>\r\n            </Grid>\r\n            <Link className={classes.logo} aira-label={'hysia'} to={'/dashboard'} noWrap>\r\n                Hysia\r\n            </Link>\r\n            {header.name.map((item, key) =>\r\n                <Link key={key} aira-label={item} className={classes.headerItem} to={header.url[key]}\r\n                      variant={'subtitle1'} noWrap>\r\n                    {item}\r\n                </Link>)}\r\n            <div className={classes.grow}/>\r\n            <div className={classNames(classes.headerItem, classes.search)}>\r\n                <div className={classes.searchIcon}>\r\n                    <SearchIcon/>\r\n                </div>\r\n                <InputBase\r\n                    placeholder=\"Search…\"\r\n                    classes={{\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput,\r\n                    }}\r\n                />\r\n            </div>\r\n            <Link to={\"/dashboard/video/upload\"} animation={false}>\r\n                <IconButton color={\"inherit\"}>\r\n                    <VideoCallIcon/>\r\n                </IconButton>\r\n            </Link>\r\n            <Login/>\r\n        </Toolbar>\r\n    </AppBar>\r\n);\r\n\r\nHeader.propTypes = {\r\n    classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Header);\r\n","import React from 'react';\r\nimport Switch from 'react-router-dom/Switch';\r\nimport ReactRouter from \"react-router-dom/Router\";\r\nimport createBrowserHistory from 'history/createBrowserHistory';\r\nimport RouteWrapper from \"./routes/RouteWrapper\";\r\nimport PageNotFound from \"./components/common/app/PageNotFound\";\r\nimport DashboardRouter from \"./components/dashboard/urls\";\r\nimport HomeApp from \"./components/home/index\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Header from \"./components/common/app/Header\";\r\n\r\nconst history = createBrowserHistory();\r\n\r\nconst classes = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        minHeight: \"100%\",\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.default,\r\n        padding: theme.spacing.unit * 3,\r\n        minWidth: 0,\r\n        minHeight: \"100%\",\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n});\r\n\r\nconst RootRouter = ({classes}) => (\r\n    <ReactRouter history={history}>\r\n        <div className={classes.root}>\r\n            <Header/>\r\n            <main className={classes.content}>\r\n                <div className={classes.toolbar}/>\r\n                <Switch>\r\n                    {RouteWrapper({path: '/', exact: true, component: HomeApp})}\r\n                    {RouteWrapper({path: '/dashboard/', component: DashboardRouter})}\r\n                    {RouteWrapper({component: PageNotFound})}\r\n                </Switch>\r\n            </main>\r\n            <div id=\"hysia-footer-container\"/>\r\n        </div>\r\n    </ReactRouter>\r\n);\r\n\r\nexport default withStyles(classes)(RootRouter);\r\n","import {DSH_RECEIVE_STATISTICS, DSH_REQUEST_STATISTICS} from \"../../constants/actionTypes\";\r\n\r\nconst initState = {\r\n    CPU: [],\r\n    Memory: [],\r\n    Disk: [],\r\n    Network: [],\r\n    GPU: [],\r\n    summary: {},\r\n};\r\n\r\nfunction calculateOverAll(dataArray) {\r\n    try {\r\n        const resourceInstance = dataArray.length;\r\n        return {\r\n            id: \"Overall\",\r\n            data: dataArray.map(resource => resource.data).reduce((x, y) => x.map((e, i) => ({...e, y: e.y + y[i].y})))\r\n                .map(resource => ({...resource, y: resource.y / resourceInstance}))\r\n        };\r\n    } catch (e) {\r\n    }\r\n    return {id: \"Overall\", data: []}\r\n}\r\n\r\nfunction resourceClassifier(data, names=[]) {\r\n    let resourcesData = {\"summary\": {}};\r\n    names.forEach(name => {\r\n        let resourceData = data.filter(resource => resource.id.match(name.toString()) !== null);\r\n        resourcesData[name] = resourceData;\r\n        resourcesData.summary[name] = calculateOverAll(resourceData);\r\n    });\r\n    return resourcesData;\r\n}\r\n\r\nfunction dashboard(state = initState, action) {\r\n    switch (action.type) {\r\n        case DSH_REQUEST_STATISTICS:\r\n            return state;\r\n        case DSH_RECEIVE_STATISTICS:\r\n            if (action.status === \"SUCCESS\") {\r\n                return {\r\n                    ...state,\r\n                    ...resourceClassifier(action.dataArray, [\"CPU\", \"Memory\", \"Disk\", \"Network\", \"GPU\"])\r\n                }\r\n            }\r\n            console.log(action.error);\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dashboard;\r\n","export function asyncReducer(state, action, {request, receive}, mappings = {}) {\r\n    switch (action.type) {\r\n        case request:\r\n            return {\r\n                ...state,\r\n                state: \"REQUEST\",\r\n            };\r\n        case receive:\r\n            if (action.status === \"SUCCESS\")\r\n                return {\r\n                    ...state,\r\n                    state: \"SUCCESS\",\r\n                    ...mappings,\r\n                };\r\n            return {\r\n                ...state,\r\n                state: \"FAILURE\",\r\n                reason: action.reason,\r\n            };\r\n        default:\r\n            return {...state};\r\n    }\r\n}\r\n","import {\r\n  VIDEO_CLEAR,\r\n  VIDEO_DELETE_RECEIVE,\r\n  VIDEO_DELETE_REQUEST,\r\n  VIDEO_GET_LIST_RECEIVE,\r\n  VIDEO_GET_LIST_REQUEST,\r\n  VIDEO_GET_SINGLE_RECEIVE,\r\n  VIDEO_GET_SINGLE_REQUEST,\r\n  VIDEO_UPDATE_RECEIVE,\r\n  VIDEO_UPDATE_REQUEST,\r\n  VIDEO_UPLOAD_RECEIVE,\r\n  VIDEO_UPLOAD_REQUEST,\r\n} from '../../../constants/actionTypes';\r\nimport { asyncReducer } from '../utils';\r\n\r\nconst initState = {\r\n  videoList: {\r\n    state: 'INIT',\r\n    time: null,\r\n    reason: '',\r\n    videos: [],\r\n  },\r\n  singleVideo: {\r\n    state: 'INIT',\r\n    time: null,\r\n    video: {},\r\n  },\r\n  postVideo: {\r\n    state: 'INIT',\r\n    reason: '',\r\n    time: null,\r\n  },\r\n  updateVideo: {\r\n    state: 'INIT',\r\n    reason: '',\r\n    time: null,\r\n  },\r\n  deleteVideo: {\r\n    state: 'INIT',\r\n    reason: '',\r\n    time: null,\r\n  },\r\n};\r\n\r\nexport default function video(state = initState, action) {\r\n  switch (action.type) {\r\n    case VIDEO_GET_LIST_REQUEST:\r\n    case VIDEO_GET_LIST_RECEIVE:\r\n      return {\r\n        ...state,\r\n        videoList: asyncReducer(\r\n          state.videoList,\r\n          action,\r\n          {\r\n            request: VIDEO_GET_LIST_REQUEST,\r\n            receive: VIDEO_GET_LIST_RECEIVE,\r\n          },\r\n          {\r\n            videos: action.videos,\r\n          },\r\n        ),\r\n      };\r\n    case VIDEO_GET_SINGLE_REQUEST:\r\n    case VIDEO_GET_SINGLE_RECEIVE:\r\n      return {\r\n        ...state,\r\n        singleVideo: asyncReducer(\r\n          state.singleVideo,\r\n          action,\r\n          {\r\n            request: VIDEO_GET_SINGLE_REQUEST,\r\n            receive: VIDEO_GET_SINGLE_RECEIVE,\r\n          },\r\n          { video: action.video },\r\n        ),\r\n      };\r\n    case VIDEO_UPLOAD_REQUEST:\r\n    case VIDEO_UPLOAD_RECEIVE:\r\n      return {\r\n        ...state,\r\n        postVideo: asyncReducer(state.postVideo, action, {\r\n          request: VIDEO_UPLOAD_REQUEST,\r\n          receive: VIDEO_UPLOAD_RECEIVE,\r\n        }),\r\n      };\r\n    case VIDEO_UPDATE_REQUEST:\r\n    case VIDEO_UPDATE_RECEIVE:\r\n      return {\r\n        ...state,\r\n        updateVideo: asyncReducer(state.updateVideo, action, {\r\n          request: VIDEO_UPDATE_REQUEST,\r\n          receive: VIDEO_UPDATE_RECEIVE,\r\n        }),\r\n      };\r\n    case VIDEO_DELETE_REQUEST:\r\n    case VIDEO_DELETE_RECEIVE:\r\n      return {\r\n        ...state,\r\n        deleteVideo: asyncReducer(state.deleteVideo, action, {\r\n          request: VIDEO_DELETE_REQUEST,\r\n          receive: VIDEO_DELETE_RECEIVE,\r\n        }),\r\n      };\r\n    case VIDEO_CLEAR:\r\n      return {\r\n        ...state,\r\n        singleVideo: {\r\n          state: 'INIT',\r\n          time: null,\r\n          video: {},\r\n        },\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n","import {\r\n    MODEL_DELETE_RECEIVE,\r\n    MODEL_DELETE_REQUEST,\r\n    MODEL_GET_DEFAULT_LIST_RECEIVE,\r\n    MODEL_GET_DEFAULT_LIST_REQUEST,\r\n    MODEL_GET_LIST_RECEIVE,\r\n    MODEL_GET_LIST_REQUEST,\r\n    MODEL_GET_SINGLE_RECEIVE,\r\n    MODEL_GET_SINGLE_REQUEST,\r\n    MODEL_POST_RECEIVE,\r\n    MODEL_POST_REQUEST\r\n} from \"../../../constants/actionTypes\";\r\nimport {asyncReducer} from \"../utils\";\r\n\r\nconst initState = {\r\n    models: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n        models: {},\r\n    },\r\n    defaultModels: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n        models: {},\r\n    },\r\n    singleModel: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n        model: {},\r\n    },\r\n    newModel: {\r\n        state: \"INIT\",\r\n        reason: \"\",\r\n        time: null,\r\n    },\r\n    deleteModel: {\r\n        state: \"INIT\",\r\n        reason: \"\",\r\n        time: null,\r\n    }\r\n};\r\n\r\nexport default function model(state = initState, action) {\r\n    switch (action.type) {\r\n        case MODEL_GET_LIST_REQUEST:\r\n        case MODEL_GET_LIST_RECEIVE:\r\n            return {\r\n                ...state,\r\n                models: asyncReducer(state.models, action,\r\n                    {\r\n                        request: MODEL_GET_LIST_REQUEST,\r\n                        receive: MODEL_GET_LIST_RECEIVE,\r\n                    },\r\n                    {models: action.models}\r\n                )\r\n            };\r\n        case MODEL_GET_DEFAULT_LIST_REQUEST:\r\n        case MODEL_GET_DEFAULT_LIST_RECEIVE:\r\n            return {\r\n                ...state,\r\n                defaultModels: asyncReducer(state.defaultModels, action,\r\n                    {\r\n                        request: MODEL_GET_DEFAULT_LIST_REQUEST,\r\n                        receive: MODEL_GET_DEFAULT_LIST_RECEIVE,\r\n                    },\r\n                    {models: action.models})\r\n            };\r\n        case MODEL_GET_SINGLE_REQUEST:\r\n        case MODEL_GET_SINGLE_RECEIVE:\r\n            return {\r\n                ...state,\r\n                singleModel: asyncReducer(state.singleModel, action,\r\n                    {\r\n                        request: MODEL_GET_SINGLE_REQUEST,\r\n                        receive: MODEL_GET_SINGLE_RECEIVE,\r\n                    },\r\n                    {model: action.model})\r\n            };\r\n        case MODEL_POST_REQUEST:\r\n        case MODEL_POST_RECEIVE:\r\n            return {\r\n                ...state,\r\n                newModel: asyncReducer(state.newModel, action,\r\n                    {\r\n                        request: MODEL_POST_REQUEST,\r\n                        receive: MODEL_POST_RECEIVE,\r\n                    })\r\n            };\r\n        case MODEL_DELETE_REQUEST:\r\n        case MODEL_DELETE_RECEIVE:\r\n            return {\r\n                ...state,\r\n                deleteModel: asyncReducer(state.deleteModel, action,\r\n                    {\r\n                        request: MODEL_DELETE_REQUEST,\r\n                        receive: MODEL_DELETE_RECEIVE,\r\n                    })\r\n            };\r\n        default:\r\n            return {...state};\r\n    }\r\n}\r\n","import {\r\n    USER_DELETE_RECEIVE,\r\n    USER_DELETE_REQUEST,\r\n    USER_GET_LIST_RECEIVE,\r\n    USER_GET_LIST_REQUEST,\r\n    USER_POST_RECEIVE,\r\n    USER_POST_REQUEST,\r\n    USER_UPDATE_RECEIVE,\r\n    USER_UPDATE_REQUEST\r\n} from \"../../../constants/actionTypes\";\r\nimport {asyncReducer} from \"../utils\";\r\n\r\nconst initState = {\r\n    userList: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n        users: [],\r\n        nameList: {},\r\n    },\r\n    userNew: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n    },\r\n    userUpdate: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n    },\r\n    userDelete: {\r\n        state: \"INIT\",\r\n        time: null,\r\n        reason: \"\",\r\n    },\r\n};\r\n\r\nexport default function (state = initState, action) {\r\n    switch (action.type) {\r\n        case USER_GET_LIST_REQUEST:\r\n        case USER_GET_LIST_RECEIVE:\r\n            return {\r\n                ...state,\r\n                userList: asyncReducer(state.userList, action,\r\n                    {\r\n                        request: USER_GET_LIST_REQUEST,\r\n                        receive: USER_GET_LIST_RECEIVE\r\n                    },\r\n                    {\r\n                        users: action.users,\r\n                        nameList: action.nameList\r\n                    })\r\n            };\r\n        case USER_POST_REQUEST:\r\n        case USER_POST_RECEIVE:\r\n            return {\r\n                ...state,\r\n                userNew: asyncReducer(state.userNew, action,\r\n                    {\r\n                        request: USER_POST_REQUEST,\r\n                        receive: USER_POST_RECEIVE,\r\n                    })\r\n            };\r\n        case USER_UPDATE_REQUEST:\r\n        case USER_UPDATE_RECEIVE:\r\n            return {\r\n                ...state,\r\n                userUpdate: asyncReducer(state.userUpdate, action,\r\n                    {\r\n                        request: USER_UPDATE_REQUEST,\r\n                        receive: USER_UPDATE_RECEIVE,\r\n                    })\r\n            };\r\n        case USER_DELETE_REQUEST:\r\n        case USER_DELETE_RECEIVE:\r\n            return {\r\n                ...state,\r\n                userDelete: asyncReducer(state.userDelete, action,\r\n                    {\r\n                        request: USER_DELETE_REQUEST,\r\n                        receive: USER_DELETE_RECEIVE,\r\n                    })\r\n            };\r\n        default:\r\n            return {...state};\r\n    }\r\n}\r\n","import {\r\n  PROD_INSERT_RECEIVE,\r\n  PROD_INSERT_REQUEST,\r\n  PROD_SEARCH_RECEIVE,\r\n  PROD_SEARCH_REQUEST,\r\n  PROD_BIDDING_REQUEST,\r\n  PROD_BIDDING_RECEIVE,\r\n} from '../../../constants/actionTypes';\r\nimport { asyncReducer } from '../utils';\r\n\r\nconst initState = {\r\n  search: {\r\n    state: 'INIT',\r\n    time: null,\r\n    reason: '',\r\n    videos: {},\r\n  },\r\n  insert: {\r\n    state: 'INIT',\r\n    time: null,\r\n    reason: '',\r\n  },\r\n  bidding: {\r\n    state: 'INIT',\r\n    time: null,\r\n    reason: '',\r\n    data: {},\r\n  },\r\n};\r\n\r\nconst product = (state = initState, action) => {\r\n  let plugin = {};\r\n\r\n  switch (action.type) {\r\n    case PROD_SEARCH_REQUEST:\r\n    case PROD_SEARCH_RECEIVE:\r\n      return {\r\n        ...state,\r\n        search: asyncReducer(\r\n          state.search,\r\n          action,\r\n          {\r\n            request: PROD_SEARCH_REQUEST,\r\n            receive: PROD_SEARCH_RECEIVE,\r\n          },\r\n          { videos: action.data },\r\n        ),\r\n      };\r\n    case PROD_INSERT_REQUEST:\r\n    case PROD_INSERT_RECEIVE:\r\n      return {\r\n        ...state,\r\n        insert: asyncReducer(state.insert, action, {\r\n          request: PROD_INSERT_REQUEST,\r\n          receive: PROD_INSERT_RECEIVE,\r\n        }),\r\n      };\r\n    case PROD_BIDDING_REQUEST:\r\n    case PROD_BIDDING_RECEIVE:\r\n      if (action.status === 'SUCCESS') {\r\n        const { videos } = state.search;\r\n        const { id, price } = action.data;\r\n        // reformat the videos\r\n        const clip = Object.values(videos)\r\n          .reduce((x, y) => x.concat(y), [])\r\n          .filter(x => x.id === id)[0];\r\n        clip.price = price;\r\n        plugin = {\r\n          search: {\r\n            ...state.search,\r\n            videos: { ...videos },\r\n          },\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        ...plugin,\r\n        bidding: asyncReducer(state.bidding, action, {\r\n          request: PROD_BIDDING_REQUEST,\r\n          receive: PROD_BIDDING_RECEIVE,\r\n        }),\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default product;\r\n","import combineReducers from 'redux/src/combineReducers';\r\nimport dashboard from \"./dashboard\";\r\nimport video from \"./video/video\";\r\nimport model from \"./model/model\";\r\nimport user from \"./user/user\";\r\nimport product from \"./product/product\";\r\n\r\n\r\nexport default combineReducers({dashboard, video, user, model, product});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers/index';\r\n\r\nconst store  = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport JssProvider from 'react-jss/lib/JssProvider';\r\nimport { create } from 'jss';\r\nimport jssNested from 'jss-nested';\r\nimport {\r\n  createMuiTheme,\r\n  createGenerateClassName,\r\n  jssPreset,\r\n  MuiThemeProvider,\r\n} from '@material-ui/core/styles';\r\n\r\nconst generateClassName = createGenerateClassName();\r\nconst jss = create({\r\n  plugins: [jssPreset().plugins, jssNested()],\r\n  ...jssPreset(),\r\n});\r\njss.options.createGenerateClassName = createGenerateClassName;\r\n\r\nconst hysiaTheme = createMuiTheme({\r\n  mixins: {\r\n    toolbar: {\r\n      minHeight: 48,\r\n      '@media (min-width:0px) and (orientation: landscape)': {\r\n        minHeight: 36,\r\n      },\r\n      '@media (min-width:600px)': {\r\n        minHeight: 56,\r\n      },\r\n    },\r\n  },\r\n  palette: {\r\n    primary: { main: '#33ACFF', contrastText: '#f9f9f9' },\r\n    secondary: { main: '#66EFEF', contrastText: '#363D4E' },\r\n    error: { main: '#F4606C' },\r\n  },\r\n  shape: {\r\n    borderRadius: 8,\r\n    buttonBorderRadius: 4,\r\n    avatarBorderRadius: 16,\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\nconst JssRegistry = ({ children }) => {\r\n  return (\r\n    <JssProvider jss={jss} generateClassName={generateClassName}>\r\n      <MuiThemeProvider theme={hysiaTheme}>{children}</MuiThemeProvider>\r\n    </JssProvider>\r\n  );\r\n};\r\n\r\nJssRegistry.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default JssRegistry;\r\n","import React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './asset/css/styles.css';\r\nimport 'filepond/dist/filepond.min.css';\r\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css';\r\nimport 'dplayer/dist/DPlayer.min.css';\r\n// file pond\r\nimport { registerPlugin } from 'filepond';\r\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\r\nimport FilePondPluginFileRename from 'filepond-plugin-file-rename';\r\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport RootRouter from './urls';\r\nimport store from './redux/store/configStore';\r\nimport JssRegistry from './JssRegistry';\r\n\r\nregisterPlugin(\r\n  FilePondPluginImagePreview,\r\n  FilePondPluginFileRename,\r\n  FilePondPluginFileValidateType,\r\n);\r\n\r\nReactDOM.render(\r\n  <JssRegistry>\r\n    <Provider store={store}>\r\n      <RootRouter />\r\n    </Provider>\r\n  </JssRegistry>,\r\n  document.getElementById('root'),\r\n);\r\n\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}