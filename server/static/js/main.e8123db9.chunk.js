(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{493:function(e,t,a){e.exports=a(837)},502:function(e,t,a){},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",function(){return decodeVideoListJson}),__webpack_require__.d(__webpack_exports__,"e",function(){return decodeSingleVideoJson}),__webpack_require__.d(__webpack_exports__,"f",function(){return decodeUserListJson}),__webpack_require__.d(__webpack_exports__,"b",function(){return decodeModelListJson}),__webpack_require__.d(__webpack_exports__,"d",function(){return decodeSingleModelJson}),__webpack_require__.d(__webpack_exports__,"c",function(){return decodeSceneSearchJson}),__webpack_require__.d(__webpack_exports__,"a",function(){return decodeBiddingJson});var _home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(222),_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68),_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16),type=["OBJECT","TEXT","SCENE","FACE"];function classifyResultByType(e){var t={};return type.forEach(function(e){t[e]=[]}),e.forEach(function(e){var a=e.type;t[a].push(Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},e)),delete t[a].type}),t}function decodeVideoListJson(e){return e.map(function(e){return{id:e.id.toString(),name:e.name,cover:e.cover,processed:e.processed,isProcessing:e.being_processed}})}function decodeProductJson(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(function(e,t){return e.start_time<t.start_time}).map(function(e){return{poster:e.product_path,start:e.start_time/1e3,end:e.end_time/1e3}})}function decodeVisual(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],initValue={text_bboxes:[],scene:[],score:[],num_detections:0,detection_boxes:[],detection_scores:[],detection_classes_names:[],face_bboxes:[],face_names:[]},frameKeyToModelType={detection_boxes:"object",face_bboxes:"face",text_bboxes:"text",scene:"scene"},modelTypes=[];function transpose(e){var t={};return Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(Array(3).keys()).forEach(function(a){t[modelTypes[a]]=e.map(function(e){return e[a]})}),t}function decodeBox(e){return{y1:e[0],x1:e[1],y2:e[2],x2:e[3]}}function decodeObject(e){return Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(Array(e.num_detections).keys()).map(function(t){return Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},decodeBox(e.detection_boxes[t]),{score:e.detection_scores[t],name:e.detection_classes_names[t]})})}function decodeFace(e){return e.face_bboxes.map(function(t,a){return Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},decodeBox(t),{name:e.face_names[a].replace("_"," ")})})}function decodeText(e){return e.text_bboxes.map(function(e){return Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},decodeBox(e),{name:"text"})})||[]}function decodeScene(e){return e.scene.map(function(t,a){return{name:t.replace("_"," "),score:e.score[a]}})||[]}var frame=data[0];if(frame)for(var _i=0,_Object$entries=Object.entries(frameKeyToModelType);_i<_Object$entries.length;_i++){var _ref3=_Object$entries[_i],_ref2=Object(_home_lym_PycharmProject_Hysia_T2O_server_react_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_ref3,2),k=_ref2[0],v=_ref2[1];frame[k]&&modelTypes.push(v)}return transpose(data.map(function(_frame){return Object.keys(initValue).forEach(function(e){_frame[e]||(_frame[e]=initValue[e])}),modelTypes.map(function(_type){return eval("decode".concat(_type.charAt(0).toUpperCase()+_type.slice(1)))(_frame)})}))}function decodeAudio(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.labels.map(function(t,a){return{name:t,score:e.scores[a]}})})}function decodeStatistics(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=e.cur_scene_statistics;return{start:e.start_frame,end:e.end_frame,results:Object.keys(t).map(function(e){return{name:e,appearance:t[e]}})}})}function decodeResultJson(e){return{visual:decodeVisual(e.visual),audio:decodeAudio(e.audio),statistics:decodeStatistics(e.statistics)}}function decodeSingleVideoJson(e){return{url:e.url,audio:e.audio_url,pic:e.pic,processed:e.processed,isProcessing:e.being_processed,totalFrame:e.frame_cnt,models:e.models,result:decodeResultJson(e.result),products:decodeProductJson(e.products)}}function decodeUserListJson(e){return e.sort(function(e,t){return e.username.localeCompare(t.username)}),e.map(function(e){return{id:e.id,username:e.username,name:[e.first_name,e.last_name].filter(function(e){return void 0!==e}).join(" "),firstName:e.first_name,lastName:e.last_name,email:e.email,groups:e.groups,accountType:e.is_superuser?"Administrator":"User",domain:e.is_staff?"Staff":"Public",status:e.is_active?"Activated":"Not Activated"}})}function decodeModelListJson(e){return classifyResultByType(e)}function decodeSingleModelJson(e){return{id:e.id,name:e.name,type:e.type}}function decodeSceneSearchJson(e){var t={};return e.forEach(function(e){t[e[0].TV_NAME]=e.map(function(e){return{id:e.SCENE_ID,cover:e.IMAGE,start:e.START_TIME/1e3,end:e.END_TIME/1e3,price:e.HIGHEST_PRICE,name:e.TV_NAME}})}),t}function decodeBiddingJson(e){return{id:e.scene_id,price:e.price}}},810:function(e,t,a){e.exports=a.p+"static/media/hysia-ads.8bb13783.png"},822:function(e,t,a){e.exports=a.p+"static/media/hysia logo.8983f892.png"},823:function(e,t,a){e.exports=a.p+"static/media/hysia-small.bd458e29.svg"},837:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a(30),c=(a(502),a(503),a(504),a(505),a(279)),l=a(394),s=a.n(l),u=a(395),d=a.n(u),m=a(396),p=a.n(m),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function f(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var E=a(436),v=a.n(E),g=a(435),b=a.n(g),y=a(434),_=a.n(y),C=a(16),O=a(51),S=a(2),j=a(155),w=a.n(j),x=a(397),T=a.n(x);function R(e,t){var a=t.path,n=t.from,o=t.to,i=t.component,c=Object(O.a)(t,["path","from","to","component"]);function l(e){return e?T.a.join(window.appRoot||"/",e):void 0}return a=l(a),n=l(n),o=l(o),r.a.createElement(e,Object.assign({},c,{path:a,from:n,to:o,render:function(e){return window.appRoot=e.match.path,i?r.a.createElement(i,e):null}}))}function k(e){var t=e.path,a=Object(O.a)(e,["path"]);return R(w.a,Object(C.a)({path:t},a))}k.propTypes={path:S.string,exact:S.bool,strict:S.bool,sensitive:S.bool,component:S.func,render:S.func};var U=k,P=a(28),N=function(){return r.a.createElement(P.a,{variant:"h1",align:"center"},"Oops, 404.")},I=a(6),D=a.n(I),L="DSH_REQUEST_STATISTICS",A="DSH_RECEIVE_STATISTICS",F="VIDEO_GET_LIST_REQUEST",M="VIDEO_GET_LIST_RECEIVE",V="VIDEO_GET_SINGLE_REQUEST",B="VIDEO_GET_SINGLE_RECEIVE",G="VIDEO_UPLOAD_REQUEST",q="VIDEO_UPLOAD_RECEIVE",W="VIDEO_DELETE_REQUEST",H="VIDEO_DELETE_RECEIVE",z="VIDEO_UPDATE_REQUEST",Q="VIDEO_UPDATE_RECEIVE",J="VIDEO_CLEAR",K="MODEL_GET_LIST_REQUEST",X="MODEL_GET_LIST_RECEIVE",Y="MODEL_GET_SINGLE_REQUEST",$="MODEL_GET_SINGLE_RECEIVE",Z="MODEL_GET_DEFAULT_LIST_REQUEST",ee="MODEL_GET_DEFAULT_LIST_RECEIVE",te="MODEL_CREATE_REQUEST",ae="MODEL_CREATE_RECEIVE",ne="MODEL_DELETE_REQUEST",re="MODEL_DELETE_RECEIVE",oe=[],ie=0,ce=function(){return function(e){e({type:L});var t=function(){var e={time:ie,resource:{CPU1:Math.random(),CPU2:Math.random(),CPU3:Math.random(),CPU4:Math.random(),CPU5:Math.random(),CPU6:Math.random(),CPU7:Math.random(),CPU8:Math.random(),Memory1:16*Math.random(),Disk:500*Math.random(),Network:1e3*Math.random(),GPU:Math.random()}};return ie+=.5,e}();if(0===oe.length)for(var a in t.resource)t.resource.hasOwnProperty(a)&&oe.push({id:a.toString(),data:[]});var n,r=t.time;return oe.forEach(function(e){t.resource.hasOwnProperty(e.id.toString())&&(e.data.push({x:r,y:t.resource[e.id.toString()]}),e.data.splice(0,e.data.length-60))}),e((n=oe.slice(),{type:A,status:"SUCCESS",dataArray:n,receivedAt:Date.now()}))}};var le=a(7),se=a(8),ue=a(11),de=a(9),me=a(10),pe=a(398),he=a(18),fe=a.n(he),Ee={margin:{top:10,bottom:50,left:60},colors:"red_yellow_blue",xScale:{type:"linear",min:"auto"},yScale:{type:"linear",stacked:!1,min:0,max:1},enableArea:!0,animate:!1,isInteractive:!1,enableDots:!1},ve=function(e){function t(){return Object(le.a)(this,t),Object(ue.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.injection,o=void 0===n?{}:n;return r.a.createElement(fe.a,{variant:"h5",className:t.root},r.a.createElement(pe.ResponsiveLine,Object.assign({data:a},Ee,o,{className:t.responsiveLine})))}}]),t}(r.a.Component),ge=D()({root:{height:"20rem",margin:"auto",marginBottom:"2rem","@media (max-width: 840px)":{height:"16rem"},"@media (max-width: 600px)":{height:"10rem"}},responsiveLine:{border:1}})(ve),be=a(53),ye=a.n(be),_e=a(156),Ce=a.n(_e),Oe=a(281),Se=a.n(Oe),je=a(283),we=a.n(je),xe=a(209),Te=a.n(xe),Re={axisLeft:{orient:"bottom",tickSize:5,tickPadding:5,legendOffset:-40,legendPosition:"middle",legend:"CPU Utilization"},axisBottom:{orient:"left",tickSize:0,legendOffset:36,legendPosition:"middle",legend:"time"}},ke=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,isOverall:!0,utilization:0},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(e){a.setState({anchorEl:null,isOverall:e})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._interval=setInterval(function(){var t=e.props.overall;e.setState({utilization:0===t.length?0:Math.round(100*t[0].data[t[0].data.length-1].y)})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._interval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.data,o=t.overall,i=this.state,c=i.anchorEl,l=i.isOverall,s=i.utilization;return window.innerWidth<840?Re.legends=[]:delete Re.legends,r.a.createElement("div",{className:a.root},r.a.createElement(ye.a,{container:!0,alignItems:"stretch",spacing:24},l?r.a.createElement(ye.a,{item:!0,xs:12},r.a.createElement(ge,{classes:{root:a.overall},data:o,injection:Re})):n.map(function(e,t){return r.a.createElement(ye.a,{key:t,item:!0,sm:12,md:8,lg:3,xl:2},r.a.createElement(ge,{injection:Re,data:[e]}))})),r.a.createElement(ye.a,null,r.a.createElement(Ce.a,null,"Utilization: ",s,"%")),r.a.createElement("div",null,r.a.createElement(Se.a,{"aria-owns":c?"display-mode-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},l?"Overall":"Logical Processors"),r.a.createElement(we.a,{id:"display-mode-menu",anchorEl:c,open:Boolean(c),onClose:this.handleClose},r.a.createElement(Te.a,{onClick:function(){return e.handleClose(!0)}},"Overall"),r.a.createElement(Te.a,{onClick:function(){return e.handleClose(!1)}},"Logical Processors"))))}}]),t}(r.a.Component),Ue=D()({root:{flexGrow:1,minWidth:0},overall:{height:"48rem","@media (max-width: 840px)":{height:"36rem"},"@media (max-width: 600px)":{height:"24rem"}}})(ke),Pe=a(62),Ne=a.n(Pe),Ie=a(82),De=a.n(Ie),Le=a(112),Ae=a.n(Le),Fe=a(99),Me=a.n(Fe),Ve=a(211),Be=a.n(Ve),Ge=a(157),qe=a.n(Ge),We=D()(function(e){return{toolbar:e.mixins.toolbar}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.toolbar})}),He=D()({drawer:{flexShrink:0},drawerRoot:{border:0},titleRoot:{paddingTop:0,paddingBottom:0},drawerPaper:{},chart:{height:"8rem",marginBottom:"1rem"}})(function(e){var t=e.classes,a=e.children;return r.a.createElement(Be.a,{variant:"permanent",anchor:"right",PaperProps:{classes:{root:t.drawerRoot}},className:t.drawer,classes:{paper:t.drawerPaper}},r.a.createElement(We,null),r.a.createElement(qe.a,null),a)}),ze={margin:{bottom:0},axisLeft:null,axisBottom:null,enableGridX:!1,enableGridY:!1,yScale:{type:"linear",stacked:!1,min:0,max:1}},Qe={type:["CPU","Memory","Disk","Network","GPU"],colors:["#A00036","#F46D43","#FEE08B","#A6D96A","#1A9850","#41B6C4"],max:[1,16,"auto","auto","auto"]},Je=D()(function(e){return{drawer:{width:"15rem",flexShrink:0,"@media (max-width: 600px)":{width:"8rem"}},drawerPaper:{width:"15rem","@media (max-width: 600px)":{width:"8rem"}},toolbar:e.mixins.toolbar,chart:{height:"3rem",marginBottom:"1rem"}}})(function(e){var t=e.classes,a=e.overall;return r.a.createElement(He,{classes:{drawer:t.drawer,drawerPaper:t.drawerPaper}},r.a.createElement(Ne.a,null),r.a.createElement(Me.a,null,Qe.type.map(function(e,n){return r.a.createElement(De.a,{button:!0,key:e},r.a.createElement(ye.a,{container:!0,spacing:16},r.a.createElement(ye.a,{item:!0,xs:6},r.a.createElement(ge,{data:a[e]?[a[e]]:[],classes:{root:t.chart},injection:Object(C.a)({},ze,{colors:Qe.colors[n],yScale:Object(C.a)({},ze.yScale,{max:Qe.max[n]})})})),r.a.createElement(ye.a,{item:!0,xs:2},r.a.createElement(Ae.a,{primary:e}))))})),r.a.createElement(Ne.a,null),r.a.createElement(Me.a,null,["Summary","Power"].map(function(e){return r.a.createElement(De.a,{button:!0,key:e},r.a.createElement(Ae.a,{primary:e}))})))}),Ke=function(e){function t(){return Object(le.a)(this,t),Object(ue.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.interval=setInterval(this.props.fetchStatistics,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,{data:e.CPU,overall:e.summary.CPU?[e.summary.CPU]:[]}),r.a.createElement(Je,{overall:e.summary}))}}]),t}(r.a.PureComponent),Xe=D()({})(Ke),Ye=Object(i.b)(function(e){return{data:e.dashboard}},function(e){return{fetchStatistics:function(){return e(ce())}}})(Xe),$e=a(400),Ze=a.n($e),et=a(401),tt=a.n(et),at=a(402),nt=a.n(at),rt=a(403),ot=a.n(rt),it=a(208),ct=a.n(it),lt=a(210),st=a.n(lt),ut=a(287),dt=a.n(ut),mt=a(132),pt=D()(function(e){return{root:{flexShrink:0},titleRoot:{paddingTop:0,paddingBottom:0},drawerPaper:{backgroundColor:e.palette.grey[50]},toolbar:e.mixins.toolbar}})(function(e){var t=e.classes,a=e.sidebarList,n=e.currentPath;return r.a.createElement(Be.a,{variant:"permanent",anchor:"left",className:t.root,classes:{paper:t.drawerPaper}},r.a.createElement(We,null),r.a.createElement(qe.a,null),r.a.createElement(ct.a,null,a.map(function(e){var t=e.url===n,a=t?"primary":null;return r.a.createElement(st.a,{key:e.name,component:function(t){return r.a.createElement(mt.a,Object.assign({to:e.url},t))},selected:t,disabled:e.disabled,button:!0},e.component?r.a.cloneElement(e.component,{color:a||"action"}):null,r.a.createElement(Ae.a,{primary:e.name,primaryTypographyProps:{variant:"subtitle2",noWrap:!0,color:a||"default"}}))})),r.a.createElement(dt.a,null),r.a.createElement(ct.a,null,["Product Retrieval","Training Tracking","System Optimization"].map(function(e){return r.a.createElement(st.a,{button:!0,key:e,disabled:!0},r.a.createElement(Ae.a,{primary:e,primaryTypographyProps:{variant:"subtitle2",noWrap:!0}}))})))}),ht=a(94),ft=a.n(ht),Et={sidebar:{width:"".concat("240px")},sidebarPaper:{width:"".concat("240px")}},vt=D()(Et)(function(e){var t=e.classes,a=e.currentPath;return r.a.createElement(pt,{classes:{root:t.sidebar,drawerPaper:t.sidebarPaper},sidebarList:[{name:"Home",component:r.a.createElement(Ze.a,null),url:"/dashboard/"},{name:"Video",component:r.a.createElement(tt.a,null),url:"/dashboard/video"},{name:"User",component:r.a.createElement(nt.a,null),url:"/dashboard/user"},{name:"Model",component:r.a.createElement(ot.a,null),url:"/dashboard/model"},{name:"Product Search",component:r.a.createElement(ft.a,{className:"fab fa-buysellads"}),url:"/dashboard/ad"}],currentPath:a})}),gt={root:{display:"flex"},grow:{flexGrow:1}},bt=function(e){var t=e.classes,a=e.match;return r.a.createElement("div",{className:t.root},r.a.createElement(vt,{currentPath:a.path}),r.a.createElement("div",{className:t.grow},r.a.createElement(Ye,null)))};bt.propTyps={classes:S.object.isRequired,CPU:S.arrayOf(S.object.isRequired).isRequired};var yt=D()(gt)(bt),_t=a(76),Ct=a.n(_t),Ot=a(13),St=a.n(Ot),jt=a(48),wt=a.n(jt),xt=a(406),Tt=a.n(xt),Rt=a(407),kt=a(4),Ut=a.n(kt),Pt=a(159),Nt=a.n(Pt),It=a(123),Dt=a.n(It),Lt=a(95),At=a.n(Lt),Ft=a(124),Mt=a.n(Ft),Vt=a(125),Bt=a.n(Vt),Gt=a(126),qt=a.n(Gt),Wt=a(213),Ht=a.n(Wt),zt=a(151),Qt=a.n(zt),Jt=D()(function(e){return{root:{borderRadius:e.shape.buttonBorderRadius}}})(function(e){var t=e.classes,a=Object(O.a)(e,["classes"]);return r.a.createElement(Qt.a,Object.assign({classes:{root:t.root}},a))}),Kt=a(404),Xt=a.n(Kt),Yt=D()(function(e){return{overlay:{position:"absolute",height:"100%",opacity:0,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shortest}),"&:hover":{opacity:1}},overlayIcon:{marginRight:e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(St.a,{className:t.overlay,direction:"row",justify:"center",container:!0},r.a.createElement(St.a,{item:!0,style:{margin:"auto"}},r.a.createElement(Xt.a,null)))}),$t=a(5),Zt=a(158),ea=a.n(Zt),ta=a(291),aa=a.n(ta),na=a(110),ra=a.n(na),oa=a(75),ia=a.n(oa),ca=a(32),la=a.n(ca),sa=a(290),ua=a.n(sa),da=a(286),ma=a.n(da),pa=a(405),ha=a.n(pa),fa=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this;function t(e){switch(e){case"small":return"body2";case"inherit":return"inherit";case"large":return"subtitle1";default:return"default"}}var a=this.props,n=a.classes,o=a.menuItems,i=void 0===o?[]:o,c=a.fontSize,l=void 0===c?"default":c,s=a.disable,u=void 0===s?0===i.length:s,d=this.state.open,m="small"===l;return r.a.createElement("div",{className:n.root},r.a.createElement(ea.a,{className:Ut()(n.button,Object($t.a)({},n.buttonMenuOpen,d)),buttonRef:function(t){e.anchorEl=t},"aria-owns":d?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,disabled:u||!1},r.a.createElement(ha.a,{fontSize:l})),u?null:r.a.createElement(ua.a,{open:d,anchorEl:this.anchorEl,transition:!0,disablePortal:!0,style:{zIndex:99}},function(a){var n=a.TransitionProps,o=a.placement;return r.a.createElement(ma.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),r.a.createElement(la.a,null,r.a.createElement(aa.a,{onClickAway:e.handleClose},r.a.createElement(ra.a,{dense:m},i.map(function(e,a){return r.a.createElement(ia.a,{dense:m,key:a,onClick:e.action,component:e.url?function(t){return r.a.createElement("a",Object.assign({href:e.url},t))}:null},r.a.isValidElement(e.id)?r.a.createElement(P.a,{component:"div",variant:t(l)},e.id):e.id)})))))}))}}]),t}(r.a.Component),Ea=D()({root:{},button:{},buttonMenuOpen:{}})(fa),va=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={deleteDialog:!1},a.handleClick=function(e){a.props.disable||e.push("/dashboard/watch?v=".concat(a.props.id))},a.handleDelete=function(){a.props.handleDelete(),a.setState({deleteDialog:!1})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.cover,o=t.name,i=t.description,c=t.processed,l=t.overlay,s=t.disable,u=t.handleProcess,d=this.state.deleteDialog,m=[];return c||m.push({id:"process",action:u}),m.push({id:r.a.createElement(P.a,{component:"div",variant:"body2",color:"error"},"delete"),action:function(){return e.setState({deleteDialog:!0})}}),r.a.createElement(wt.a,{className:Ut()(a.card,a.flat),classes:{root:a.cardPaper}},r.a.createElement(ye.a,{direction:"column",container:!0,spacing:8},r.a.createElement(ye.a,{item:!0},r.a.createElement(wt.a,{className:a.card},r.a.createElement(Ht.a,{render:function(t){var i=t.history;return r.a.createElement(Tt.a,{onClick:function(){return e.handleClick(i)}},s?null:l,r.a.createElement(Rt.a,{className:a.imgCard,component:"img",src:n,alt:o}))}}))),r.a.createElement(ye.a,{item:!0},r.a.createElement(wt.a,{className:a.flat,style:{overflow:"visible"},classes:{root:a.cardPaper}},r.a.createElement(Nt.a,{className:a.description,action:r.a.createElement(Ea,{menuItems:m,fontSize:"small",classes:{button:a.moreButton,buttonMenuOpen:a.moreButtonShow},disable:s}),title:r.a.createElement(P.a,{className:a.title,component:"span",variant:"body1",noWrap:!0},o),subheader:r.a.createElement(P.a,{className:a.title,variant:"body2"},i)})))),r.a.createElement(Dt.a,{classes:{paper:a.dialogPaper},open:d,onClose:function(){return e.setState({deleteDialog:!1})}},r.a.createElement(Mt.a,null,'Delete video "'.concat(o,'"?')),r.a.createElement(At.a,null,r.a.createElement(Bt.a,null,"Deleting model ".concat(o," will also delete all its data. This action\n              cannot be undo.")),r.a.createElement(qt.a,null,r.a.createElement(Jt,{color:"primary",onClick:function(){return e.setState({deleteDialog:!1})}},"Cancel"),r.a.createElement(Jt,{onClick:this.handleDelete},r.a.createElement(P.a,{color:"error"},"Delete Anyway"))))))}}]),t}(n.Component);va.defaultProps={cover:"https://picsum.photos/210/118/?image=".concat(Math.round(200*Math.random())),overlay:r.a.createElement(Yt,null)};var ga=D()(function(e){return{flat:{boxShadow:"inherit",borderRadius:0},card:{display:"inline-block"},cardPaper:{background:"transparent"},imgCard:{width:210,height:118},a:{textDecoration:"none"},description:{padding:[[0,18,0,6]]},moreButton:{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shortest}),"&:not(:hover)":{opacity:0},"&:hover":{backgroundColor:"transparent"}},moreButtonShow:{opacity:[1,"!important"]},title:{width:161}}})(va),ba=a(92),ya=a.n(ba),_a=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).handleDeleteVideo=function(e){return function(){var t=a.props,n=t.handleFetchVideos;(0,t.handleDeleteVideo)(e,n)}},a.handleProcessVideo=function(e){return function(){var t=a.props,n=t.handleFetchVideos;(0,t.handleProcessVideo)(e,n),n()}},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFetchVideos()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.videos;return r.a.createElement(ya.a,{in:!0},r.a.createElement("div",null,n.length?r.a.createElement(St.a,{className:a.root,container:!0,spacing:16}," ",n.map(function(t){return r.a.createElement(St.a,{key:t.id,item:!0},r.a.createElement(ga,{id:t.id.toString(),name:t.name,cover:t.cover,processed:t.processed,handleProcess:e.handleProcessVideo(t.id),handleDelete:e.handleDeleteVideo(t.id),disable:t.isProcessing}))})):r.a.createElement(fe.a,{align:"center"},"There is no uploaded video viewed by you currently.")))}}]),t}(r.a.PureComponent);_a.defaultProps={videos:[]};var Ca=D()({root:{width:"85%",margin:"auto"}})(_a),Oa=a(214),Sa=a.n(Oa);function ja(e){return 0===Object.keys(e).length}function wa(e){var t=Math.floor(e/86400),a=new Date(1e3*e).toISOString().substr(11,8);return t>0?"".concat(t,":").concat(a):a.startsWith("00:")?a.substr(3):a}function xa(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);for(var n="#",r=0;r<3;r++){n+=("00"+(t>>8*r&255).toString(16)).substr(-2)}return n}function Ta(){}function Ra(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}function ka(e,t,a){var n=a.url,r=a.jsonDecoder,o=a.request,i=a.receiveSuccess,c=a.receiveFailure,l=a.progressListener,s=a.formData,u=void 0===s?null:s;switch(t.toString().toUpperCase()){case"GET":return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;e(n());var c=new XMLHttpRequest;return c.open("GET",t,!0),c.onreadystatechange=function(){if(4===c.readyState)if(c.status>=200&&c.status<=300)try{var t=JSON.parse(c.responseText),n=a(t.data);e(r(Object(C.a)({},t,{data:n})))}catch(i){e(o({data:"Error in mapping response json to list"}))}else e(o({data:"Other error: ".concat(c.statusText)}))},c.send(i),c}(e,n,r,o,i,c,u);case"POST":return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;var l=i?function(e){return i(e.lengthComputable,e.loaded,e.total)}:null;e(n());var s=new XMLHttpRequest;return s.open("POST",t,!0),s.withCredentials=!0,s.onload=function(){if(s.status>=200&&s.status<300){var t=JSON.parse(s.responseText),n=a(t.data);e(r(Object(C.a)({},t,{data:n})))}else e(o({data:"".concat(s.status," (").concat(s.statusText,")")}))},s.setRequestHeader("X-CSRFToken",Ra("csrftoken")),s.onprogress=l,s.send(c),s}(e,n,r,o,i,c,l,u);case"PATCH":return function(e,t,a,n,r,o){e(a());var i=new XMLHttpRequest;return i.open("PATCH",t,!0),i.withCredentials=!0,i.onload=function(){i.status>=200&&i.status<300?(window.temp1=i.responseText,console.log(n(JSON.parse(window.temp1))),e(n(JSON.parse(i.responseText)))):e(r({data:"".concat(i.status," Error: ").concat(i.statusText)}))},i.setRequestHeader("X-CSRFToken",Ra("csrftoken")),i.send(o),i}(e,n,o,i,c,u);case"DELETE":return function(e,t,a,n,r,o){e(a());var i=new XMLHttpRequest;return i.open("DELETE",t,!0),i.withCredentials=!0,i.onload=function(){i.status>=200&&i.status<300?e(n(JSON.parse(i.responseText))):e(r({data:"".concat(i.status," Error: ").concat(i.statusText)}))},i.setRequestHeader("X-CSRFToken",Ra("csrftoken")),i.send(o),i}(e,n,o,i,c,u);default:return}}String.prototype.hashCode=function(){var e,t=0;if(0===this.length)return t;for(e=0;e<this.length;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t};var Ua=a(67),Pa=function(){return{type:F}},Na=function(e){return{type:M,status:"FAILURE",reason:e.data}},Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return function(t){ka(t,"GET",{url:"/restapi/videos/",jsonDecoder:Ua.g,request:Pa,receiveSuccess:function(t){return e(),function(e){return{type:M,status:"SUCCESS",videos:e.data,time:e.time}}(t)},receiveFailure:Na})}},Da=function(){return{type:V}},La=function(e){return{type:B,status:"SUCCESS",video:e.data,update:e.update}},Aa=function(e){return{type:B,status:"FAILURE",reason:e.data,update:e.update}},Fa=function(){return{type:G}},Ma=function(e){var t=e.file,a=e.process,n=e.modelTypes,r=e.loadListener,o=void 0===r?Ta:r,i=e.errorListener,c=void 0===i?Ta:i,l=e.progressListener,s=e.abortListener;return function(e){var r=new FormData;r.append("video_file",t,t.name),r.append("name",t.name),a&&r.append("if_process","true"),Object.values(n).map(function(e){return Object.keys(e).filter(function(t){return e[t]})}).reduce(function(e,t){return e.concat(t)}).forEach(function(e){return r.append("models",e.toString())});var i=ka(e,"POST",{url:"/restapi/videos/",request:Fa,receiveSuccess:function(e){return o(),function(e){return{type:q,status:"SUCCESS",data:e.data,time:e.time}}(e)},receiveFailure:function(e){return c(),function(e){return{type:q,status:"FAILURE",reason:e.data}}(e)},progressListener:l,formData:r});return{abort:function(){i.abort(),s()}}}},Va=function(){return{type:z}},Ba=function(e){return{type:Q,status:"FAILURE",reason:e.data}},Ga=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;return function(a){var n=new FormData;n.append("id",e),ka(a,"PATCH",{url:"/restapi/videos/".concat(e,"/"),request:Va,receiveSuccess:function(e){return t(),function(e){return{type:Q,status:"SUCCESS",time:e.time}}(e)},receiveFailure:Ba,formData:n})}},qa=function(){return{type:W}},Wa=function(e){return{type:H,status:"FAILURE",reason:e.data,time:e.time}},Ha=function(e,t){return function(a){ka(a,"DELETE",{url:"/restapi/videos/".concat(e,"/"),request:qa,receiveSuccess:function(e){return t(),function(e){return{type:H,status:"SUCCESS",time:e.time}}(e)},receiveFailure:Wa})}},za=Object(i.b)(function(e){return{videos:e.video.videoList.videos}},function(e){return{handleFetchVideos:function(){return e(Ia())},handleProcessVideo:function(t){return e(Ga(t))},handleDeleteVideo:function(t,a){return e(Ha(t,a))}}})(Ca),Qa=function(){return{type:K}},Ja=function(e){return{type:X,status:"FAILURE",reason:e.data}},Ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return function(t){ka(t,"GET",{url:"/restapi/dlmodels/",jsonDecoder:Ua.b,request:Qa,receiveSuccess:function(t){return e(),function(e){return{type:X,status:"SUCCESS",models:e.data,time:e.time}}(t)},receiveFailure:Ja})}},Xa=function(){return{type:Z}},Ya=function(e){return{type:ee,status:"FAILURE",reason:e.data}},$a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return function(t){ka(t,"GET",{url:"/restapi/defaultdlmodels/",jsonDecoder:Ua.b,request:Xa,receiveSuccess:function(t){return e(),function(e){return{type:ee,status:"SUCCESS",models:e.data,time:e.time}}(t)},receiveFailure:Ya})}},Za=function(){return{type:Y}},en=function(e){return{type:$,status:"SUCCESS",model:e.data,time:e.time}},tn=function(e){return{type:$,status:"FAILURE",reason:e.data}},an=a(409),nn=a(410),rn=a.n(nn),on=a(54),cn=a(127),ln=a.n(cn),sn=a(139),un=a(100),dn=a.n(un),mn=a(81),pn=a.n(mn),hn=a(83),fn=a(163),En=a(35),vn=a(408),gn=a.n(vn),bn={aUnderline:{"&:hover":{textDecoration:"underline"}},aResponsive:{opacity:.7,transition:[["opacity","0.25s","linear","0.1s"]],"&:hover":{opacity:1}}},yn=function(e){var t,a=e.isRouter,n=e.classes,o=e.className,i=e.children,c=e.to,l=void 0===c?"/":c,s=e.variant,u=void 0===s?"h6":s,d=e.color,m=void 0===d?"inherit":d,p=e.paragraph,h=void 0!==p&&p,f=e.noWrap,E=void 0!==f&&f,v=e.animation,g=void 0===v||v;return r.a.createElement("div",{className:o},r.a.createElement(Ce.a,{className:Ut()((t={},Object($t.a)(t,n.aUnderline,h),Object($t.a)(t,n.aResponsive,!h&&g),t)),component:function(e){return a&&!/http[s]?:\/\//.test(l)?r.a.createElement(gn.a,Object.assign({to:l},e)):r.a.createElement("a",Object.assign({href:l},e))},variant:u,color:m,noWrap:E},i))},_n=(Object(En.withStyles)(bn)(function(e){return r.a.createElement(yn,Object.assign({},e,{isRouter:!1}))}),Object(En.withStyles)(bn)(function(e){return r.a.createElement(yn,Object.assign({},e,{isRouter:!0}))})),Cn=["OBJECT","FACE","TEXT","SCENE"],On=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={files:[],process:!0,advanced:!1,formLock:0,modelMutex:!1,defaultModelMutex:!1,modelTypes:{}},a.handleChange=function(e){return function(t){a.setState(Object($t.a)({},e,t.target.checked))}},a.handleChangeModel=function(e,t){return function(n){var r=n.target.checked;a.setState(function(a){return Object(C.a)({},a,{modelTypes:Object(C.a)({},a.modelTypes,Object($t.a)({},e,Object(C.a)({},a.modelTypes[e],Object($t.a)({},t,r))))})})}},a.handleClickUploadBtn=function(){a.pond.processFiles()},a.handleUpload=function(e,t,n,r,o,i,c){var l=a.props.postVideo,s=a.state;l({file:t,process:s.process,modelTypes:s.modelTypes,loadListener:r,errorListener:o,progressListener:i,abortListener:c})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.fetchModelList;(0,t.fetchDefaultModelList)(function(){return e.setState({modelMutex:!0})}),a(function(){return e.setState({defaultModelMutex:!0})})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.models,o=n.defaultModels,i=this.state,c=i.modelTypes,l=i.modelMutex,s=i.defaultModelMutex;l&&s&&Object.keys(r).length&&Object.keys(o).length&&(Cn.forEach(function(e){c[e]={},r[e].forEach(function(t){c[e][t.name]=Object.keys(o).length>0&&o[e].some(function(e){return e.name===t.name})})}),this.setState({modelTypes:c,modelMutex:!1,defaultModelMutex:!1}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.models,o=this.state,i=o.process,c=o.advanced,l=o.formLock,s=o.modelTypes;return r.a.createElement(an.a,{className:a.root},r.a.createElement(Nt.a,{action:r.a.createElement(ea.a,{component:function(e){return r.a.createElement(_n,e)},to:"./"},r.a.createElement(rn.a,null))}),r.a.createElement(on.a,null,r.a.createElement(hn.FilePond,{ref:function(t){return e.pond=t},allowMultiple:!0,instantUpload:!1,server:{process:this.handleUpload},maxFiles:2,fileRenameFunction:function(e){return new Promise(function(t){t(window.prompt("Enter new filename",e.name))})},onupdatefiles:function(t){e.setState({files:t.map(function(e){return e.file})})},acceptedFileTypes:["video/mp4"],onprocessfilestart:function(){return e.setState({formLock:l-1})},onprocessfile:function(){return e.setState({formLock:l+1})}}),r.a.createElement(fe.a,{component:"form",align:"center"},r.a.createElement(dn.a,{component:"fieldset",disabled:l<0},r.a.createElement(sn.a,{control:r.a.createElement(ln.a,{checked:i,onChange:this.handleChange("process",!0),value:"process"}),label:"process"}))),r.a.createElement(pn.a,{in:c&&i,timeout:"auto",unmountOnExit:!0},r.a.createElement(on.a,null," ",Object.keys(s).length?r.a.createElement(dn.a,{component:"fieldset"}," ",Cn.map(function(t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(fe.a,{gutterBottom:!0},t),r.a.createElement(St.a,{className:a.modelSelectionGrid,container:!0,spacing:8},n[t].map(function(a){return r.a.createElement(St.a,{key:a.name,item:!0},r.a.createElement(sn.a,{control:r.a.createElement(fn.a,{checked:s[t][a.name],onChange:e.handleChangeModel(t,a.name)}),label:a.name,disabled:l<0}))})))})):r.a.createElement(fe.a,{align:"center",color:"default"},"No model available now"))),r.a.createElement(St.a,{container:!0,direction:"row"},r.a.createElement(Jt,{onClick:function(){return e.setState({advanced:!c})},variant:c?"outlined":null,color:c?"primary":null,disabled:!i},"Advanced"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Jt,{variant:"text",color:"primary",onClick:this.handleClickUploadBtn,disabled:l<0},"Upload"))))}}]),t}(r.a.Component),Sn=D()(function(e){return{root:{maxWidth:720,margin:"auto"},roundCardAction:{borderRadius:e.shape.borderRadius},upload:{width:224,height:224,opacity:.75,transition:"color 1.1s cubic-bezier(.17,.63,.61,1.06)"},uploadDragover:{backgroundColor:e.palette.primary},uploadInput:{position:"absolute",width:"100%",height:"100%",opacity:0,cursor:"pointer"},formRoot:{display:"flex"},modelSelectionGrid:{paddingBottom:2*e.spacing.unit,"&:last-child":{paddingBottom:0}}}})(On),jn=Object(i.b)(function(e){return{models:e.model.models.models,defaultModels:e.model.defaultModels.models}},function(e){return{fetchModelList:function(t){return e(Ka(t))},fetchDefaultModelList:function(t){return e($a(t))},postVideo:function(t){return e(Ma(t))}}})(Sn),wn=a(152),xn=a.n(wn),Tn=a(49),Rn=a.n(Tn),kn=a(411),Un=a.n(kn),Pn=a(193),Nn=a.n(Pn),In=a(134),Dn=a.n(In),Ln=a(412),An=a.n(Ln),Fn=a(413),Mn=a.n(Fn),Vn=["SUCCESS","FAILURE"],Bn={success:An.a,failure:Mn.a},Gn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClose=function(){a.setState({open:!1})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillUpdate",value:function(e,t,a){e.state.state!==this.props.state.state&&Vn.includes(e.state.state)&&this.setState({open:!0})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.state,o=e.message,i=Object(O.a)(e,["classes","className","state","message"]),c=this.state.open,l=Vn.includes(n.state)?Bn[n.state.toLowerCase()]:ft.a;return o.failure||(o.failure="Some errors happen: ".concat(n.reason)),r.a.createElement(Nn.a,{open:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(xn.a,Object.assign({className:Ut()(t[n.state.toLowerCase()],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:Ut()(t.icon,t.iconVariant)}),o[n.state.toLowerCase()]),action:[r.a.createElement(Rn.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},r.a.createElement(Dn.a,{className:t.icon}))]},i)))}}]),t}(r.a.PureComponent),qn=D()(function(e){return{success:{backgroundColor:Un.a[600]},failure:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(Gn),Wn=Object(i.b)(function(e){return{deleteState:e.video.deleteVideo,updateState:e.video.updateVideo}})(function(e){var t=e.updateState,a=e.deleteState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,{state:t,message:{success:"Process video success"}}),r.a.createElement(qn,{state:a,message:{success:"Delete video success"}}))}),Hn=D()(gt)(function(e){var t=e.classes,a=e.match;return r.a.createElement("div",{className:t.root},r.a.createElement(vt,{currentPath:a.path}),r.a.createElement("div",{className:t.grow},r.a.createElement(Ct.a,null,U({exact:!0,path:"/",component:za}),U({exact:!0,path:"/upload",component:jn})),r.a.createElement(Wn,null)))}),zn=a(440),Qn=a(194),Jn=a.n(Qn),Kn=a(136),Xn=a.n(Kn),Yn=a(415),$n=a(217),Zn=a(215),er=a(221),tr=a(414),ar=a.n(tr),nr=function(e){var t=e.classes,a=e.nameList,n=e.currentUser,o=e.newUser,i=e.handleClick,c=e.handleNewUser;return r.a.createElement(zn.a,{className:t.root,classes:{paper:t.paper},variant:"permanent",anchor:"left",color:"primary",elevation:0},r.a.createElement(We,null),r.a.createElement(Jn.a,null),r.a.createElement(Zn.a,{action:r.a.createElement(er.a,{onClick:c,disabled:o},r.a.createElement(ar.a,{fontSize:"small"}))}),r.a.createElement(Me.a,null,0===Object.keys(a).length?r.a.createElement(De.a,null,r.a.createElement(Xn.a,{inset:!0},"No user currently.")):Object.keys(a).map(function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(De.a,null,r.a.createElement(Xn.a,{primary:e}))," ",a[e].map(function(e){return r.a.createElement(De.a,{key:e,onClick:function(){return i(e)},selected:e===n,button:!0},r.a.createElement(Yn.a,null,r.a.createElement($n.a,null,e.slice(0,2).toUpperCase())),r.a.createElement(Xn.a,{primary:e,primaryTypographyProps:{variant:"subtitle2",noWrap:!0,color:"default"}}))}))})))};nr.defaultProps={currentUser:""};var rr=D()(function(e){return{root:{width:320,flexShrink:0},paper:{width:320,left:240,backgroundColor:e.palette.grey[100]}}})(nr),or=a(128),ir=a.n(or),cr=a(77),lr=a.n(cr);var sr=D()(function(e){return{header:{},section:{},sectionInner:{},cardGridBg:{padding:e.spacing.unit},cardGridSm:{padding:.5*e.spacing.unit},avatar:{width:60,height:60}}})(function(e){var t=e.classes,a=e.user,n=e.handleEdit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.header},r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Jt,{color:"primary",onClick:n},"Edit")),r.a.createElement(lr.a,null,r.a.createElement(St.a,{className:t.cardGridBg,justify:"center",container:!0},r.a.createElement(ir.a,{className:t.avatar},a.username.slice(0,2).toUpperCase())),a.name?r.a.createElement(St.a,{className:t.cardGridSm,justify:"center",container:!0},r.a.createElement(fe.a,{variant:"h6"},a.name)):null,r.a.createElement(St.a,{className:t.cardGridSm,justify:"center",container:!0},r.a.createElement(fe.a,{variant:a.name?"subtitle1":"h6"},a.username)),r.a.createElement(Ne.a,null),r.a.createElement(St.a,{className:t.cardGridSm,spacing:8,container:!0}," ",a.email?r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(fe.a,{color:"primary"},"Email"),r.a.createElement(fe.a,{component:"a",href:"mailto:".concat(a.email)},a.email)):null),r.a.createElement(Ne.a,null),r.a.createElement(St.a,{className:t.cardGridSm,spacing:8,container:!0}," ",0!==a.groups.length?r.a.createElement(St.a,{item:!0},r.a.createElement(fe.a,{color:"primary"},"Group"),r.a.createElement(fe.a,null,a.groups)):null),r.a.createElement(Ne.a,null),r.a.createElement(St.a,{className:t.cardGridSm,spacing:8,container:!0},r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(fe.a,{color:"primary"},"Account Type"),r.a.createElement(fe.a,null,a.accountType)),r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(fe.a,{color:"primary"},"Domain"),r.a.createElement(fe.a,null,a.domain)),r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(fe.a,{color:"primary"},"Status"),r.a.createElement(fe.a,null,a.status)))))}),ur=a(162),dr=a(68),mr=a(43),pr=a.n(mr),hr=a(41),fr=a.n(hr),Er=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={groupOn:[]},a.validation=function(){return a.props.handleUpdateValidation({error:!1}),!1},a.handleChange=function(e,t){var n=a.props,r=n.groups,o=n.onChange,i=Object(dr.a)(r);i[t]=e.target.value,o(i)},a.handleAddGroup=function(){var e=a.props,t=e.groups;(0,e.onChange)([].concat(Object(dr.a)(t),[""]),function(){a.setState(function(e){return{groupOn:[].concat(Object(dr.a)(e.groupOn),[!0])}})})},a.handleOnDrop=function(e){a.setState(function(t){var a=t.groupOn.slice();return a[e]=!1,{groupOn:a}})},a.handleDropGroup=function(e){var t=a.props,n=t.groups,r=t.onChange;n.splice(e,1),r(Object(dr.a)(n),function(){a.setState(function(e){return{groupOn:e.groupOn.filter(function(e){return e})}})})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){this.groupOn=this.props.groups.map(function(){return!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.groups,o=this.state.groupOn;return r.a.createElement("div",null,r.a.createElement(fe.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0},"Groups"),n.map(function(t,n){return r.a.createElement(pn.a,{key:n,in:o[n],onExited:function(){return e.handleDropGroup(n)}},r.a.createElement(fr.a,{in:o[n]},r.a.createElement(St.a,{spacing:8,alignItems:"flex-end",container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement(Rn.a,{onClick:function(){return e.handleOnDrop(n)}},r.a.createElement(ft.a,{className:"fas fa-minus-circle",color:"error",fontSize:"small"}))),r.a.createElement(St.a,null,r.a.createElement(pr.a,{key:n,id:"group-".concat(n),className:a.textField,value:t,onChange:function(t){return e.handleChange(t,n)},onBlur:e.validation,margin:"dense",fullWidth:!0})))))}),r.a.createElement(St.a,{spacing:8,alignItems:"center",justify:"flex-start",container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement(Rn.a,{onClick:this.handleAddGroup},r.a.createElement(ft.a,{className:"fas fa-plus-circle",color:"secondary",fontSize:"small"}))),r.a.createElement(St.a,{item:!0},r.a.createElement(fe.a,{align:"center"},"Add new group"))))}}]),t}(n.Component),vr=D()({textField:{}})(Er),gr=function(e){var t=e.classes,a=e.menuItems,n=e.onChange,o=Object(O.a)(e,["classes","menuItems","onChange"]);return r.a.createElement(pr.a,Object.assign({className:t.textField,onChange:n},o,{select:!0,margin:"dense"}),a.map(function(e){return r.a.createElement(ia.a,{key:e,value:e},e)}))},br=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).validate=function(){var e=a.props,t=e.accountType,n=e.domain,r=e.status,o=e.handleUpdateValidation,i=[t,n,r].map(function(e){return""===e}),c=i.some(function(e){return e});return o({error:c,rest:i}),c},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.accountType,n=e.domain,o=e.error,i=e.status,c=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0},"User Permission"),r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(gr,{id:"accountType",label:"Account Type",classes:t,menuItems:["Administrator","User"],value:a,error:o[0],onChange:c("accountType"),helperText:o[0]?"Account type has to be selected":"",onBlur:this.validate})),r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(gr,{id:"domain",label:"Domain",classes:t,menuItems:["Staff","Public"],value:n,error:o[1],onChange:c("domain"),helperText:o[1]?"Domain has to be selected":"",onBlur:this.validate}))),r.a.createElement(St.a,{xs:!0,item:!0},r.a.createElement(gr,{id:"status",label:"Status",classes:t,menuItems:["Activated","Not Activated"],value:i,error:o[2],onChange:c("status"),helperText:o[2]?"Status has to be selected":"",onBlur:this.validate}))))}}]),t}(r.a.PureComponent);br.defaultProps={error:[]};var yr=D()({textField:{}})(br),_r=a(218),Cr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).validate=function(){var e=a.props,t=e.firstName,n=e.lastName,r=e.handleUpdateValidation,o=[t,n].map(function(e){return""===e}),i=o.some(function(e){return e});return r({error:i,rest:o}),i},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.firstName,n=e.lastName,o=e.error,i=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pr.a,{id:"firstName",className:t.textField,label:"First Name",value:a,error:o[0],onChange:i("firstName"),onBlur:this.validate,required:!0,helperText:o[0]?"This field is required":void 0,margin:"dense"}),r.a.createElement(pr.a,{id:"lastName",className:t.textField,label:"Last Name",value:n,error:o[1],onChange:i("lastName"),onBlur:this.validate,required:!0,helperText:o[0]?"This field is required":void 0,margin:"dense"}))}}]),t}(r.a.PureComponent);Cr.defaultProps={error:[]};var Or=Object(_r.a)({textField:{}})(Cr),Sr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state=Object(C.a)({id:"",firstName:"",lastName:"",username:"",email:"",is_superuser:!1,domain:!1,status:!1,groups:[],validation:{name:{error:!1,rest:void 0},groups:{error:!1,rest:void 0},permissionControl:{error:!1,rest:void 0}},deleteDialog:!1},a.props.user),a.child={name:r.a.createRef(),permissionControl:r.a.createRef()},a.handleChange=function(e){return function(t){a.setState(Object($t.a)({},e,t.target.value))}},a.collectValidation=function(e){return function(t){a.setState(function(a){return Object(C.a)({},a,{validation:Object(C.a)({},a.validation,Object($t.a)({},e,t))})})}},a.handleDelete=function(){a.props.handleDelete(a.state.id),a.setState({deleteDialog:!1})},a.handleSubmit=function(){var e=[];Object.values(a.child).forEach(function(t){return e.push(t.current.validate())}),e.every(function(e){return!e})&&a.props.handleDone(Object(C.a)({},a.state,{validation:void 0,deleteDialog:void 0}))},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.handleCancel,o=this.state,i=o.firstName,c=o.lastName,l=o.username,s=o.email,u=o.accountType,d=o.domain,m=o.status,p=o.groups,h=o.deleteDialog,f=o.validation,E={};return Object.keys(f).forEach(function(e){return E[e]=f[e].rest}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.header},r.a.createElement(Jt,{color:"primary",onClick:n},"Cancel"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Jt,{color:"primary",onClick:this.handleSubmit,disabled:!Object.values(f).every(function(e){return!e.error})},"Done")),r.a.createElement(on.a,null,r.a.createElement("div",{className:a.section},r.a.createElement(St.a,{direction:"row",spacing:8,alignItems:"center",container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement($n.a,null,l.slice(0,2).toUpperCase())),r.a.createElement(St.a,{item:!0},r.a.createElement(Or,{classes:{textField:a.textField},innerRef:this.child.name,firstName:i,lastName:c,handleChange:this.handleChange,error:E.name,handleUpdateValidation:this.collectValidation("name")})))),r.a.createElement("div",{className:a.section},r.a.createElement(P.a,{variant:"subtitle1",color:"textSecondary"},"Personal Information"),r.a.createElement("div",{className:a.sectionInner},r.a.createElement(ur.a,{id:"email",className:a.textField,label:"Email",value:s,onChange:this.handleChange("email"),margin:"dense",fullWidth:!0}))),r.a.createElement("div",{className:a.section},r.a.createElement(vr,{classes:{textField:a.textField},groups:p,onChange:function(t,a){return e.setState({groups:t},a)},handleUpdateValidation:this.collectValidation("groups")})),r.a.createElement("div",{className:a.section},r.a.createElement(yr,{classes:{textField:a.textField},innerRef:this.child.permissionControl,accountType:u,domain:d,status:m,error:E.permissionControl,handleChange:this.handleChange,handleUpdateValidation:this.collectValidation("permissionControl")})),r.a.createElement("div",{className:a.section},r.a.createElement(St.a,{justify:"center",container:!0},r.a.createElement(Jt,{onClick:function(){return e.setState({deleteDialog:!0})}},r.a.createElement(P.a,{color:"error"},"Delete User"))),r.a.createElement(Dt.a,{classes:{paper:a.dialogPaper},open:h,onClose:function(){return e.setState({deleteDialog:!1})}},r.a.createElement(Mt.a,null,'Delete User "'.concat(l,'"?')),r.a.createElement(At.a,null,r.a.createElement(Bt.a,null,"Deleting user ",'"'.concat(l,'"')," will also delete all its data. This action cannot be undo."),r.a.createElement(qt.a,null,r.a.createElement(Jt,{color:"primary",onClick:function(){return e.setState({deleteDialog:!1})}},"Cancel"),r.a.createElement(Jt,{onClick:this.handleDelete},r.a.createElement(P.a,{color:"error"},"Delete Anyway"))))))))}}]),t}(r.a.PureComponent),jr=D()(function(e){return{header:{},textField:{},section:{},sectionInner:{},dialogPaper:{backgroundColor:e.palette.grey[200],opacity:.98}}})(Sr),wr=a(195),xr=a.n(wr),Tr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).validate=function(){var e=a.props,t=""===e.value;return(0,e.handleUpdateValidation)({error:t,rest:t}),t},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.value,n=e.error,o=e.onChange;return r.a.createElement(pr.a,{id:"username",className:t.textField,label:"Username",value:a,error:n,onChange:o,onBlur:this.validate,helperText:n?"This field is required":void 0,required:!0,margin:"dense"})}}]),t}(r.a.PureComponent),Rr=xr()({textField:{}})(Tr),kr=a(196),Ur=a.n(kr),Pr=a(417),Nr=a.n(Pr),Ir=a(418),Dr=a.n(Ir),Lr=["Valid password","Password need to contain at least 1 alphabet, and 1 digit","Password need to be at least 8 characters","Password may not contain space","Your password should contains at least 1 alphabet, 1 digit and 8 characters"],Ar=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={showPassword:!1},a.validate=function(){for(var e=a.props,t=e.value,n=e.handleUpdateValidation,r=4,o=0,i=[/^(?![\s\S])/,/[\s]+/,/^.{0,7}$/,/(?=^[^0-9]*$)|(?=^[^a-zA-Z]*$)/];o<i.length;o++){if(i[o].test(t))break;r--}return n({error:Boolean(r),rest:r}),r},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.value,o=t.error,i=t.onChange,c=this.state.showPassword;return r.a.createElement(pr.a,{id:"password",className:a.textField,type:c?"text":"password",label:"Password",value:n,error:Boolean(o),onChange:i,InputProps:{endAdornment:r.a.createElement(Ur.a,{position:"end"},r.a.createElement(Rn.a,{"aria-label":"Toggle password visibility",onClick:function(){return e.setState({showPassword:!c})}},c?r.a.createElement(Nr.a,null):r.a.createElement(Dr.a,null)))},onBlur:this.validate,required:!0,helperText:void 0===o?Lr[4]:Lr[o],margin:"dense"})}}]),t}(r.a.Component),Fr=Object(_r.a)({textField:{}})(Ar),Mr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state={firstName:"",lastName:"",username:"",password:"",_password:"",email:"",accountType:"",domain:"",status:"",groups:[],showPassword:!1,validation:{username:{error:!1,rest:void 0},password:{error:!1,rest:void 0},name:{error:!1,rest:void 0},groups:{error:!1,rest:void 0},permissionControl:{error:!1,rest:void 0}}},a.child={username:r.a.createRef(),password:r.a.createRef(),name:r.a.createRef(),permissionControl:r.a.createRef()},a.handleChange=function(e){return function(t){a.setState(Object($t.a)({},e,t.target.value))}},a.handleSubmit=function(){var e=[];Object.values(a.child).forEach(function(t){return e.push(t.current.validate())}),e.every(function(e){return!e})&&a.props.handleDone(Object(C.a)({},a.state,{showPassword:void 0,validation:void 0}))},a.collectValidation=function(e){return function(t){a.setState(function(a){return Object(C.a)({},a,{validation:Object(C.a)({},a.validation,Object($t.a)({},e,t))})})}},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.handleCancel,o=this.state,i=o.firstName,c=o.lastName,l=o.username,s=o.password,u=o.email,d=o.groups,m=o.accountType,p=o.domain,h=o.status,f=o.validation,E={};return Object.keys(f).forEach(function(e){return E[e]=f[e].rest}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.header},r.a.createElement(Jt,{color:"primary",onClick:n},"Cancel"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Jt,{color:"primary",onClick:this.handleSubmit,disabled:!Object.values(f).every(function(e){return!e.error})},"Done")),r.a.createElement(on.a,null,r.a.createElement("div",{className:a.section},r.a.createElement("div",{className:a.sectionInner},r.a.createElement(Rr,{classes:{textField:a.textField},innerRef:this.child.username,value:l,onChange:this.handleChange("username"),error:E.username,handleUpdateValidation:this.collectValidation("username")})),r.a.createElement("div",{className:a.sectionInner},r.a.createElement(Fr,{classes:{textField:a.textField},innerRef:this.child.password,value:s,onChange:this.handleChange("password"),error:E.password,handleUpdateValidation:this.collectValidation("password")}))),r.a.createElement("div",{className:a.section},r.a.createElement(P.a,{variant:"subtitle1",color:"textSecondary"},"Personal Information"),r.a.createElement(St.a,{direction:"row",spacing:8,alignItems:"center",container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement(Or,{classes:{textField:a.textField},innerRef:this.child.name,firstName:i,lastName:c,handleChange:this.handleChange,error:E.name,handleUpdateValidation:this.collectValidation("name")}))),r.a.createElement("div",{className:a.sectionInner},r.a.createElement(pr.a,{id:"email",className:a.textField,label:"Email",value:u,onChange:this.handleChange("email"),margin:"dense"}))),r.a.createElement("div",{className:a.section},r.a.createElement(vr,{classes:{textField:a.textField},groups:d,onChange:function(t,a){return e.setState({groups:t},a)},handleUpdateValidation:this.collectValidation("groups")})),r.a.createElement("div",{className:a.section},r.a.createElement(yr,{classes:{textField:a.textField},innerRef:this.child.permissionControl,accountType:m,domain:p,status:h,error:E.permissionControl,handleChange:this.handleChange,handleUpdateValidation:this.collectValidation("permissionControl")}))))}}]),t}(r.a.PureComponent),Vr=D()({header:{},textField:{},section:{},sectionInner:{}})(Mr),Br=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={mount:!1,in:!1},a.handleIn=function(){a.setState({mount:!0,in:!0})},a.handleOnExit=function(){a.setState({in:!1},a.props.onExited)},a.handleOnExited=function(){a.setState({mount:!1})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.props.in?this.handleIn():this.handleOnExit()}},{key:"componentWillUpdate",value:function(e,t,a){e.in!==this.props.in&&(e.in?this.handleIn():this.handleOnExit())}},{key:"render",value:function(){var e=this.props,t=e.transition,a=e.children,n=Object(O.a)(e,["transition","children"]),o=this.state,i=o.mount,c=o.in;return i?r.a.createElement(t,Object.assign({in:c},n,{onExited:this.handleOnExited}),r.a.createElement("div",null,a)):null}}]),t}(r.a.PureComponent),Gr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={edit:!1,newUser:!1,currentUser:""},a.handleOnCreateUser=function(){a.setState({newUser:!0,currentUser:""})},a.handleCreateUser=function(e){a.props.handleNewUser(e,function(){a.setState({newUser:!1}),a.props.fetchUserList()})},a.handleUpdateUser=function(e){a.props.handleUpdateUser(e,function(){return a.setState({edit:!1})})},a.handleDeleteUser=function(e){a.setState({currentUser:""}),a.props.handleDeleteUser(e,a.props.fetchUserList)},a.handleFormCloseFactory=function(e){return function(){a.setState(Object($t.a)({},"".concat(e),!1))}},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchUserList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.users,o=t.nameList,i=this.state,c=i.edit,l=i.newUser,s=i.currentUser,u=n[n.findIndex(function(e){return e.username===s})];return r.a.createElement("div",{className:a.root},r.a.createElement(rr,{nameList:o,currentUser:s,newUser:l,handleNewUser:this.handleOnCreateUser,handleClick:function(t){return e.setState({currentUser:t,newUser:!1,edit:!1})}}),r.a.createElement("div",{className:a.detail},r.a.createElement(Br,{in:l,transition:fr.a},r.a.createElement(Vr,{classes:{header:a.cardHeader,textField:a.textField,section:a.section,sectionInner:a.sectionInner},handleDone:this.handleCreateUser,handleCancel:function(){return e.setState({newUser:!1})}})),u?r.a.createElement(r.a.Fragment,null,r.a.createElement(Br,{in:c,transition:ya.a,timeout:{exit:0}},r.a.createElement(jr,{classes:{header:a.cardHeader,textField:a.textField,section:a.section,sectionInner:a.sectionInner},user:u,handleDone:this.handleUpdateUser,handleCancel:this.handleFormCloseFactory("edit"),handleDelete:this.handleDeleteUser})),r.a.createElement(Br,{in:!c,transition:ya.a,timeout:{exit:0}},r.a.createElement(sr,{classes:{header:a.cardHeader,section:a.section,sectionInner:a.sectionInner},user:u,handleEdit:function(){return e.setState({edit:!0})}}))):null))}}]),t}(r.a.PureComponent),qr=D()(function(e){return{root:{display:"flex"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},section:{padding:[[2*e.spacing.unit,0]],marginTop:e.spacing.unit,"&:first-child":{marginTop:0}},sectionInner:{paddingTop:.5*e.spacing.unit,"&: first-child":{paddingTop:0}},cardHeader:{display:"flex",width:"100%",padding:2*e.spacing.unit},detail:{flex:1,maxWidth:700,margin:"auto"}}})(Gr),Wr=function(){return{type:"USER_GET_LIST_REQUEST"}};function Hr(e){var t={};return e.map(function(e){return e.username}).forEach(function(e){var a=e[0].toUpperCase();a=a.match(/[A-Z]/)?a:a.match(/[0-9]/)?"#":"@",t.hasOwnProperty(a)?t[a].push(e):t[a]=[e]}),t}var zr=function(e){return{type:"USER_GET_LIST_RECEIVE",status:"SUCCESS",users:e.data,nameList:Hr(e.data),time:e.time}},Qr=function(e){return{type:"USER_GET_LIST_RECEIVE",status:"FAILURE",reason:e.data}},Jr=function(){return{type:"USER_LOGOUT_REQUEST"}},Kr=function(e){return{type:"USER_LOGOUT_RECEIVE",status:"SUCCESS",reason:e.data}},Xr=function(){return{type:"USER_DELETE_REQUEST"}},Yr=function(e){return{type:"USER_DELETE_RECEIVE",status:"FAILURE",reason:e.data}},$r=function(){return{type:"USER_POST_REQUEST"}},Zr=function(e){return{type:"USER_POST_RECEIVE",status:"FAILURE",reason:e.data}},eo=function(){return{type:"USER_UPDATE_REQUEST"}},to=function(e){return{type:"USER_UPDATE_RECEIVE",status:"FAILURE",reason:e.data}},ao=Object(i.b)(function(e){return{users:e.user.userList.users,nameList:e.user.userList.nameList}},function(e){return{fetchUserList:function(){return e(function(e){ka(e,"GET",{url:"/restapi/users/",jsonDecoder:Ua.f,request:Wr,receiveSuccess:zr,receiveFailure:Qr})})},handleNewUser:function(t,a){return e(function(e){var t=e.username,a=e.password,n=e.firstName,r=e.lastName,o=e.email,i=e.groups,c=e.accountType,l=e.domain,s=e.status,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;return function(e){var d=new FormData;d.append("username",t),d.append("password",a),d.append("first_name",n),d.append("last_name",r),d.append("email",o),i.forEach(function(e){return d.append("groups",e)}),"Administrator"===c&&d.append("is_superuser","true"),"Staff"===l&&d.append("is_staff","true"),"Activated"===s&&d.append("is_active","true"),ka(e,"POST",{url:"/restapi/users/",request:$r,receiveSuccess:function(e){return u(),function(e){return{type:"USER_POST_RECEIVE",status:"SUCCESS",time:e.time}}(e)},receiveFailure:Zr,formData:d})}}(t,a))},handleUpdateUser:function(t,a){return e(function(e){var t=e.id,a=e.firstName,n=e.lastName,r=e.email,o=(e.password,e.username,e.groups),i=e.accountType,c=e.domain,l=e.status,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;return function(e){var u=new FormData;u.append("id",t),u.append("first_name",a),u.append("last_name",n),u.append("email",r),o.forEach(function(e){return u.append("groups[]",e)}),"Administrator"===i&&u.append("is_superuser","true"),"Staff"===c&&u.append("is_staff","true"),"Activated"===l&&u.append("is_active","true"),ka(e,"PATCH",{url:"/restapi/users/".concat(t,"/"),request:eo,receiveSuccess:function(e){return s(),function(e){return{type:"USER_UPDATE_RECEIVE",status:"SUCCESS",time:e.time}}(e)},receiveFailure:to,formData:u})}}(t,a))},handleDeleteUser:function(t,a){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;return function(a){ka(a,"DELETE",{url:"/restapi/users/".concat(e,"/"),request:Xr,receiveSuccess:function(e){return t(),function(e){return{type:"USER_DELETE_RECEIVE",status:"SUCCESS",time:e.time}}(e)},receiveFailure:Yr})}}(t,a))}}})(qr),no=Object(i.b)(function(e){return{newState:e.user.userNew,updateState:e.user.userUpdate,deleteState:e.user.userDelete}})(function(e){var t=e.newState,a=e.updateState,n=e.deleteState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,{state:t,message:{success:"Create user success"}}),r.a.createElement(qn,{state:a,message:{success:"Update user success"}}),r.a.createElement(qn,{state:n,message:{success:"Delete user success"}}))}),ro=D()(gt)(function(e){var t=e.classes,a=e.match;return r.a.createElement("div",{className:t.root},r.a.createElement(vt,{currentPath:a.path}),r.a.createElement("div",{className:t.grow},r.a.createElement(Ct.a,null,U({exact:!0,path:"/",component:ao})),r.a.createElement(no,null)))}),oo=a(219),io=a.n(oo),co=a(420),lo=a.n(co),so=a(421),uo=a.n(so),mo=a(130),po=a.n(mo),ho=a(423),fo=a.n(ho),Eo=a(200),vo=a.n(Eo),go=a(103),bo=a.n(go),yo=a(201),_o=a.n(yo),Co=a(422),Oo=a.n(Co),So=a(294),jo=a(419),wo=a.n(jo),xo=a(197),To=a.n(xo),Ro=a(198),ko=a.n(Ro),Uo=a(160),Po=a.n(Uo),No=a(85),Io=a.n(No),Do=a(199),Lo=a.n(Do),Ao=function(e){var t=e.classes,a=e.rows;return r.a.createElement(To.a,{className:t.table},r.a.createElement(ko.a,null,r.a.createElement(Po.a,null,r.a.createElement(Io.a,null,"Image"),r.a.createElement(Io.a,{align:"center"},"Name"),r.a.createElement(Io.a,{align:"right"},"Confidence %"))),r.a.createElement(Lo.a,null,a.map(function(e,t){return r.a.createElement(Po.a,{key:t},r.a.createElement(Io.a,{component:"th",scope:"row"},r.a.createElement(ir.a,{src:e.src||"https://api.adorable.io/avatars/285/".concat(e.name)})),r.a.createElement(Io.a,{align:"center"},e.name),e.score?r.a.createElement(Io.a,{align:"right"},Math.round(1e4*e.score)/100):r.a.createElement(Io.a,{align:"center"},"N.A."))})))};Ao.defaultProps={rows:[]};var Fo=D()({})(Ao),Mo=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={tab:"object"},a.handleTabChange=function(e,t){a.setState({tab:t})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.result,o=t.frame,i=this.state.tab,c={};return Object.keys(n).forEach(function(e){return c[e]=n[e][o]||[]}),c.overall=Object.values(c).reduce(function(e,t){return e.concat(t)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.root},r.a.createElement(la.a,{className:a.paper,elevation:0,title:"Analytic result"},r.a.createElement(io.a,{position:"absolute",color:"default",style:{backgroundColor:"white"}},r.a.createElement(So.b,{className:a.toolbar},r.a.createElement(fe.a,{style:{flexGrow:1},variant:"h5",component:"h4"},"Analytic Result"),r.a.createElement(po.a,{style:{flexShrink:0},control:r.a.createElement(vo.a,{checked:"overall"===i,onChange:function(t){return e.handleTabChange(t,"overall")},value:"overall"}),label:"Show Overall"}),r.a.createElement(So.a,null,r.a.createElement(wo.a,null)))),r.a.createElement(We,null),c[i]?r.a.createElement(Fo,{rows:c[i]}):r.a.createElement(fe.a,{align:"center",variant:"subtitle1",color:"textSecondary"},"Not processed by ",i," model")),r.a.createElement(We,null)),r.a.createElement(io.a,{className:a.appBar,position:"absolute",color:"default"},r.a.createElement(_o.a,{value:i,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(bo.a,{className:a.smallTab,label:"Object",icon:r.a.createElement(lo.a,null),value:"object"}),r.a.createElement(bo.a,{className:a.smallTab,label:"Face",icon:r.a.createElement(uo.a,null),value:"face"}),r.a.createElement(bo.a,{className:a.smallTab,label:"Text",icon:r.a.createElement(Oo.a,null),value:"text"}),r.a.createElement(bo.a,{className:a.smallTab,label:"Scene",icon:r.a.createElement(fo.a,null),value:"scene"}),r.a.createElement(bo.a,{style:{display:"none"},value:"overall"}))))}}]),t}(r.a.PureComponent);Mo.defaultProps={result:{object:[],face:[],text:[],scene:[]}};var Vo=D()(function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"scroll"},paper:{flexGrow:1,padding:2*e.spacing.unit,height:"100%",marginBottom:2.5*e.spacing.unit},toolbar:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit},appBar:{top:"auto",bottom:0},smallTab:{minWidth:50}}})(Mo),Bo=a(293),Go=a(424),qo=a.n(Go),Wo=function(e){var t=e.classes,a=e.boxes,n=e.on,i=r.a.createElement(fr.a,{in:n},r.a.createElement("div",{style:{width:"100%",height:"100%"}},a.map(function(e,a){return r.a.createElement("div",{className:t.selector,key:a,style:{borderColor:xa(e.name),left:e.left,right:e.right,top:e.top,bottom:e.bottom}})})));return o.createPortal(i,document.querySelector("#hysia-detectionBox-container"))};Wo.defaultProps={boxes:[]};var Ho=D()(function(e){return{selector:{position:"absolute",border:[["solid",e.palette.secondary.main,"2px"]],boxSizing:"border-box"}}})(Wo),zo=a(416),Qo=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={on:!1},a.handleOpenAd=function(){window.open(a.props.ad.url,"_black"),window.focus()},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillUpdate",value:function(e,t,a){this.setState({on:!ja(e.ad)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.ad,i=this.state.on;return r.a.createElement(zo.a,{in:i},r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.content,style:{backgroundImage:"url(".concat(o.poster||a(810),")")},onClick:this.handleOpenAd},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("div",{className:n.buttonContainer},r.a.createElement(er.a,{classes:{root:n.buttonRoot},onClick:function(){return e.setState({on:!1})}},r.a.createElement(Dn.a,{fontSize:"small"})))))))}}]),t}(r.a.PureComponent);Qo.defaultProps={ad:{}};var Jo,Ko=D()(function(e){return{root:{width:728,maxWidth:"100%",height:90,position:"absolute",bottom:45,left:"50%"},content:{width:"100%",height:"100%",backgroundColor:e.palette.grey[50],backgroundSize:"contain",marginLeft:"-50%",cursor:"pointer"},buttonContainer:{backgroundColor:e.palette.grey[50],opacity:.9},buttonRoot:{padding:6}}})(Qo),Xo=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={load:!1,frame:0,time:0},a.selfDom=null,a.getProgress=function(){return a.state.load?a.dp.video.currentTime/a.dp.video.duration:0},a.handleUpdateFrame=function(){var e=a.props,t=e.handleUpdateParentState,n=e.video,r=a.state.load?Math.floor(a.getProgress()*(n.totalFrame||1)):0;a.setState({frame:r}),t({frame:r})},a.handleUpdateTime=function(){var e=a.props.handleUpdateParentState,t=a.state.load?a.dp.video.currentTime:0;a.setState({time:t}),e({time:t})},a.handleUpdateEvent=function(e){a.props.handleUpdateParentState(function(t){return Object(C.a)({},t,{events:Object(C.a)({},t.events,e)})})},a.handleResize=function(){a.props.handleUpdateParentState({height:a.selfDom?a.selfDom.clientHeight:0})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){this._interval=setInterval(this.handleUpdateFrame,200),this._interval2=setInterval(this.handleUpdateTime,200),this.selfDom=o.findDOMNode(this),window.onresize=this.handleResize}},{key:"componentWillUnmount",value:function(){clearInterval(this._interval),clearInterval(this._interval2)}},{key:"componentWillUpdate",value:function(e,t,a){var n=this,r=e.video;ja(this.props.video)&&!ja(r)&&(this.dp=new qo.a({container:document.getElementById("dplayer-container"),theme:Jo,video:r}),this.dp.on("loadeddata",function(){var e=document.createElement("div");e.setAttribute("id","hysia-detectionBox-container"),e.setAttribute("class",n.props.classes.overlay),document.querySelector("#dplayer-container > div.dplayer-video-wrap").insertBefore(e,document.querySelector("div.dplayer-danmaku")),n.setState({load:!0}),n.handleResize()}),this.dp.on("play",function(){return n.handleUpdateEvent({play:!0,progress:n.getProgress()})}),this.dp.on("pause",function(){return n.handleUpdateEvent({play:!1,progress:n.getProgress()})}),this.dp.on("seeking",function(){return n.handleUpdateEvent({play:!1,progress:n.getProgress()})}),this.dp.on("seeked",function(){return n.handleUpdateEvent({play:!n.dp.video.paused})}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.boxOn,n=e.boxes,o=e.ads,i=this.state.load;return r.a.createElement("div",{className:t.root},r.a.createElement(fe.a,{component:"div",id:"dplayer-container"}),i?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ho,{on:a,boxes:n}),r.a.createElement(Ko,{ad:o})):null)}}]),t}(r.a.PureComponent),Yo=D()(function(e){return Jo=e.palette.secondary.main,{root:{position:"relative"},overlay:{position:"absolute",width:"100%",height:"100%",bottom:0}}})(Xo),$o=a(425),Zo=a.n($o),ei=null,ti=null,ai=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={load:!1},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.wavesurfer=Zo.a.create({container:"#hysia-audioCard-root",waveColor:ti,progressColor:ei,barWidth:5,normalize:!0,scrollParent:!0,hideScrollbar:!0}),this.wavesurfer.on("ready",function(){e.props.onReady(),e.setState({load:!0}),e.handleSync(e.props.events),e.wavesurfer.setMute(!0)}),this.wavesurfer.on("destroy",function(){return e.setState({load:!1})})}},{key:"componentWillUpdate",value:function(e,t,a){var n=e.audio,r=e.events;n&&!this.props.audio&&this.wavesurfer.load(n),this.handleSync(r)}},{key:"handleSync",value:function(e){var t=e.play,a=e.progress;this.state.load&&(this.wavesurfer.seekAndCenter(a),t?this.wavesurfer.play():this.wavesurfer.pause())}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.clickable,n=e.on;return r.a.createElement(pn.a,{in:n},r.a.createElement(fr.a,{in:n},r.a.createElement(lr.a,null,r.a.createElement("div",{className:Ut()(Object($t.a)({},t.root,!a)),id:"hysia-audioCard-root"}))))}}]),t}(r.a.PureComponent);ai.defaultProps={on:!0,onReady:Ta,clickable:!1};var ni=D()(function(e){return ti=e.palette.secondary.main,ei=e.palette.primary.main,{root:{pointerEvents:"none"}}})(ai),ri=a(131),oi=a.n(ri),ii=a(129),ci=a.n(ii),li=D()(function(e){return{root:{width:"100%",height:420,display:"flex",flexDirection:"column",overflowY:"scroll"},paper:{flexGrow:1,padding:2*e.spacing.unit,height:"100%",marginBottom:2.5*e.spacing.unit},toolbar:{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit},appBar:{top:"auto",bottom:0}}})(function(e){var t=e.classes,a=e.result,n=e.frame;return r.a.createElement("div",{className:t.root},r.a.createElement(la.a,{className:t.paper,elevation:0,title:"Audio result"},r.a.createElement(oi.a,{position:"absolute",color:"default",style:{backgroundColor:"white"}},r.a.createElement(ci.a,{className:t.toolbar},r.a.createElement(fe.a,{style:{flexGrow:1},variant:"h5",component:"h4"},"Audio Result"))),r.a.createElement(We,null),r.a.createElement(Fo,{rows:a[n]})))}),si=96,ui=128,di=224,mi=D()(function(e){return{root:{backgroundColor:e.palette.grey[500],borderRadius:e.shape.avatarBorderRadius,backgroundSize:"cover"},smallProps:{height:si,width:si},mediumProps:{height:ui,width:ui},largeProps:{height:di,width:di}}})(function(e){var t=e.classes,a=e.src,n=e.size,o=void 0===n?"medium":n;return r.a.createElement(la.a,{className:Ut()(t.root,t["".concat(o,"Props")]),component:"img",src:a,elevation:1})}),pi=a(63),hi=a.n(pi),fi=function(e){var t=e.classes,a=e.models;return r.a.createElement(wt.a,{className:t.cardRoot,elevation:0},r.a.createElement(hi.a,{title:"Analytic Model"}),r.a.createElement(lr.a,null,r.a.createElement(St.a,{container:!0,spacing:8},a.map(function(e,a){var n=e.hashCode().toString();return r.a.createElement(St.a,{key:a,className:t.grid,item:!0},r.a.createElement(mi,{classes:{root:t.roundCornerAvatar},src:"https://picsum.photos/144?image=".concat(n.substring(n.length-2))}),r.a.createElement(fe.a,{className:t.text,align:"center"},e))}))))},Ei=function(e){var t=e.classes,a=e.scenes,n=e.frame,o=a.findIndex(function(e){return e.start<=n&&e.end>=n});return-1!==o?r.a.createElement(wt.a,{className:t.cardRoot,elevation:0},r.a.createElement(hi.a,{title:"Result statistics",subheader:"Scene ".concat(o+1)}),r.a.createElement(lr.a,null,r.a.createElement(St.a,{container:!0,spacing:8},a[o].results.map(function(e){var a=e.name.hashCode().toString();return r.a.createElement(St.a,{key:e.name,item:!0},r.a.createElement(mi,{classes:{root:t.roundCornerAvatar},src:e.src||"https://picsum.photos/144?image=".concat(a.substring(a.length-3))}),r.a.createElement(fe.a,{align:"center",noWrap:!0},e.name),r.a.createElement(fe.a,{align:"center"},e.appearance))})))):null},vi=D()({cardRoot:{},grid:{width:96},roundCornerAvatar:{width:80,height:80},text:{textOverflow:"ellipsis"}})(function(e){var t=e.classes,a=e.models,n=e.scenes,o=e.frame;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fi,{classes:t,models:a}),r.a.createElement(Ei,{classes:t,scenes:n,frame:o}))}),gi=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={box:!1,audio:!1,frame:0,time:0,height:0,events:{play:!1,progress:0}},a.handleChange=function(e){return function(t){a.setState(Object($t.a)({},e,t.target.checked))}},a.handleResultToBoxes=function(){var e=a.props.video.result,t=(void 0===e?{}:e).visual,n=void 0===t?{}:t;return Object.keys(n).filter(function(e){return"scene"!==e}).map(function(e){return n[e][a.state.frame]||[]}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return Object(C.a)({},e,{left:"".concat(100*e.x1,"%"),right:"".concat(100-100*e.x2,"%"),top:"".concat(100*e.y1,"%"),bottom:"".concat(100-100*e.y2,"%")})})},a.handleProductToAds=function(){var e=a.state.time,t=a.props.video.products,n=(void 0===t?[]:t).filter(function(t){return t.start<=e&&e<=t.end});return n.length?n[Math.floor(Math.random()*n.length)]:{}},a.handleAudioWaveformLoaded=function(){a.setState({audio:!0})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.location;(0,e.fetchVideoInfo)(new URLSearchParams(t.search).get("v"))}},{key:"componentWillUnmount",value:function(){this.props.clearVideoInfo()}},{key:"render",value:function(){var e,t,a,n=this.props,o=n.classes,i=n.video,c=this.state,l=c.box,s=c.audio,u=c.frame,d=c.height,m=c.events,p=i.result,h=void 0===p?{}:p,f=i.audio,E=i.models,v=void 0===E?[]:E,g=i.processed,b=h.visual,y=void 0===b?{}:b,_=h.audio,C=void 0===_?[]:_,O=h.statistics,S=void 0===O?[]:O;return r.a.createElement(St.a,{className:o.root,direction:"row",container:!0,spacing:24},r.a.createElement(St.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(Yo,{boxOn:l,video:i,boxes:this.handleResultToBoxes(),ads:this.handleProductToAds(),handleUpdateParentState:(e=this,t=this.setState,a=["time","frame","height","events"],function(n){"function"!==typeof t&&a?Object.keys(n).map(function(r){Sa()(a.includes(r),"".concat(r," is not a permitted field to set.")),t.bind(e)(n)}):t.bind(e)(n)})}),r.a.createElement(Bo.a,null,r.a.createElement(sn.a,{control:r.a.createElement(fn.a,{value:"box",onChange:this.handleChange("box"),checked:l}),label:"Detection Box",disabled:!g})),r.a.createElement(Bo.a,null,r.a.createElement(sn.a,{control:r.a.createElement(fn.a,{value:"audio",onChange:this.handleChange("audio"),checked:s}),label:"Audio Waveform",disabled:!f})),r.a.createElement(ni,{on:s,audio:f,events:m,onReady:this.handleAudioWaveformLoaded}),r.a.createElement("div",{className:Ut()(o.detectionCardContainer,o.cardRoot,o.detectionContainer),"aria-disabled":!g},r.a.createElement(li,{result:C,frame:Math.round(u*C.length/i.totalFrame)}))),r.a.createElement(St.a,{className:Ut()(o.secondary,o.detectionContainer),item:!0,xs:12,md:4,lg:3,"aria-disabled":!g},r.a.createElement("div",{className:Ut()(o.detectionCardContainer,o.cardRoot),style:{height:d}},r.a.createElement(Vo,{result:y,frame:u})),r.a.createElement(vi,{classes:{cardRoot:o.cardRoot},scenes:S,models:v,frame:u})))}}]),t}(r.a.PureComponent),bi=D()(function(e){return{root:{margin:"auto"},secondary:{position:"relative",overflow:"hidden"},detectionCardContainer:{position:"relative",overflow:"hidden"},cardRoot:{marginBottom:2*e.spacing.unit},detectionContainer:{"&[aria-disabled=true]":{display:"none"}}}})(gi),yi=Object(i.b)(function(e){return{video:e.video.singleVideo.video}},function(e){return{fetchVideoInfo:function(t){return e(function(e){return function(t){ka(t,"GET",{url:"/restapi/videos/".concat(e,"/"),jsonDecoder:Ua.e,request:Da,receiveSuccess:La,receiveFailure:Aa})}}(t))},clearVideoInfo:function(){return e({type:J})}}})(bi),_i=a(426),Ci=a.n(_i);function Oi(e){var t=e.from,a=e.to,n=Object(O.a)(e,["from","to"]);return R(Ci.a,Object(C.a)({from:t,to:a},n))}Oi.propTypes={from:S.string,to:S.string,push:S.bool,exact:S.bool,strict:S.bool};var Si=Oi,ji=a(137),wi=D()(function(e){return{root:{backgroundColor:"transparent",marginBottom:2*e.spacing.unit,maxHeight:210},avatar:{backgroundColor:e.palette.grey[500],borderRadius:e.shape.avatarBorderRadius,height:128,width:128},description:{width:342,height:"100%"},divider:{marginTop:16}}})(function(e){var t=e.classes,a=e.id,n=e.name,o=e.cover;return r.a.createElement(la.a,{className:t.root,elevation:0,component:function(e){return r.a.createElement(mt.a,e)},to:{pathname:"./search",search:"id=".concat(a)}},r.a.createElement(St.a,{spacing:24,container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement(mi,{src:o||"https://picsum.photos/128/?image=".concat(Math.round(200*Math.random()))})),r.a.createElement(St.a,{item:!0,xs:!0},r.a.createElement(St.a,{className:t.description,direction:"column",spacing:16,container:!0},r.a.createElement(St.a,{item:!0,xs:!0},r.a.createElement(fe.a,{variant:"h6",gutterBottom:!0},n||"Title"),r.a.createElement(fe.a,{variant:"body2",gutterBottom:!0},"Hysia Team")),r.a.createElement(St.a,{item:!0},r.a.createElement(Jt,{variant:"contained",color:"primary","aria-label":"details",size:"small"},"Get"))),r.a.createElement(Ne.a,{className:t.divider,variant:"middle"}))))}),xi=a(292),Ti=function(e){function t(){return Object(le.a)(this,t),Object(ue.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchModelList()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.models;return r.a.createElement(xi.a,{in:!0},r.a.createElement("div",{className:t.root},r.a.createElement(hi.a,{action:r.a.createElement(Jt,{component:function(e){return r.a.createElement(mt.a,e)},to:"./upload"},"Add")}),r.a.createElement("div",null,Object.keys(a).length>0?Object.keys(a).map(function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(ji.a,{className:t.divider}),r.a.createElement("div",{className:t.models},r.a.createElement(P.a,{variant:"h5",gutterBottom:!0},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1).toLowerCase())),r.a.createElement(St.a,{spacing:32,container:!0},a[e].map(function(e){return r.a.createElement(St.a,{key:e.id,item:!0},r.a.createElement(wi,e))}))))}):r.a.createElement(P.a,{align:"center"},"You haven't install any model."))))}}]),t}(r.a.PureComponent),Ri=D()(function(e){return{root:{width:"85%",margin:"auto"},models:{padding:[[3*e.spacing.unit,0]]},divider:{margin:[[e.spacing.unit,0]],"&:first-child":{opacity:0}}}})(Ti),ki=Object(i.b)(function(e){return{models:e.model.models.models}},function(e){return{fetchModelList:function(){return e(Ka())}}})(Ri),Ui=a(428),Pi=a.n(Ui),Ni=a(296),Ii=a(297),Di=a(298),Li=a(299),Ai=D()(function(e){return{icon:{display:"block"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit}}})(function(e){var t=e.classes,a=e.iconPosition,n=void 0===a?"right":a,o=e.text,i=e.textProps,c=e.icon,l=e.iconProps,s=r.a.createElement(St.a,{item:!0},r.a.createElement(fe.a,Object.assign({component:"p"},i),o)),u=r.a.createElement(St.a,{item:!0},r.a.createElement(c,Object.assign({className:Ut()(t.icon,t["".concat(n,"Icon")])},l)));return r.a.createElement(St.a,{alignItems:"center",justify:"flex-start",container:!0},"left"===n?r.a.createElement(r.a.Fragment,null,u,s):r.a.createElement(r.a.Fragment,null,s,u))}),Fi=a(295),Mi=a.n(Fi),Vi=a(427),Bi=a.n(Vi),Gi=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state={shareDialog:!1,deleteDialog:!1},a.id="",a.menuItems=[{id:r.a.createElement(Ai,{text:"share",textProps:{variant:"subtitle1"},icon:Bi.a}),action:function(){return a.handleDialog("shareDialog",!0)}},{id:r.a.createElement(Ai,{text:"delete",textProps:{variant:"subtitle1",color:"error"},icon:Pi.a,iconProps:{color:"error"}}),action:function(){return a.handleDialog("deleteDialog",!0)}}],a.handleDelete=function(e){a.handleDialog("deleteDialog",!1),a.props.deleteModel(a.id,function(){return e.push("./")})},a.handleDialog=function(e,t){a.setState(Object($t.a)({},e,t))},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.location,a=e.fetchModel,n=new URLSearchParams(t.search);this.id=n.get("id"),a(this.id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.model,o=this.state,i=o.shareDialog,c=o.deleteDialog;return r.a.createElement("div",{className:a.root},r.a.createElement(Zn.a,{action:r.a.createElement(Ea,{menuItems:this.menuItems,fontSize:"large"}),title:r.a.createElement(St.a,{spacing:40,container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement(mi,{src:n.cover||"https://picsum.photos/224/?random",size:"large"})),r.a.createElement(St.a,{item:!0},r.a.createElement(St.a,{className:a.description,direction:"column",spacing:16,container:!0},r.a.createElement(St.a,{item:!0,xs:!0},r.a.createElement(P.a,{variant:"h4",gutterBottom:!0},n.name),r.a.createElement(P.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0},n.developer)),r.a.createElement(St.a,null,r.a.createElement(Jt,{variant:"outlined",color:"primary",size:"large",disableFocusRipple:!0,disableRipple:!0},"Installed")))))}),r.a.createElement(ji.a,null),r.a.createElement(on.a,null,r.a.createElement(P.a,{variant:"h6",gutterBottom:!0},"Screenshots"),r.a.createElement(St.a,{className:a.snapshot,spacing:8,container:!0}," ",[0,1,2,3,4].map(function(e){return r.a.createElement(St.a,{key:e,item:!0},r.a.createElement(P.a,{className:a.snapshotContent,component:"img",src:"https://picsum.photos/200/300?image=".concat(Math.round(200*Math.random()))}))}))),r.a.createElement(on.a,null,r.a.createElement(P.a,{variant:"h6",gutterBottom:!0},"Description"),r.a.createElement(P.a,{variant:"body2",component:function(e){return r.a.createElement(Mi.a,e)},paragraph:!0})),r.a.createElement(on.a,null,r.a.createElement(P.a,{variant:"h6",gutterBottom:!0},"Information"),r.a.createElement(P.a,{variant:"body2",component:function(e){return r.a.createElement(Mi.a,e)},sentenceLowerBound:1,sentenceUpperBound:2,paragraphLowerBound:1,paragraphUpperBound:2,paragraph:!0})),r.a.createElement(Ni.a,{classes:{paper:a.dialogPaper},open:i,onClose:function(){return e.handleDialog("shareDialog",!1)}},r.a.createElement(Ii.a,null,"Share Model ".concat(n.name)),r.a.createElement(At.a,null,r.a.createElement(Di.a,null,"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam."),r.a.createElement(Li.a,null,r.a.createElement(Jt,{color:"primary",onClick:function(){return e.handleDialog("shareDialog",!1)}},"Ok")))),r.a.createElement(Ni.a,{classes:{paper:a.dialogPaper},open:c,onClose:function(){return e.handleDialog("deleteDialog",!1)}},r.a.createElement(Ii.a,null,'Delete Model "'.concat(n.name,'"?')),r.a.createElement(At.a,null,r.a.createElement(Di.a,null,"Deleting model ",n.name," will also delete all its data. This action cannot be undo."),r.a.createElement(Li.a,null,r.a.createElement(Jt,{color:"primary",onClick:function(){return e.handleDialog("deleteDialog",!1)}},"Cancel"),r.a.createElement(Ht.a,{render:function(t){var a=t.history;return r.a.createElement(Jt,{onClick:function(){return e.handleDelete(a)}},r.a.createElement(P.a,{color:"error"},"Delete Anyway"))}})))))}}]),t}(r.a.PureComponent),qi=D()(function(e){return{root:{width:"85%",margin:"auto"},snapshot:{overflowX:"scroll",flexWrap:"nowrap"},snapshotContent:{flexShrink:0},description:{width:342,height:"100%"},dialogPaper:{backgroundColor:e.palette.grey[200],opacity:.98}}})(Gi),Wi=function(){return{type:ne}},Hi=function(e){return{type:re,status:"FAILURE",reason:e.data}},zi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;return function(a){ka(a,"DELETE",{url:"/restapi/dlmodels/".concat(e,"/"),request:Wi,receiveSuccess:function(e){return t(),function(e){return{type:re,status:"SUCCESS",time:e.time}}(e)},receiveFailure:Hi})}},Qi=Object(i.b)(function(e){return{model:e.model.singleModel.model,deleteState:e.model.deleteModel}},function(e){return{fetchModel:function(t){return e(function(e){return function(t){var a=new FormData;a.append("id",e),ka(t,"GET",{url:"/restapi/dlmodels/".concat(e,"/"),jsonDecoder:Ua.d,request:Za,receiveSuccess:en,receiveFailure:tn,formData:a})}}(t))},deleteModel:function(t,a){return e(zi(t,a))}}})(qi),Ji=function(){return{type:te}},Ki=function(e){return{type:ae,status:"FAILURE",reason:e.data}},Xi=function(e){var t=e.type,a=e.name,n=e.model,r=e.label,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;return function(e){var i=new FormData;i.append("type",t),i.append("name",a),n&&i.append("model",n,n.name),r&&i.append("label",r,r.name),ka(e,"POST",{url:"/restapi/dlmodels/",request:Ji,receiveSuccess:function(e){return o(),function(e){return{type:ae,status:"SUCCESS",time:e.time}}(e)},receiveFailure:Ki,formData:i})}},Yi=function(e){function t(e){var a;if(Object(le.a)(this,t),(a=Object(ue.a)(this,Object(de.a)(t).call(this,e))).handleSubmitWrapper=Object.freeze(function(e){return function(){var t=[];Object.values(a.child).forEach(function(e){return t.push(!e.current.validate())}),t.every(function(e){return e})&&e()}}),a.child={},(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Cannot construct Abstract instances directly");return a}return Object(me.a)(t,e),t}(r.a.PureComponent),$i=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state={error:!1},a.validate=function(){var e=a.props,t=e.value,n=e.initValue,o=r.a.Children.toArray(a.props.children)[0].props.value,i=(void 0!==t?t:o)===n;return a.setState({error:i}),i},a.handleChange=function(e){var t=a.props.bindingChange,n=r.a.Children.toArray(a.props.children)[0].props[t];(void 0===n?Ta:n)(e,a.validate)},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.bindingChange,o=this.state.error,i=r.a.Children.toArray(a);Sa.a.strictEqual(i.length,1,"Expected exactly one child, but got ".concat(i.length));var c=i[0].props.helperText;return r.a.createElement(r.a.Fragment,null,r.a.Children.map(a,function(t){var a;return r.a.cloneElement(t,(a={required:!0,error:o,helperText:o?"This field is required":c},Object($t.a)(a,n,e.handleChange),Object($t.a)(a,"onBlur",e.validate),a))}))}}]),t}(r.a.PureComponent);$i.defaultProps={bindingChange:"onChange"};var Zi=$i,ec=["Object","Face","Text","Scene"],tc=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",type:"",model:null,label:null},a.child={name:r.a.createRef(),type:r.a.createRef()},a.handleDoneWrapper=function(e){return a.handleSubmitWrapper(function(){a.props.handleCreate(Object(C.a)({},a.state),function(){return e.push("./")})})},a.handleChange=function(e){return function(t,n){a.setState(Object($t.a)({},e,t.target.value),n)}},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.name,o=a.type;return r.a.createElement(wt.a,{className:t.root},r.a.createElement(hi.a,{action:r.a.createElement(Rn.a,{component:function(e){return r.a.createElement(mt.a,e)},to:"./"},r.a.createElement(Dn.a,null)),title:"Create a new model"}),r.a.createElement(lr.a,null,r.a.createElement(Zi,{initValue:"",ref:this.child.name},r.a.createElement(ur.a,{className:t.textField,id:"name",label:"Model name",value:n,onChange:this.handleChange("name"),margin:"normal"})),r.a.createElement(Zi,{initValue:"",ref:this.child.type},r.a.createElement(ur.a,{id:"type",label:"Model type",className:t.textField,value:o,onChange:this.handleChange("type"),SelectProps:{MenuProps:{className:t.menu}},helperText:"Please select your model type",margin:"normal",select:!0},ec.map(function(e){return r.a.createElement(ia.a,{key:e.toUpperCase(),value:e.toUpperCase()},e)}))),r.a.createElement(fe.a,{variant:"subtitle1",gutterBottom:!0},"Model file"),r.a.createElement(hn.FilePond,{maxFiles:1,onupdatefiles:function(t){e.setState({model:t.map(function(e){return e.file})})}}),r.a.createElement(fe.a,{variant:"subtitle1",gutterBottom:!0},"Label file"),r.a.createElement(hn.FilePond,{maxFiles:1,onupdatefiles:function(t){e.setState({label:t.map(function(e){return e.file})})}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(w.a,{render:function(t){var a=t.history;return r.a.createElement(Jt,{color:"primary",onClick:e.handleDoneWrapper(a).bind(e)},"Done")}}))))}}]),t}(Yi);tc.propTypes={classes:S.object.isRequired,handleCreate:S.func.isRequired};var ac=D()(function(e){return{root:{maxWidth:720,margin:"auto"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},menu:{width:200}}})(tc),nc=Object(i.b)(function(){return{}},function(e){return{handleCreate:function(t,a){return e(Xi(t,a))}}})(ac),rc=Object(i.b)(function(e){return{deleteState:e.model.deleteModel,newState:e.model.newModel}})(function(e){var t=e.newState,a=e.deleteState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,{state:t,message:{success:"Create model succeed"}}),r.a.createElement(qn,{state:a,message:{success:"Delete model succeed"}}))}),oc=D()(gt)(function(e){var t=e.classes,a=e.match;return r.a.createElement("div",{className:t.root},r.a.createElement(vt,{currentPath:a.path}),r.a.createElement("div",{className:t.grow},r.a.createElement(Ct.a,null,U({exact:!0,path:"/all",component:ki}),U({exact:!0,path:"/search",component:Qi}),U({exact:!0,path:"/upload",component:nc}),Si({from:"/",to:"/all"})),r.a.createElement(rc,null)))}),ic=function(){return{type:"PROD_SEARCH_REQUEST"}},cc=function(e){return{type:"PROD_SEARCH_RECEIVE",status:"SUCCESS",data:e.data,time:e.time}},lc=function(e){return{type:"PROD_SEARCH_RECEIVE",status:"FAILURE",reason:e.data}},sc=function(){return{type:"PROD_INSERT_REQUEST"}},uc=function(e){return{type:"PROD_INSERT_RECEIVE",status:"SUCCESS",data:e.data,time:e.time}},dc=function(e){return{type:"PROD_INSERT_RECEIVE",status:"FAILURE",reason:e.data}},mc=function(e){return{type:"PROD_BIDDING_RECEIVE",status:"FAILURE",reason:e.data}},pc=a(101),hc=a.n(pc),fc=a(93),Ec=a.n(fc),vc=function(e){var t=e.in,a=e.children,n=e.style,o=Object(O.a)(e,["in","children","style"]);return r.a.createElement(pn.a,{in:t,style:n},r.a.createElement(fr.a,Object.assign({in:t},o),a))},gc=a(153),bc=a.n(gc),yc=a(202),_c=a.n(yc),Cc=a(154),Oc=a.n(Cc),Sc=a(203),jc=a.n(Sc),wc={"Product Image":"image","Face Image":"face","Search From":"video"},xc=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null,mount:null,textContent:"",imageContent:[],faceContent:[],videoContent:[]},a.imageRef=r.a.createRef(),a.faceRef=r.a.createRef(),a.popupComponentMapper=function(e){var t=a.props,n=t.classes,o=t.videos,i=a.state,c=i.imageContent,l=i.faceContent,s=i.videoContent;switch(e){case"image":return r.a.createElement(Tc,{innerRef:a.imageRef,fileList:c,updateList:a.handleFileChange("imageContent")});case"face":return r.a.createElement(Tc,{innerRef:a.faceRef,fileList:l,updateList:a.handleFileChange("faceContent")});case"video":return r.a.createElement(Rc,{classes:{root:n.videoListRoot},videoContent:s,videos:o,updateSelection:a.handleVideoContentChange});default:return null}},a.handleClose=function(e){a.state.anchorEl.contains(e.target)||a.setState({anchorEl:null})},a.handleTextChange=function(e,t){a.setState({textContent:e.target.value},t)},a.handleFileChange=function(e){return function(t,n){a.setState(Object($t.a)({},e,t),n)}},a.handleVideoContentChange=function(e){return function(t){var n=t.target.checked;a.setState(function(t){var a=t.videoContent.slice();if(n)a.push(e);else{var r=a.indexOf(e);r>-1&&a.splice(r,1)}return{videoContent:a}})}},a.handleSubmit=a.handleSubmitWrapper(function(){var e=a.state,t=e.textContent,n=e.imageContent,r=e.videoContent;a.props.handleSearch({text:t,img:n.length?n[0]:null,target:r})}),a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.handleGetVideoList)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=this.state,i=o.anchorEl,c=o.mount,l=(o.textContent,Boolean(i));return r.a.createElement(la.a,{className:a.root,elevation:0},r.a.createElement(St.a,{className:a.tools,spacing:16,container:!0},Object.keys(wc).map(function(t){return r.a.createElement(St.a,{className:a.filter,key:t,onClick:function(a){var n=a.currentTarget;e.setState(function(e){return e.anchorEl?{anchorEl:null}:{mount:wc[t],anchorEl:n}})},item:!0},r.a.createElement(fe.a,null,e.state["".concat(wc[t],"Content")].length?"\u25cf ":"","".concat(t," \u25bc")))})),r.a.createElement(hc.a,{open:l,anchorEl:i,onClose:this.handleClose,style:{zIndex:n.zIndex.drawer+1},disablePortal:!0,transition:!0},function(t){var n=t.TransitionProps;return r.a.createElement(fr.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"center top"}}),r.a.createElement(la.a,{className:a.menu},r.a.createElement(Ec.a,{onClickAway:e.handleClose},e.popupComponentMapper(c))))}))}}]),t}(Yi),Tc=function(e){var t=e.innerRef,a=e.fileList,n=e.updateList;return r.a.createElement(hn.FilePond,{ref:t,oninit:function(){return t.current.addFiles(a)},maxFiles:1,files:a,onupdatefiles:function(e,t){return n(e.map(function(e){return e.file}),t)},acceptedFileTypes:["image/*"]})},Rc=function(e){var t=e.classes,a=e.videos,n=e.videoContent,o=e.updateSelection,i=0===n.length;return a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(dn.a,{className:t.root,component:"fieldset",error:i,required:!0},r.a.createElement(bc.a,{component:"legend"},"Video list"),r.a.createElement(_c.a,null,a.map(function(e){return r.a.createElement(po.a,{key:e.id,control:r.a.createElement(ln.a,{checked:n.includes(e.id),onChange:o(e.id),value:"checked"}),label:e.name})})),r.a.createElement(Oc.a,{component:"legend"},"You have to select at least one video"))):r.a.createElement(fe.a,{align:"center"},"No video are available.",r.a.createElement("br",null),r.a.createElement(jc.a,{href:"/dashboard/video/upload"},"Upload a new one?"))};xc.propTypes={classes:S.object.isRequired,theme:S.object.isRequired,videos:S.array.isRequired,handleSearch:S.func.isRequired,handleGetVideoList:S.func.isRequired};D()(function(e){return{root:{backgroundColor:"transparent",width:"90%",margin:"auto",padding:e.spacing.unit},card:{marginBottom:2*e.spacing.unit,position:"relative","&:last-child":{marginBottom:0}},finish:{position:"absolute",right:0},iconButton:{padding:10},tools:{marginTop:e.spacing.unit},filter:{opacity:.7,cursor:"pointer",transition:[["opacity",".2s"]],userSelect:"none","&:hover":{opacity:1},"&:active *":{color:e.palette.primary.main}},menu:{width:420,padding:2*e.spacing.unit,outline:"none",borderRadius:e.shape.buttonBorderRadius},videoListRoot:{width:"100%",padding:e.spacing.unit,maxHeight:800,overflowY:"scroll"}}},{withTheme:!0})(xc);var kc=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null,textContent:"",textDisplay:!0,imgContent:[],imageDisplay:!0,faceContent:[],faceDisplay:!0,video:!0,videoContent:[]},a.child={text:r.a.createRef(),image:r.a.createRef()},a.handleClose=function(e){a.state.anchorEl.contains(e.target)||a.setState({anchorEl:null})},a.handleContentChange=function(e){return function(t,n){return a.setState(Object($t.a)({},e,t.target.value),n)}},a.handleVideoContentChange=function(e){return function(t){var n=t.target.checked;a.setState(function(t){var a=t.videoContent.slice();if(n)a.push(e);else{var r=a.indexOf(e);r>-1&&a.splice(r,1)}return{videoContent:a}})}},a.handleSubmit=a.handleSubmitWrapper(function(){var e=a.state,t=e.textContent,n=e.imgContent,r=e.videoContent;a.props.handleSearch({text:t,img:n.length?n[0]:null,target:r})}),a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.handleGetVideoList)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=t.videos,i=this.state,c=i.anchorEl,l=i.textContent,s=i.imgContent,u=i.videoContent,d=Boolean(c);return r.a.createElement(la.a,{className:a.root,elevation:0},r.a.createElement(St.a,{className:a.card,spacing:8,container:!0},r.a.createElement(St.a,{xs:!0,md:12,lg:!0,item:!0},r.a.createElement(vc,{in:!0},r.a.createElement(wt.a,{className:Ut()(a.card,a.filter)},r.a.createElement(hi.a,{title:"Product Image","aria-label":"product image"}),r.a.createElement(on.a,null,r.a.createElement(Zi,{value:s.length,initValue:0,ref:this.child.image,bindingChange:"onupdatefiles"},r.a.createElement(hn.FilePond,{maxFiles:1,onupdatefiles:function(t,a){e.setState({imgContent:t.map(function(e){return e.file})},a)},acceptedFileTypes:["image/*"]})))))),r.a.createElement(St.a,{xs:!0,md:12,lg:!0,item:!0},r.a.createElement(vc,{in:!0},r.a.createElement(wt.a,{className:Ut()(a.card,a.filter)},r.a.createElement(hi.a,{title:"Face Image","aria-label":"face image"}),r.a.createElement(on.a,null,r.a.createElement(hn.FilePond,{maxFiles:1,onupdatefiles:function(t){e.setState({sceneContent:t.map(function(e){return e.file})})},acceptedFileTypes:["image/*"]}))))),r.a.createElement(St.a,{xs:!0,md:12,lg:!0,item:!0},r.a.createElement(vc,{in:!0},r.a.createElement(wt.a,{className:Ut()(a.card,a.filter)},r.a.createElement(hi.a,{title:"Product Description","aria-label":"product description"}),r.a.createElement(on.a,null,r.a.createElement(Zi,{initValue:"",ref:this.child.text},r.a.createElement(pr.a,{id:"searchPaper-text-input",label:"Text",placeholder:"Any text here...",value:l,onChange:this.handleContentChange("textContent"),multiline:!0,fullWidth:!0,margin:"normal"}))))))),r.a.createElement(St.a,{className:a.card,justify:"flex-end",spacing:8,container:!0},r.a.createElement(St.a,{item:!0},r.a.createElement(Jt,{"aria-owns":d?"fade-menu":void 0,"aria-haspopup":"true",onClick:function(t){var a=t.currentTarget;e.setState(function(e){return e.anchorEl?{anchorEl:null}:{anchorEl:a}})}},u.length?"\u25cf ":"","Video List \u25bc")),r.a.createElement(St.a,{item:!0},r.a.createElement(Jt,{variant:"contained",color:"primary",onClick:this.handleSubmit},"Search"))),r.a.createElement(hc.a,{open:d,anchorEl:c,onClose:this.handleClose,style:{zIndex:n.zIndex.drawer+1},transition:!0},function(t){var n=t.TransitionProps;return r.a.createElement(fr.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"center top"}}),r.a.createElement(la.a,{className:a.menu},r.a.createElement(Ec.a,{onClickAway:e.handleClose},r.a.createElement(Rc,{classes:{root:a.videoListRoot},updateSelection:e.handleVideoContentChange,videos:o,videoContent:u}))))}))}}]),t}(Yi);kc.propTypes={classes:S.object.isRequired,videos:S.array.isRequired,handleSearch:S.func.isRequired,handleGetVideoList:S.func.isRequired};var Uc=D()(function(e){return{root:{backgroundColor:"transparent",width:"90%",margin:"auto",padding:e.spacing.unit},button:{width:"100%"},filter:{minHeight:200,minWidth:360},card:{marginBottom:2*e.spacing.unit,position:"relative","&:last-child":{marginBottom:0}},imgCard:{width:210,height:118},finish:{position:"absolute",right:0},menu:{width:230,padding:2*e.spacing.unit,outline:"none",borderRadius:e.shape.buttonBorderRadius},videoListRoot:{width:"100%",padding:e.spacing.unit,maxHeight:800,overflowY:"scroll"}}},{withTheme:!0})(kc),Pc=Object(i.b)(function(e){return{videos:e.video.videoList.videos}},function(e){return{handleSearch:function(t){return e(function(e){var t=e.text,a=e.img,n=e.face,r=e.target;return function(e){var o=new FormData;t&&o.append("text",t),a&&o.append("img",a,a.name),n&&o.append("face",n),r&&r.length&&o.append("target_videos",r),ka(e,"POST",{url:"/restapi/scenesearch/",request:ic,jsonDecoder:Ua.c,receiveSuccess:cc,receiveFailure:lc,formData:o})}}(t))},handleGetVideoList:function(t){return e(Ia(t))}}})(Uc),Nc=a(204),Ic=a.n(Nc),Dc=a(429),Lc=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={bidPrice:{}},a.handleUpdatePrice=function(e){return function(t){var n=t.target.value;a.setState(function(t){return Object(C.a)({},t.bidPrice,{bidPrice:Object($t.a)({},e.toString(),n)})})}},a.handleBid=function(e,t){a.socket.send(JSON.stringify({item_id:e,price:t}))},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.websocketOnMessage,t="".concat("https:"===window.location.protocol?"wss":"ws","://").concat(window.location.host,"/bidding/stream/"),a=new Dc.a(t);a.onmessage=e,this.socket=a}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.videos,o=t.handleInsert,i=this.state.bidPrice;return r.a.createElement(la.a,{className:a.root,elevation:0},r.a.createElement(fe.a,{variant:"h6",gutterBottom:!0},"Search Result"),ja(n)?r.a.createElement(fe.a,{variant:"subtitle2",color:"textSecondary"},"No result yet, tune your filter condition and try again."):null,r.a.createElement("div",null,Object.keys(n).map(function(t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(fe.a,{component:"div",variant:"subtitle1"},t),r.a.createElement(St.a,{spacing:8,container:!0},n[t].map(function(t){return r.a.createElement(St.a,{key:t.id,item:!0},r.a.createElement(St.a,{className:a.videoGrid,item:!0},r.a.createElement(wt.a,{className:a.card,elevation:0,title:"preview"},r.a.createElement(Ic.a,{className:a.imgCard,component:"img",src:t.cover,alt:t.name}))),r.a.createElement(St.a,{className:a.videoGrid,item:!0},r.a.createElement(fe.a,{gutterBottom:!0},t.id),r.a.createElement(St.a,{direction:"row",spacing:8,container:!0},r.a.createElement(St.a,{item:!0,xs:!0},r.a.createElement(fe.a,null,"Time: ".concat(wa(t.start)," - ").concat(wa(t.end)))),r.a.createElement(St.a,{item:!0},r.a.createElement(Jt,{variant:"contained",color:"primary",size:"small",onClick:function(){return o(t.id)}},"Insert"))),r.a.createElement(fe.a,{variant:"subtitle1",color:"error",gutterBottom:!0},"$".concat(t.price)),r.a.createElement(pr.a,{id:"".concat(t.id),label:"Your bidding price",value:i["".concat(t.id)]||t.price,onChange:e.handleUpdatePrice(t.id),type:"number",className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",style:{width:"100%"}}),r.a.createElement(Jt,{variant:"contained",color:"primary",size:"small",onClick:function(){return e.handleBid(t.id,i[t.id])},style:{width:"100%"}},"Bid Now")))})),r.a.createElement(ji.a,{className:a.divider}))})))}}]),t}(r.a.PureComponent);Lc.defaultProps={videos:{}};var Ac=D()(function(e){return{root:{backgroundColor:"transparent",margin:"auto",padding:e.spacing.unit},card:{display:"inline-block"},cardPaper:{background:"transparent"},imgCard:{width:210,height:118},videoGrid:{width:210,padding:.5*e.spacing.unit},divider:{margin:[["5px","0px"]],"&:last-child":{display:"none"}}}})(Lc),Fc=Object(i.b)(function(e){return{videos:e.product.search.videos}},function(e){return{handleInsert:function(t){return e(function(e){return function(t){var a=new FormData;a.append("scene_id",e),ka(t,"POST",{url:"/restapi/productinsert/",request:sc,receiveSuccess:uc,receiveFailure:dc,formData:a})}}(t))},websocketOnMessage:function(t){return function(e,t){var a,n=JSON.parse(e.data);switch(n.error&&t(mc({reason:n.error})),n.msg_type){case"connected":t({type:"PROD_BIDDING_REQUEST"});break;case"update":t({type:"PROD_BIDDING_RECEIVE",status:"SUCCESS",data:(a={data:Object(Ua.a)(n)}).data,time:a.time});break;default:t(mc({reason:"Unknown message type"}))}}(t,e)}}})(Ac),Mc=D()({root:{width:"85%",margin:"auto"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(Pc,null),r.a.createElement(Fc,null))}),Vc=Object(i.b)(function(e){return{insertState:e.product.insert,searchState:e.product.search}})(function(e){var t=e.insertState,a=e.searchState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,{state:a,message:{success:"Search success."}}),r.a.createElement(qn,{state:t,message:{success:"Insert success."}}))}),Bc=D()(gt)(function(e){var t=e.classes,a=e.match;return r.a.createElement("div",{className:t.root},r.a.createElement(vt,{currentPath:a.path}),r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(Ct.a,null,U({exact:!0,path:"/",component:Mc})),r.a.createElement(Vc,null)))}),Gc=function(){return r.a.createElement(Ct.a,null,U({exact:!0,path:"/",component:yt}),U({path:"/video",component:Hn}),U({path:"/user",component:ro}),U({path:"/model",component:oc}),U({path:"/watch",component:yi}),U({path:"/ad",component:Bc}))},qc=Object(En.withStyles)({root:{maxWidth:300,margin:"auto",padding:"48px 0px","@media (min-width: 600px)":{paddingTop:64,maxWidth:500}},logo:{margin:"auto",maxHeight:382},h4:{lineHeight:"2.5rem",fontWeight:200}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(fe.a,{className:t.logo,variant:"h1",component:"img",align:"center",src:a(822),alt:"hysia-logo"}),r.a.createElement(fe.a,{variant:"h2",align:"center",color:"primary",gutterBottom:!0},"HYSIA"),r.a.createElement(fe.a,{variant:"h4",align:"center",paragraph:!0,className:t.h4},"a low-latency high-throughput video analysis system."),r.a.createElement(fe.a,{variant:"h3",align:"center"},r.a.createElement(_n,{to:"/dashboard/",animation:!1},r.a.createElement(Jt,{variant:"outlined",color:"primary",className:t.button},"Try our dashboard!"))))}),Wc=a(222),Hc=[["GitHub","https://github.com/orgs/cap-ntu/teams/hysia"],["Team","/team"],["Demo","/dashboard/video/upload"]],zc=D()(function(e){return{root:{flexGrow:1,position:"sticky",top:0,paddingTop:20,backgroundColor:e.palette.grey[100],width:"100%",zIndex:1250},container:{width:"70%",maxWidth:1280,margin:[["0px","auto"]]}}})(function(e){var t=e.classes;return r.a.createElement("footer",{className:t.root},r.a.createElement("div",{className:t.container},r.a.createElement(fe.a,{component:"div",variant:"h5",gutterBottom:!0},"Quick Links"),r.a.createElement(St.a,{container:!0,spacing:8},Hc.map(function(e,t){var a=Object(Wc.a)(e,2),n=a[0],o=a[1];return r.a.createElement(St.a,{item:!0,key:t,xs:6},r.a.createElement(_n,{to:o,animation:!1,paragraph:!0},r.a.createElement(fe.a,{variant:"subtitle1",gutterBottom:!0},n)))})),r.a.createElement(fe.a,null,"Hysia 1.0")))}),Qc=D()(function(){return{root:{flexGrow:1}}})(function(e){var t=e.classes,a=document.getElementById("hysia-footer-container");return a&&o.createPortal(r.a.createElement(zc,null),a),r.a.createElement("div",{className:t.root},r.a.createElement(qc,null))}),Jc=a(432),Kc=a.n(Jc),Xc=a(108),Yc=a.n(Xc),$c=a(91),Zc=a(433),el=a.n(Zc),tl=a(430),al=a(431),nl=a.n(al),rl=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ue.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.anchorEl=null,a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a.handleLogout=function(){a.props.handleLogout(function(){a.setState({open:!1},function(){return window.location.reload()}),function(e){var t=("; "+document.cookie).split("; "+e+"=");2===t.length&&(document.cookie=t[0]+t[1].slice((t[1]+";").indexOf(";")))}("csrftoken")})},a}return Object(me.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this;Object(tl.a)(this.props);var t=this.state.open;return Ra("csrftoken")?r.a.createElement("div",null,r.a.createElement(Rn.a,{color:"inherit",buttonRef:function(t){e.anchorEl=t},"aria-haspopup":"true",onClick:this.handleToggle},r.a.createElement(nl.a,null)),r.a.createElement(hc.a,{open:t,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var a=t.TransitionProps;return r.a.createElement(fr.a,a,r.a.createElement(la.a,null,r.a.createElement(Ec.a,{onClickAway:e.handleClose},r.a.createElement(ra.a,null,r.a.createElement(ia.a,{dense:!0},"Welcome"),r.a.createElement(Ne.a,{variant:"middle"}),r.a.createElement(ia.a,{dense:!0,onClick:e.handleLogout},"Logout")))))})):r.a.createElement(Jt,{color:"inherit"},"Login")}}]),t}(r.a.Component),ol=Object(i.b)(function(){return{}},function(e){return{handleLogout:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return function(t){ka(t,"GET",{url:"/restapi/logout/",request:Jr,receiveSuccess:function(t){return e(),{type:"USER_LOGOUT_RECEIVE",status:"SUCCESS"}},receiveFailure:Kr})}}(t))}}})(rl),il={name:["APIs","Hysia Team","Github"],url:["/api","/HysiaTeam","https://github.com/HuaizhengZhang/Hysia"]},cl=Object(En.withStyles)(function(e){return{root:{flexGrow:1,zIndex:e.zIndex.drawer+1,width:"100%"},grow:{flexGrow:1},logo:{marginLeft:-12,marginRight:"8rem"},imgContainer:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},img:{height:36,"@media (max-width: 840px)":{height:0}},headerItem:{marginRight:20},search:Object($t.a)({position:"relative",borderRadius:e.shape.buttonBorderRadius,backgroundColor:Object($c.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($c.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object($t.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t=e.classes;return r.a.createElement(oi.a,{className:t.root,color:"primary",position:"fixed"},r.a.createElement(ci.a,null,r.a.createElement(ye.a,{item:!0,className:t.imgContainer},r.a.createElement("img",{className:t.img,src:a(823),alt:"hysia-logo-small"})),r.a.createElement(_n,{className:t.logo,"aira-label":"hysia",to:"/dashboard",noWrap:!0},"Hysia"),il.name.map(function(e,a){return r.a.createElement(_n,{key:a,"aira-label":e,className:t.headerItem,to:il.url[a],variant:"subtitle1",noWrap:!0},e)}),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:Ut()(t.headerItem,t.search)},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(Kc.a,null)),r.a.createElement(Yc.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput}})),r.a.createElement(_n,{to:"/dashboard/video/upload",animation:!1},r.a.createElement(Rn.a,{color:"inherit"},r.a.createElement(el.a,null))),r.a.createElement(ol,null)))}),ll=_()(),sl=D()(function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100%"},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0,minHeight:"100%"},toolbar:e.mixins.toolbar}})(function(e){var t=e.classes;return r.a.createElement(b.a,{history:ll},r.a.createElement("div",{className:t.root},r.a.createElement(cl,null),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(v.a,null,U({path:"/",exact:!0,component:Qc}),U({path:"/dashboard/",component:Gc}),U({component:N}))),r.a.createElement("div",{id:"hysia-footer-container"})))}),ul=a(161),dl=a(437),ml=a(439),pl={CPU:[],Memory:[],Disk:[],Network:[],GPU:[],summary:{}};function hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={summary:{}};return t.forEach(function(t){var n=e.filter(function(e){return null!==e.id.match(t.toString())});a[t]=n,a.summary[t]=function(e){try{var t=e.length;return{id:"Overall",data:e.map(function(e){return e.data}).reduce(function(e,t){return e.map(function(e,a){return Object(C.a)({},e,{y:e.y+t[a].y})})}).map(function(e){return Object(C.a)({},e,{y:e.y/t})})}}catch(a){}return{id:"Overall",data:[]}}(n)}),a}var fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return e;case A:return"SUCCESS"===t.status?Object(C.a)({},e,hl(t.dataArray,["CPU","Memory","Disk","Network","GPU"])):(console.log(t.error),e);default:return e}};function El(e,t,a){var n=a.request,r=a.receive,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(t.type){case n:return Object(C.a)({},e,{state:"REQUEST"});case r:return"SUCCESS"===t.status?Object(C.a)({},e,{state:"SUCCESS"},o):Object(C.a)({},e,{state:"FAILURE",reason:t.reason});default:return Object(C.a)({},e)}}var vl={videoList:{state:"INIT",time:null,reason:"",videos:[]},singleVideo:{state:"INIT",time:null,video:{}},postVideo:{state:"INIT",reason:"",time:null},updateVideo:{state:"INIT",reason:"",time:null},deleteVideo:{state:"INIT",reason:"",time:null}};var gl={models:{state:"INIT",time:null,reason:"",models:{}},defaultModels:{state:"INIT",time:null,reason:"",models:{}},singleModel:{state:"INIT",time:null,reason:"",model:{}},newModel:{state:"INIT",reason:"",time:null},deleteModel:{state:"INIT",reason:"",time:null}};var bl={userList:{state:"INIT",time:null,reason:"",users:[],nameList:{}},userNew:{state:"INIT",time:null,reason:""},userUpdate:{state:"INIT",time:null,reason:""},userDelete:{state:"INIT",time:null,reason:""}},yl={search:{state:"INIT",time:null,reason:"",videos:{}},insert:{state:"INIT",time:null,reason:""},bidding:{state:"INIT",time:null,reason:"",data:{}}},_l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl,t=arguments.length>1?arguments[1]:void 0,a={};switch(t.type){case"PROD_SEARCH_REQUEST":case"PROD_SEARCH_RECEIVE":return Object(C.a)({},e,{search:El(e.search,t,{request:"PROD_SEARCH_REQUEST",receive:"PROD_SEARCH_RECEIVE"},{videos:t.data})});case"PROD_INSERT_REQUEST":case"PROD_INSERT_RECEIVE":return Object(C.a)({},e,{insert:El(e.insert,t,{request:"PROD_INSERT_REQUEST",receive:"PROD_INSERT_RECEIVE"})});case"PROD_BIDDING_REQUEST":case"PROD_BIDDING_RECEIVE":if("SUCCESS"===t.status){var n=e.search.videos,r=t.data,o=r.id,i=r.price;Object.values(n).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e.id===o})[0].price=i,a={search:Object(C.a)({},e.search,{videos:Object(C.a)({},n)})}}return Object(C.a)({},e,a,{bidding:El(e.bidding,t,{request:"PROD_BIDDING_REQUEST",receive:"PROD_BIDDING_RECEIVE"})});default:return Object(C.a)({},e)}},Cl=Object(ml.a)({dashboard:fl,video:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:case M:return Object(C.a)({},e,{videoList:El(e.videoList,t,{request:F,receive:M},{videos:t.videos})});case V:case B:return Object(C.a)({},e,{singleVideo:El(e.singleVideo,t,{request:V,receive:B},{video:t.video})});case G:case q:return Object(C.a)({},e,{postVideo:El(e.postVideo,t,{request:G,receive:q})});case z:case Q:return Object(C.a)({},e,{updateVideo:El(e.updateVideo,t,{request:z,receive:Q})});case W:case H:return Object(C.a)({},e,{deleteVideo:El(e.deleteVideo,t,{request:W,receive:H})});case J:return Object(C.a)({},e,{singleVideo:{state:"INIT",time:null,video:{}}});default:return Object(C.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_GET_LIST_REQUEST":case"USER_GET_LIST_RECEIVE":return Object(C.a)({},e,{userList:El(e.userList,t,{request:"USER_GET_LIST_REQUEST",receive:"USER_GET_LIST_RECEIVE"},{users:t.users,nameList:t.nameList})});case"USER_POST_REQUEST":case"USER_POST_RECEIVE":return Object(C.a)({},e,{userNew:El(e.userNew,t,{request:"USER_POST_REQUEST",receive:"USER_POST_RECEIVE"})});case"USER_UPDATE_REQUEST":case"USER_UPDATE_RECEIVE":return Object(C.a)({},e,{userUpdate:El(e.userUpdate,t,{request:"USER_UPDATE_REQUEST",receive:"USER_UPDATE_RECEIVE"})});case"USER_DELETE_REQUEST":case"USER_DELETE_RECEIVE":return Object(C.a)({},e,{userDelete:El(e.userDelete,t,{request:"USER_DELETE_REQUEST",receive:"USER_DELETE_RECEIVE"})});default:return Object(C.a)({},e)}},model:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case X:return Object(C.a)({},e,{models:El(e.models,t,{request:K,receive:X},{models:t.models})});case Z:case ee:return Object(C.a)({},e,{defaultModels:El(e.defaultModels,t,{request:Z,receive:ee},{models:t.models})});case Y:case $:return Object(C.a)({},e,{singleModel:El(e.singleModel,t,{request:Y,receive:$},{model:t.model})});case te:case ae:return Object(C.a)({},e,{newModel:El(e.newModel,t,{request:te,receive:ae})});case ne:case re:return Object(C.a)({},e,{deleteModel:El(e.deleteModel,t,{request:ne,receive:re})});default:return Object(C.a)({},e)}},product:_l}),Ol=Object(ul.c)(Cl,Object(ul.a)(dl.a)),Sl=a(438),jl=a.n(Sl),wl=a(109),xl=a(121),Tl=a.n(xl),Rl=Object(En.createGenerateClassName)(),kl=Object(wl.create)(Object(C.a)({plugins:[Object(En.jssPreset)().plugins,Tl()()]},Object(En.jssPreset)()));kl.options.createGenerateClassName=En.createGenerateClassName;var Ul=Object(En.createMuiTheme)({mixins:{toolbar:{minHeight:48,"@media (min-width:0px) and (orientation: landscape)":{minHeight:36},"@media (min-width:600px)":{minHeight:56}}},palette:{primary:{main:"#33ACFF",contrastText:"#f9f9f9"},secondary:{main:"#66EFEF",contrastText:"#363D4E"},error:{main:"#F4606C"}},shape:{borderRadius:8,buttonBorderRadius:4,avatarBorderRadius:16},typography:{useNextVariants:!0}}),Pl=function(e){var t=e.children;return r.a.createElement(jl.a,{jss:kl,generateClassName:Rl},r.a.createElement(En.MuiThemeProvider,{theme:Ul},t))};Object(c.registerPlugin)(s.a,d.a,p.a),o.render(r.a.createElement(Pl,null,r.a.createElement(i.a,{store:Ol},r.a.createElement(sl,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");h?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):f(e)}).catch(function(){console.log("No internet connection found. DetectObjectList is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):f(e)})}}()}},[[493,1,2]]]);
//# sourceMappingURL=main.e8123db9.chunk.js.map